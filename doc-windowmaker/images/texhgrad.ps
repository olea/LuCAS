%!PS-Adobe-2.0 EPSF-2.0
%%Title: /home/avatar/Devel/WM/Manual/texhgrad.ps
%%Creator: XV Version 3.10a  Rev: 12/29/94  -  by John Bradley
%%BoundingBox: 231 385 382 406
%%Pages: 1
%%DocumentFonts:
%%EndComments
%%EndProlog

%%Page: 1 1

% remember original state
/origstate save def

% build a temporary dictionary
20 dict begin

% define space for color conversions
/grays 151 string def  % space for gray scale line
/npixls 0 def
/rgbindx 0 def

% lower left corner
231 385 translate

% size of image (on paper, in 1/72inch coords)
150.98400 21.02400 scale

% define 'colorimage' if it isn't defined
%   ('colortogray' and 'mergeprocs' come from xwd2ps
%     via xgrab)
/colorimage where   % do we know about 'colorimage'?
  { pop }           % yes: pop off the 'dict' returned
  {                 % no:  define one
    /colortogray {  % define an RGB->I function
      /rgbdata exch store    % call input 'rgbdata'
      rgbdata length 3 idiv
      /npixls exch store
      /rgbindx 0 store
      0 1 npixls 1 sub {
        grays exch
        rgbdata rgbindx       get 20 mul    % Red
        rgbdata rgbindx 1 add get 32 mul    % Green
        rgbdata rgbindx 2 add get 12 mul    % Blue
        add add 64 idiv      % I = .5G + .31R + .18B
        put
        /rgbindx rgbindx 3 add store
      } for
      grays 0 npixls getinterval
    } bind def

    % Utility procedure for colorimage operator.
    % This procedure takes two procedures off the
    % stack and merges them into a single procedure.

    /mergeprocs { % def
      dup length
      3 -1 roll
      dup
      length
      dup
      5 1 roll
      3 -1 roll
      add
      array cvx
      dup
      3 -1 roll
      0 exch
      putinterval
      dup
      4 2 roll
      putinterval
    } bind def

    /colorimage { % def
      pop pop     % remove 'false 3' operands
      {colortogray} mergeprocs
      image
    } bind def
  } ifelse          % end of 'false' case



% define the colormap
/cmap 348 string def


% load up the colormap
currentfile cmap readhexstring
000000 080c08 100c10 101010 101410 181018 181418 181818 181c18 201820 
201c20 202020 202420 282028 282428 282828 282c28 302830 302c30 303030 
303430 383038 383438 383838 383c38 403840 403c40 404040 404440 484048 
484448 484848 484c48 504850 504c50 505050 505450 585058 585458 585858 
585c58 605860 605c60 606060 606460 686068 686468 686868 686c68 706870 
706c70 707070 707470 787078 787478 787878 787c78 807880 807c80 808080 
808480 888088 888488 888888 888c88 908890 908c90 909090 909490 989098 
989498 989898 989c98 a098a0 a09ca0 a0a0a0 a0a4a0 a8a0a8 a8a4a8 a8a8a8 
a8aca8 a8b0a8 b0a8b0 b0acb0 b0b0b0 b0b4b0 b0b8b0 b8b4b8 b8b8b8 b8bcb8 
b8c0b8 c0bcc0 c0c0c0 c0c4c0 c0c8c0 c8c4c8 c8c8c8 c8ccc8 d0ccd0 d0d0d0 
d0d4d0 d8d4d8 d8d8d8 d8dcd8 e0dce0 e0e0e0 e0e4e0 e8e4e8 e8e8e8 e8ece8 
f0ecf0 f0f0f0 f0f4f0 f8f4f8 f8f8f8 f8fcf8 
pop pop   % lose return values from readhexstring


% rlecmapimage expects to have 'w h bits matrix' on stack
/rlecmapimage {
  /buffer 1 string def
  /rgbval 3 string def
  /block  384 string def

  % proc to read a block from file, and return RGB data
  { currentfile buffer readhexstring pop
    /bcount exch 0 get store
    bcount 128 ge
    {  % it's a non-run block
      0 1 bcount 128 sub
      { currentfile buffer readhexstring pop pop

        % look up value in color map
        /rgbval cmap buffer 0 get 3 mul 3 getinterval store

        % and put it in position i*3 in block
        block exch 3 mul rgbval putinterval
      } for
      block  0  bcount 127 sub 3 mul  getinterval
    }

    { % else it's a run block
      currentfile buffer readhexstring pop pop

      % look up value in colormap
      /rgbval cmap buffer 0 get 3 mul 3 getinterval store

      0 1 bcount { block exch 3 mul rgbval putinterval } for

      block 0 bcount 1 add 3 mul getinterval
    } ifelse
  } % end of proc
  false 3 colorimage
} bind def


151 21 8			% dimensions of data
[151 0 0 -21 0 21]		% mapping matrix
rlecmapimage

1f7303728270717081706f026f826d6e6d816d6c026c826a6b6a816a6902698267686781
67660266826465648164630263826162618161600260825d5f5d815d5c025c82595b5981
595802588255575581555402548250535081504f024f824c4e4c814c4b024b82484a4881
484702478244464481444302438240424081403f023f823c3e28
827361600160015f825d5f5c025c015b82595b580258015782555754025401530150034f
824c4e4c814c4b024b82484a4881484702478244464481444302438240424081403f023f
823c3e3c813c3b023b82383a3881383702378234363481343302338230323081302f022f
822c2e2c812c2b022b82282a2881282702278224262481242302238220222081201f021f
821c1e1c811c1b021b82181a188118170217811402
8173600160865f5e5d5f5c5d5c875c5b5a595b5859588758575655575455548754535150
534f504f874f4c4f4c4e4b4c4b874b484b484a4748478747444744464344438743404340
423f403f873f3c3f3c3e3b3c3b873b383b383a3738378737343734363334338733303330
322f302f872f2c2f2c2e2b2c2b872b282b282a2728278727242724262324238723202320
221f201f871f1c1f1c1e1b1c1b871b181b181a1718178317141701
827361600160015f015d035c015b0159035801570155035401530150034f824c4e4c814c
4b024b82484a4881484702478244464481444302438240424081403f023f823c3e3c813c
3b023b82383a3881383702378234363481343302338230323081302f022f822c2e2c812c
2b022b82282a2881282702278224262481242302238220222081201f021f821c1e1c811c
1b021b82181a188118170217811402
8173600160815f5d015d035c815b590159035881575501550354815350015081524f014f
824c4e4c824c4d4b014b82484a4882484947014782444644824445430143824042408240
413f013f823c3e3c823c3d3b013b82383a38823839370137823436348234353301338230
32308230312f012f822c2e2c822c2d2b012b82282a288228292701278224262482242523
0123822022208220211f011f821c1e1c821c1d1b011b82181a1882181917011782141601

827361600160015f825d5f5c025c015b82595b580258015782555754025401530150034f
824c4e4c814c4b024b82484a4881484702478244464481444302438240424081403f023f
823c3e3c813c3b023b82383a3881383702378234363481343302338230323081302f022f
822c2e2c812c2b022b82282a2881282702278224262481242302238220222081201f021f
821c1e1c811c1b021b82181a188118170217811402
8173600160865f5e5d5f5c5d5c875c5b5a595b5859588758575655575455548754535150
534f504f874f4c4f4c4e4b4c4b874b484b484a4748478247447383734643738373434073
027381403f873f3c3f3c3e3b3c3b823b387384733a373837873734373436333433873330
3330322f302f872f2c2f2c2e2b2c2b872b282b282a272827872724272426232423872320
2320221f201f871f1c1f1c1e1b1c1b871b181b181a1718178317141701
827361600160015f015d035c015b0159035801570155035401530150034f824c4e4c814c
4b024b82484a488148470247017301440173014301730140033f823c3e3c813c3b023b01
73013803378234363481343302338230323081302f022f822c2e2c812c2b022b82282a28
81282702278224262481242302238220222081201f021f821c1e1c811c1b021b82181a18
8118170217811402
8173600160815f5d015d035c815b590159035881575501550354815350015081524f014f
824c4e4c824c4d4b014b82484a4882484947014781447383734445738373434073027381
3f7382733c7384733c3d3b73827338738373383973027382363473817333813373837332
307381732f012f822c2e2c822c2d2b012b82282a28822829270127822426248224252301
23822022208220211f011f821c1e1c821c1d1b011b82181a1882181917011782141601
827361600160015f825d5f5c025c015b82595b580258015782555754025401530150034f
824c4e4c814c4b024b82484a48814847024782447344814473817343834373427382733f
730173813c7382733c7382733b7301738138738173378137738273367381733381337383
7330327381732f022f822c2e2c812c2b022b82282a288128270227822426248124230223
8220222081201f021f821c1e1c811c1b021b82181a188118170217811402
8173600160865f5e5d5f5c5d5c875c5b5a595b5859588758575655575455548754535150
534f504f874f4c4f4c4e4b4c4b874b484b484a4748478347444773827343738273437382
7340738273407383733c3f7382733b7383733b387382733a738173378137738373343673
827333738273337383732f302f872f2c2f2c2e2b2c2b872b282b282a2728278727242724
262324238723202320221f201f871f1c1f1c1e1b1c1b871b181b181a1718178317141701

827361600160015f015d035c015b0159035801570155035401530150034f824c4e4c814c
4b024b82484a48814847024781447382734473827343738273427382733f7383733f3c73
82733c7381733b813b738273387381733781377383733634738273337382733073827330
2f022f822c2e2c812c2b022b82282a288128270227822426248124230223822022208120
1f021f821c1e1c811c1b021b82181a188118170217811402
8173600160815f5d015d035c815b590159035881575501550354815350015081524f014f
824c4e4c824c4d4b014b82484a4882484947014783444644738173438143738373424073
82733f7383733c3e7382733d7383733b3873827338738173378137738173348134738273
3373827332738273312f012f822c2e2c822c2d2b012b82282a2882282927012782242624
822425230123822022208220211f011f821c1e1c821c1d1b011b82181a18821819170117
82141601
827361600160015f825d5f5c025c015b82595b580258015782555754025401530150034f
824c4e4c814c4b024b82484a48814847024782444673817343814373837340427382733f
7383733f3c7382733c7382733b7301738138738173378137738273363481347381733381
337381733081302f022f822c2e2c812c2b022b82282a2881282702278224262481242302
238220222081201f021f821c1e1c811c1b021b82181a188118170217811402
8173600160865f5e5d5f5c5d5c875c5b5a595b5859588758575655575455548754535150
534f504f874f4c4f4c4e4b4c4b874b484b484a4748478447444744738373444373837343
40738273407383733c3f7383733b3c738273387383733a37730273843734363373837333
30738473322f302f872f2c2f2c2e2b2c2b872b282b282a27282787272427242623242387
23202320221f201f871f1c1f1c1e1b1c1b871b181b181a1718178317141701
827361600160015f015d035c015b0159035801570155035401530150034f824c4e4c814c
4b024b82484a4881484702478244464481444302438240424081403f023f823c3e3c813c
3b023b82383a3881383702378234363481343302338230323081302f022f822c2e2c812c
2b022b82282a2881282702278224262481242302238220222081201f021f821c1e1c811c
1b021b82181a188118170217811402
8173600160815f5d015d035c815b590159035881575501550354815350015081524f014f
824c4e4c824c4d4b014b82484a4882484947014782444644824445430143824042408240
413f013f823c3e3c823c3d3b013b82383a38823839370137823436348234353301338230
32308230312f012f822c2e2c822c2d2b012b82282a288228292701278224262482242523
0123822022208220211f011f821c1e1c821c1d1b011b82181a1882181917011782141601

827361600160015f825d5f5c025c015b82595b580258015782555754025401530150034f
824c4e4c814c4b024b82484a4881484702478244464481444302438240424081403f023f
823c3e3c813c3b023b82383a3881383702378234363481343302338230323081302f022f
822c2e2c812c2b022b82282a2881282702278224262481242302238220222081201f021f
821c1e1c811c1b021b82181a188118170217811402
8173600160865f5e5d5f5c5d5c875c5b5a595b5859588758575655575455548754535150
534f504f874f4c4f4c4e4b4c4b874b484b484a4748478747444744464344438743404340
423f403f873f3c3f3c3e3b3c3b873b383b383a3738378737343734363334338733303330
322f302f872f2c2f2c2e2b2c2b872b282b282a2728278727242724262324238723202320
221f201f871f1c1f1c1e1b1c1b871b181b181a1718178317141701
827361600160015f015d035c015b0159035801570155035401530150034f824c4e4c814c
4b024b82484a4881484702478244464481444302438240424081403f023f823c3e3c813c
3b023b82383a3881383702378234363481343302338230323081302f022f822c2e2c812c
2b022b82282a2881282702278224262481242302238220222081201f021f821c1e1c811c
1b021b82181a188118170217811402
81734b014b814a4801480347814644014403438142400140033f813e3c013c813d3b013b
82383a3882383937013782343634823435330133823032308230312f012f822c2e2c822c
2d2b012b82282a2882282927012782242624822425230123822022208220211f011f821c
1e1c821c1d1b011b82181a1882181917011782141614821415130113821012108210110f
010f820c0e0c820c0d0b010b82080a088208090701078204060482040503010382010200


%
% Compression made this file 37.30% of the uncompressed size.
%


showpage

% stop using temporary dictionary
end

% restore original state
origstate restore

%%Trailer
