<!-- $Id: ch19.sgm,v 1.14 2002/11/17 04:22:25 pakojavi2000 Exp $ -->
<!--
Nota legal:

   Linux Network Administration Guide, por Olaf Kirch et al.

   La traducción al español se publica bajo la licencia GFDL,
siendo texto de portada el siguiente:

Linux Network Administrator's Guide
by Olaf Kirch and Terry Dawson
Copyright  (c) 1993 Olaf Kirch
Copyright  (c) 2000 Terry Dawson
Copyright on O'Reilly printed version (c) 2000 O'Reilly & Associates

y siendo secciones invariantes, la sección de Agradecimientos,
la sección titulada «La traducción al español», el apéndice C; así
como esta nota.

Capítulo traducido por:

	Jose M. Fernández, elzo@iespana.es
Revisión 1 por Francisco Javier Fernández
Glosario:
"pipe": tubería, entubamiento, dirección de la salida de un programa a la entrada de otro. (NO se traduce)

Marcas: 
REVISION1
-->
<chapter id="X-087-2-exim"><title>Poner Exim en marcha</title>
<para>
En este capítulo se ofrece una rápida introducción a la instalación de Exim
y un vistazo a su funcionalidad. Aunque Exim es muy compatible con 
<command>sendmail</command> en su comportamiento, sus ficheros de configuración
son completamente diferentes.
</para>

<para>
<indexterm><primary>Exim</primary><secondary>ficheros de configuración</secondary></indexterm> 
El principal fichero de configuración se llama normalmente
<filename>/etc/exim.conf</filename> o <filename>/etc/exim/config</filename>
en la mayoría de las distribuciones de GNU/Linux, o 
<filename>/usr/lib/exim/config</filename> en configuraciones más antiguas. 
Puede averiguar dónde se encuentra el fichero de configuración ejecutando la 
orden:

<screen>
$ <userinput>exim -bP configure_file</userinput>
</screen>
</para>

<para>
Quizá tenga que editar el fichero de configuración para reflejar los valores 
específicos de su sistema. En las configuraciones más comunes no hay 
mucho que cambiar, y una configuración que funcionase raramente tendría que 
modificarse. </para>

<para>
<indexterm><primary>correo</primary><secondary>cola de</secondary></indexterm>
De manera predeterminada, Exim procesa y envía todo el correo al instante. Si 
sufre un tráfico relativamente alto, también puede hacer que Exim recoja todos 
los mensajes en la <emphasis>cola de correo</emphasis> y sólo los procese a 
intervalos regulares.
</para>

<para>
<indexterm><primary>Exim</primary><secondary>modo demonio</secondary></indexterm>
Cuando gestiona correo en una red TCP/IP, Exim se ejecuta frecuentemente
en modo demonio: durante el arranque del sistema
<filename>/etc/init.d/exim</filename>lo invoca.<footnote id="X-087-2-FNEX01">
<para>
Otros lugares posibles son
<filename>/etc/rc.d/init.d</filename> y
<filename>rc.inet2</filename>. El último es común en sistemas que
usen una estructura al estilo BSD para los ficheros de administración del 
sistema en el directorio
<filename>/etc</filename>.
</para>
</footnote>
y se coloca en segundo plano, donde espera conexiones TCP entrantes
por el puerto SMTP (normalmente el puerto 25). Esto resulta beneficioso cuando 
se tiene un tráfico significativo porque así Exim no tiene que iniciarse para 
cada conexión entrante. De manera alternativa, <command>inetd</command> puede 
gestionar el puerto SMTP y lanzar a Exim cuando haya una conexión  
en ese puerto. Esta configuración puede resultar útil si dispone de una memoria 
limitada y volúmenes bajos de tráfico.
</para>

<para>
<indexterm><primary>Exim</primary><secondary>utilidades de</secondary></indexterm>
<INDEXTERM><PRIMARY>Exim</PRIMARY><SECONDARY>enlaces simbólicos a</SECONDARY></INDEXTERM>
Exim posee un complicado conjunto de opciones por línea de órdenes, incluyendo 
muchas que coinciden con las de sendmail. En vez de intentar reunir todas las opciones 
que se ajusten exactamente a sus necesidades, puede implementar los tipos más comunes 
de operaciones invocando órdenes tradicionales como
<command>rmail</command> o <command>rsmtp</command>. Se trata de enlaces 
simbólicos a Exim (y si no, puede enlazarlos fácilmente). Cuando ejecute una 
de las órdenes, Exim comprobará el nombre que usó para invocarlo y él mismo 
usará las opciones adecuadas.
</para>

<para>
Hay dos enlaces a Exim que debería tener bajo cualquier circunstancia:
<command>/usr/bin/rmail</command> y <command>/usr/sbin/sendmail</command>.<footnote
id="X-087-2-FNEX02"><para>
Éste es el nuevo lugar estándar de <command>sendmail</command> de acuerdo con
el Estándar para el Sistema de Ficheros en GNU/Linux. Otro lugar común es
<filename>/usr/lib/sendmail</filename>, que está más orientado a que lo usen
programas de correo que no estén especialmente configurados para GNU/Linux.
Puede definir estos dos nombres de ficheros como enlaces simbólicos hacia
Exim para que los programas y guiones que invoquen a <emphasis>sendmail</emphasis> 
invoquen a Exim en su lugar para que haga las mismas cosas.
</para>
</footnote>
Cuando compone y envía un mensaje de correo electrónico con un cliente como
<command>elm</command>, el mensaje se traslada a <command>sendmail</command>
o a <command>rmail</command> para que lo envíen, que es por lo que
<command>/usr/sbin/sendmail</command> y <command>/usr/bin/rmail</command>
deberían apuntar a Exim. La lista de receptores para el mensaje se le pasa 
a Exim por la línea de órdenes.<footnote id="X-087-2-FNEX03"><para>
De todos modos, algunos clientes usan el protocolo SMTP para pasarle los 
mensajes al agente de transporte, llamándole con la opción 
<option>&ndash;bs</option>.
</para>
</footnote>
Lo mismo sucede con el correo que entra por UUCP. Puede configurar los nombres 
de las rutas requeridas para que apunten a Exim introduciendo lo siguiente en 
el indicador del intérprete de órdenes:

<screen>
$ <userinput>ln -s /usr/sbin/exim /usr/bin/rmail</userinput>
$ <userinput>ln -s /usr/sbin/exim /usr/sbin/sendmail</userinput>
</screen>
</para>

<para>
Si quiere profundizar en los detalles de la configuración de Exim, debería 
consultar la especificación de Exim al completo. Si su distribución de GNU/Linux 
favorita no la incluye, puede obtenerla de las fuentes de Exim, o leerla en 
línea desde el sitio web de Exim en:
<systemitem role="url">http://www.exim.org</systemitem>.
</para>

<sect1><title>Ejecución de Exim</title>

<para>
<indexterm><primary>Exim</primary><secondary>en marcha</secondary></indexterm>
Para ejecutar Exim, primero debe decidir si quiere que gestione los mensajes por 
SMTP entrantes ejecutándose como un demonio separado, o si quiere que
<command>inetd</command> se encargue del puerto SMTP invocando a Exim sólo 
cuando se solicite una conexión SMTP desde el cliente. Normalmente preferirá 
que funcione como demonio porque eso cargará menos el anfitrión que iniciar Exim 
una y otra vez en cada conexión. Como el servidor de correo traslada la mayoría
del correo entrante directamente a los usuarios, debería encargarle la gestión 
a <command>inetd</command> en la mayoría del resto de anfitriones.
</para>

<para>
<indexterm><primary>SMTP (Protocolo para la Transferencia Sencilla de Correo)</primary><secondary>servicio</secondary></indexterm>
<indexterm><primary sortas="etc/services file">fichero /etc/services</primary></indexterm> 
Sea cual sea el modo de funcionamiento para cada anfitrión, tiene que asegurarse
de tener la siguiente entrada en su fichero
<filename>/etc/services</filename>:

<screen>
smtp            25/tcp          # Simple Mail Transfer Protocol
</screen>
</para>

<para>
Esto define el número del puerto TCP que se usará en las comunicaciones SMTP.
El puerto 25 es el estándar definido por el RFC de &ldquo;Números Asignados&rdquo;
(RFC-1700).
</para>

<para>
Cuando se ejecuta como demonio, Exim se coloca en segundo plano y espera 
conexiones por el puerto SMTP. Cuando se da una conexión se bifurca y el 
proceso hijo lleva a cabo una conversación SMTP con el proceso compañero del 
anfitrión que llama.  El demonio Exim se inicia normalmente invocándolo desde 
el guión
<filename>rc</filename> durante el arranque por medio de la siguiente orden:

<screen>
/usr/sbin/exim -bd -q15m
</screen>
</para>

<para>
La opción <option>&ndash;bd</option> activa el modo demonio y
<option>&ndash;q15m</option> hace que procese los mensajes que se hayan 
acumulado en la cola durante los últimos quince minutos.
</para>

<para>
<indexterm><primary>inetd, superservidor</primary><secondary>ejecutar Exim bajo el</secondary></indexterm>
<indexterm><primary sortas="etc/inetd.conf file">fichero /etc/inetd.conf</primary></indexterm> 
Si quiere usar <command>inetd</command> su fichero
<filename>/etc/inetd.conf</filename> debería contener una línea como ésta:

<screen>
smtp    stream  tcp nowait  root  /usr/sbin/exim  in.exim -bs
</screen>
</para>

<para>
Recuerde que tiene que hacer que <command>inetd</command> relea
<filename>inetd.conf</filename> enviándole una señal
<systemitem role="keyword">HUP</systemitem> tras 
realizar cualquier cambio.<footnote id="X-087-2-FNEX04"><para>
Use <literal>kill HUP</literal> <replaceable>pid,</replaceable> siendo <replaceable>pid</replaceable> 
el ID del proceso que <command>inetd</command> obtiene a partir de un listado de 
<command>ps</command>.
</para>
</footnote>
</para>

<para>
Los modos demonio e <command>inetd</command> se excluyen mutuamente. Si
ejecuta Exim como demonio, debería asegurarse de descomentar cualquier línea de
<filename>inetd.conf</filename> para el servicio
<systemitem role="keyword">smtp</systemitem>. De manera equivalente, cuando
<command>inetd</command> se encargue de Exim, asegúrese de que ningún guión
<filename>rc</filename> inicie el demonio Exim.
</para>

<para>
Puede comprobar si Exim está instalado correctamente para recibir mensajes SMTP
entrantes conectándose por telnet al puerto SMTP de su anfitrión. Una conexión 
con éxito al servidor SMTP sería algo así como esto:

<screen>
$ <userinput>telnet localhost smtp</userinput>
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
220 richard.vbrew.com ESMTP Exim 3.13 #1 Sun, 30 Jan 2000 16:23:55 +0600
<userinput>quit</userinput>
221 richard.brew.com closing connection
Connection closed by foreign host.
</screen>
</para>

<para>
Si esta prueba no genera la leyenda del SMTP (la línea que comienza con el 
código 220), compruebe si está ejecutando un demonio Exim o si 
<command>inetd</command> está configurado correctamente. Si eso no lo resuelve 
mire en los ficheros de bitácora de Exim (que se describen a continuación) en 
caso de que haya algún error en el fichero de configuración de Exim.
</para>

</sect1>

<sect1><title>Si el correo no llega a su destino</title>
<para>
<indexterm><primary>Exim</primary><secondary>resolución de problemas</secondary></indexterm>
<indexterm><primary>Exim</primary><secondary>ficheros de registro</secondary></indexterm>
Hay disponibles algunas características por si tiene problemas con la 
instalación. El primer lugar donde mirar es en los ficheros de registro de Exim. En los sistemas GNU/Linux 
normalmente se encuentran en <filename>/var/log/exim/log</filename> y se llaman
<filename>exim_mainlog</filename>, <filename>exim_rejectlog</filename> y
<filename>exim_paniclog</filename>. En otros sistemas operativos, a menudo
se guardan en <filename>/var/spool/exim/log</filename>. Puede averiguar
dónde se encuentran estos ficheros mediante la orden:

<screen>
exim -bP log_file_path
</screen>
</para>

<para>
El registro principal lista todas las transacciones, el registro de 
rechazos contiene mensajes que se han rechazado por cuestiones de 
políticas y el registro de avisos mensajes relacionados con errores 
de configuración y problemas similares.
</para>

<para>
Abajo se muestran entradas típicas del registro principal. Cada entrada del 
registro es una única línea de texto que comienza con una fecha y una hora.
Aquí se han separado en varias líneas para que quepan en la página:

<screen>
2000-01-30 15:46:37 12EwYe-0004WO-00 &lt;= jack@vstout.vbrew.com 
  H=vstout.vbrew.com [192.168.131.111] U=exim P=esmtp S=32100 
  id=38690D72.286F@vstout.vbrew.com
2000-01-30 15:46:37 12EwYe-0004WO-00 =&gt; jill &lt;jill@vbrew.com&gt; 
  D=localuser T=local_delivery
2000-01-30 15:46:37 12EwYe-0004WO-00 Completed
</screen>
</para>

<para>
Estas entradas muestran que un mensaje desde
<systemitem role="emailaddr">jack@vstout.vbrew.com</systemitem> 
para <systemitem role="emailaddr">jill@vbrew.com</systemitem> se envió
con éxito a un buzón del anfitrión local. Las llegadas de mensajes 
se marcan con <literal>&lt;=</literal> y los envíos con
<literal>=&gt;</literal>.
</para>

<para>
Hay dos tipos de errores de envío: permanente y temporal. Un error de
envío permanente aparece en una entrada de registro como ésta marcado
con &ldquo;<literal>**</literal>&rdquo;:

<screen>
2000-01-30 14:48:28 12EvcH-0003rC-00 ** bill@lager.vbrew.com 
  R=lookuphost T=smtp: SMTP error from remote mailer after RCPT TO:
  &lt;bill@lager.vbrew.com&gt;: host lager.vbrew.com [192.168.157.2]: 
  550 &lt;bill@lager.vbrew.com&gt;... User unknown
</screen>
</para>

<para>
Tras un error como éste, Exim envía un informe sobre el error en el
envío, a menudo conocido como
<emphasis>mensaje de rebote</emphasis> de vuelta al remitente.</para>
<para> Los errores temporales se 
marcan con &ldquo;<literal>==</literal>&rdquo;:

<screen>
2000-01-30 12:50:50 12E9Un-0004Wq-00 == jim@bitter.vbrew.com 
  T=smtp defer (145): Connection timed out
</screen>
</para>

<para>
Este error es típico de situaciones en las que Exim reconoce adecuadamente
que un mensaje debería enviarse a un anfitrión remoto pero no es capaz de
conectar con el servicio SMTP en ese anfitrión. El anfitrión puede no encontrarse
operativo o puede haber un problema en la red. Cuando un mensaje se
<emphasis>pospone</emphasis> como en este caso, permanece en la cola de Exim 
y se reintenta su envío a intervalos. De todos modos, si no consigue enviarse
durante bastante tiempo (normalmente varios días), ocurre un error permanente 
y el mensaje se devuelve.
</para>

<para>
Si no es capaz de localizar su problema a partir de los mensajes de error que
genera Exim, quizá quiera activar los mensajes de depuración. Puede hacer 
esto por medio de la variable <option>&ndash;d</option>, seguida 
opcionalmente por un número que explica el nivel de verbosidad (un valor
de 9 le proporciona el máximo de información). Exim muestra entonces por
pantalla un informe sobre sus operaciones, que quizá le den más pistas 
sobre lo que que pueda ir yendo mal.
</para>

</sect1>

<sect1><title>Compilar Exim</title>

<para>
<indexterm><primary>Exim</primary><secondary>compilar</secondary></indexterm>
Exim aún se encuentra en desarrollo activo. La versión de Exim que se incluye
en las distribuciones de GNU/Linux probablemente no sea la última. Si necesita 
una prestación o un error corregido en las últimas versiones, tendrá que 
obtener una copia del código fuente y compilarlo usted mismo. Puede encontrar
la última versión de Exim por medio de la página web de Exim en 
<systemitem role="url">http://www.exim.org</systemitem>.
</para>

<para>
GNU/Linux es uno de los muchos sistemas operativos que soportan las fuentes de
Exim. Para compilar Exim bajo GNU/Linux debería editar el fichero
<filename>src/EDITME</filename> y colocar el resultado en un fichero
llamado <filename>Local/Makefile</filename>. Hay comentarios en
<filename>src/EDITME</filename> que le dirán para qué son los diferentes
ajustes. Ejecute entonces <command>make</command>. Acuda al manual de Exim
para información más detallada sobre cómo construir Exim a partir de las 
fuentes.
</para>

</sect1>

<sect1 id="X-087-2-exim.queue"><title>Modos de Envío de Correo</title>
<para>
<indexterm><primary>Exim</primary><secondary>modos de envío de correo</secondary></indexterm>
<indexterm><primary>Exim</primary><secondary>la cola de correo</secondary></indexterm>
<indexterm><primary>Encolar correo</primary></indexterm>
<indexterm><primary>correo</primary><secondary>la cola</secondary></indexterm>
Como ya se ha dicho anteriormente, Exim es capaz de enviar los mensajes de
inmediato o guardarlos en una cola para procesarlos más tarde.
Todo el correo entrante se guarda en el
directorio<filename>input</filename> bajo
<filename>/var/spool/exim</filename>. Cuando el encolado no se encuentra
activo, se inicia un proceso de envío para cada mensaje en cuanto llega.
De otro modo, se queda en la cola hasta que un proceso
<emphasis>queue-runner</emphasis> lo recoge. El encolado puede
ajustarse como incondicional mediante <option>queue_only</option> en el
fichero de configuración, o puede estar condicionado por la carga del
sistema minuto a minuto mediante:

<screen>
queue_only_load = 4
</screen>

que hace que los mensajes se encolen si la carga del sistema excede
4.<footnote>
<para>
La carga del sistema es una medida estándar en Unix de la cantidad
media de procesos que están en la cola esperando ejecutarse. El
<command>uptime</command> muestra la carga media del sistema tomada en los
1, 5 y 15 minutos previos.
</para>
</footnote>
</para>

<para>
Si su anfitrión no está conectado permanentemente a Internet, quizá quiera
activar el encolado para direcciones remotas, permitiendo al mismo tiempo
que Exim realice los envíos locales de inmediato. Puede hacer esto poniendo:

<screen>
queue_remote_domains = *
</screen>

en el fichero de configuración.
</para>

<para>
<indexterm><primary>cron</primary><secondary>ejecutar</secondary><tertiary>mediante Exim</tertiary></indexterm> 
Si activa cualquier tipo de encolado tiene que asegurarse de que las colas
se comprueba de manera regular, probablemente cada 10 ó 15 minutos. Aún sin
opciones explícitas de encolado, las colas necesitan comprobarse
por si se hubieran pospuesto mensajes a causa de fallos temporales de envío. 
Si ejecuta Exim como demonio tendrá que añadir la opción
<option>&ndash;q15m</option> en la línea de órdenes para procesar la
cola cada 15 minutos.  También puede invocar a <command>exim
&ndash;q</command> desde <command>cron</command> a estos intervalos.
</para>

<para>
<indexterm><primary>Exim</primary><secondary>comprobar la cola de correo</secondary></indexterm>
<indexterm><primary>comprobar</primary><secondary>la cola de correo</secondary></indexterm>
Puede mostrar la cola de correo invocando a Exim con la opción
<option>&ndash;bp</option>. De manera equivalente, puede enlazar
<command>mailq</command> con Exim e invocar
<command>mailq</command>&thinsp;:

<screen>
$ <userinput>mailq</userinput>
 2h   52K 12EwGE-0005jD-00 &lt;sam@vbrew.com&gt;
        D bob@vbrew.com
          harry@example.net  
</screen>
</para>

<para>
<indexterm><primary>Exim</primary><secondary>los ficheros de registro</secondary></indexterm>
Esto muestra un único mensaje desde <systemitem
role="emailaddr">sam@vbrew.com</systemitem> para dos receptores en la
cola de mensajes. Se ha enviado con éxito a 
<systemitem role="emailaddr">bob@vbrew.com</systemitem> pero aún no 
se ha enviado a <systemitem
role="emailaddr">harry@example.net</systemitem> aunque ha estado en la
cola dos horas. El tamaño del mensaje es de 52K y la identificación que
usa Exim para este mensaje es
<literal>12EwGE-0005jD-00</literal>. Puede averiguar por qué aún no
se ha completado el envío mirando en el fichero de registro individual del
mensaje, que se guarda en el directorio <filename>msglog</filename> dentro del
directorio de la cola de Exim. La opción<option>&ndash;Mvl</option> es una 
manera sencilla de hacer esto:

<screen>
$ <userinput>exim &ndash;Mvl 12EwGE-0005jD-00</userinput>
2000-01-30 17:28:13 example.net [192.168.8.2]: Connection timed out
2000-01-30 17:28:13 harry@example.net: remote_smtp transport deferred: 
  Connection timed out
</screen>

Los ficheros de registro individuales mantienen una copia de las entradas del 
registro para cada mensaje por lo que puede inspeccionarlas fácilmente. 
Puede extraer esa misma información del fichero de registro principal
mediante la utilidad <command>exigrep</command>:

<screen>
$ <userinput>exigrep 12EwGE-0005jD-00 /var/log/exim/exim_mainlog</userinput>
</screen>

Eso puede llevarle bastante tiempo, especialmente en un sistema ocupado en el 
que los ficheros de registro pueden hacerse bastante grandes. 
La utilidad <command>exigrep</command> es apropiada
cuando se busca información sobre más de un mensaje. Su primera variable es
una expresión regular, y toma todas las líneas del registro de cualquier 
mensaje en las que coincida al menos una línea con la expresión. Por esto,
puede usarse para consultar todos los mensajes en busca de una dirección o de un
anfitrión específicos.
</para>

<para>
Puede echar un vistazo general a lo que está haciendo un Exim en ejecución 
mediante la orden <command>tail</command> sobre el fichero de registro 
principal. Otra manera de hacer esto es ejecutar la utilidad
<command>eximon</command> que viene con Exim. Se trata de una aplicación
que muestra una pantalla donde aparece el registro principal en tiempo real, 
además de mostrarle una lista con los mensajes que estén esperando ser 
enviados, así como unas gráficas de barras acerca de la actividad de envío.
</para>
</sect1>

<sect1 id="X-087-2-exim.options"><title>Otras opciones de configuración</title>

<para>
<indexterm><primary>Exim</primary><secondary>ficheros de configuración</secondary><tertiary>opciones de</tertiary></indexterm>
He aquí unas pocas de las opciones más utiles que puede ajustar en el fichero 
de configuración: 


<variablelist>
<varlistentry><term><emphasis>message_size_limit</emphasis></term>
<listitem><para>
Esta opción limita el tamaño de los mensajes que Exim aceptará. 
</para></listitem>
</varlistentry>

<varlistentry><term><emphasis>return_size_limit</emphasis></term>
<listitem><para>
Esta opción limita la cantidad de un mensaje entrante que Exim devolverá
como parte de un mensaje de rebote.
</para></listitem>
</varlistentry>

<varlistentry><term><emphasis>deliver_load_max</emphasis></term>
<listitem><para>
Si la carga del sistema excede el valor dado a esta opción, se suspenden
todos los envíos de correo aunque seguirán aceptándose mensajes para enviar.
</para></listitem>
</varlistentry>

<varlistentry><term><emphasis>smtp_accept_max</emphasis></term>
<listitem><para>
Éste es el número máximo de llamadas SMTP entrantes simultáneas que Exim
está preparado para aceptar.
</para></listitem>
</varlistentry>

<varlistentry><term><emphasis>log_level</emphasis></term>
<listitem><para>
Esta opción controla la cantidad de información que se escribe en el registro. 
Hay también algunas opciones cuyos nombres comienzan con 
<option>log&thinsp;_</option> que controlan el registro de información 
específica.
</para></listitem>
</varlistentry>

</variablelist>
</para>

</sect1>

<sect1 id="X-087-2-exim.delivery"><title>Encaminamiento y envío de mensajes</title>

<para>
Exim divide el envío de correo en tres tareas diferentes: el encaminado,
el direccionamiento y el transporte. Hay un número de módulos de código para
para cada tarea, siendo cada uno configurable por separado. En el fichero de
configuración normalmente se instalan un número de diferentes encaminadores,
direccionadores y transportes.
</para>

<para>
<INDEXTERM><PRIMARY>Exim</PRIMARY><SECONDARY>encaminadores</SECONDARY></INDEXTERM>
Los encaminadores resuelven direcciones remotas, determinando a qué anfitrión
debería enviarse un mensaje y qué transporte debería usarse. En los anfitriones
conectados a Internet a menudo hay un solo encaminador, que lleva a cabo la
resolución buscando el dominio en el DNS. De forma alternativa,
puede haber un encaminador que se encargue de las direcciones destinadas a
los anfitriones de una LAN local, y un segundo para enviar cualquier otra 
dirección a un 
<emphasis>anfitrión inteligente</emphasis>&thinsp;; por ejemplo, el servidor
de correo de un PSI.
</para>

<para>
<indexterm><primary>Exim</primary><secondary>direccionadores</secondary></indexterm>
Las direcciones locales se envían a los direccionadores, de los que suele haber
una gran cantidad, que se encargan de la gestión de los "alias" y de los
reenvíos así como de la identificación de los buzones locales.
Las listas de correo pueden gestionarse mediante direccionadores de "aliasing"
o de reenvío. Si una dirección se renombra o se reenvía, cada dirección
generada la gestionan los encaminadores o los direccionadores, según sea
necesario, de manera independiente. El caso más común, de lejos, será el 
envío a un buzón, pero los mensajes también pueden enviarse a una
orden o adjuntarse a un fichero diferente al buzón predeterminado.
</para>

<para>
<indexterm><primary>Exim</primary><secondary>los transportes</secondary></indexterm>
Un transporte es responsable de implementar un método de envío; por 
ejemplo, enviar el mensaje mediante una conexión SMTP o añadirlo a un buzón
específico. Los encaminadores y los direccionadores eligen qué transporte usar
para cada dirección receptoras. Si un transporte falla, Exim genera un mensaje
de rebote o pospone el envío para intentar realizarlo más tarde.
</para>

<para>
Con Exim goza de una gran libertad para configurar estas tareas. Hay 
disponibles controladores para cada una de ellas, entre los que
puede escoger aquellos que necesite. Sólo tiene que describírselos a Exim 
en diferentes secciones de su fichero de configuración. Primero se definen 
los transportes, seguidos de los direccionadores y después los encaminadores. 
No hay nada integrado de manera predeterminada, aunque Exim se distribuye con 
un fichero de configuración predeterminada que cubre casos sencillos. Si quiere
cambiar la política de encaminado de Exim o modificar un transporte, lo más
sencillo será partir del fichero de configuración predeterminada para realizar
los cambios en vez de intentar crear una configuración completa desde cero.
</para>


<sect2 id="X-087-2-exim.routing"><title>Mensajes de Encaminamiento</title>

<para>
<indexterm><primary>Exim</primary><secondary>encaminar mensajes</secondary></indexterm>
<INDEXTERM><PRIMARY>local_domains, opción</PRIMARY></INDEXTERM>
Cuando se da una dirección de envío, Exim comprueba primero si el dominio
es uno de los que se maneja en el anfitrión con una lista en la opción de
configuración <literal>local_domains</literal>. Si no se ha configurado
esta opción, se usa el nombre del anfitrión local como el único dominio local.
Si el dominio es local, la dirección la manejan los direccionadores.
De otro modo, se pasa a los encaminadores para que averigüen a qué anfitrión
reenviar el mensaje.<footnote
id="X-087-2-FNEX05"><para> Esto es una simplificación. Los direccionadores
son capaces de pasar direcciones a los transportes para que las envíen a 
anfitriones remotos, y de manera similar, los encaminadores son capaces de pasar
direcciones a los transportes locales para que escriban el mensaje en un
fichero o en un "pipe". Los encaminadores también pueden pasar direcciones
a los direccionadores en algunas circunstancias.
</para>
</footnote>
</para>
</sect2>

<sect2 id="X-087-2-exim.directors"><title>Enviar mensajes a direcciones 
locales</title>

<para>
<indexterm id="idx-commandeximcommandlocaladdresses-1" class="startofrange"><primary>Exim</primary><secondary>enviar mensajes a direcciones locales</secondary></indexterm>
<INDEXTERM><PRIMARY>direcciones locales</PRIMARY></INDEXTERM>
De manera más común, una dirección local es simplemente el nombre de "login" 
de un usuario, en cuyo caso el mensaje se envía al buzón del usuario,
<filename>/var/spool/mail</filename>/<replaceable>nombre-de-usuario</replaceable>.
Otros casos incluyen los alias, los nombres de listas de correo y los reenvíos
del usuario. En estos casos, la dirección local se expande en una nueva lista
de direcciones que pueden ser a su vez locales o remotas.
</para>

<para>
Aparte de estas direcciones &ldquo;normales&rdquo;, Exim puede manejar
otro tipo de destinos para los mensajes locales, como nombres de ficheros
y órdenes de "pipe". Cuando se envía a un fichero, Exim adjunta el mensaje
creando ese fichero si es necesario. Los destinos de fichero y "pipe" no
son direcciones propiamente dichas por lo que no puede enviar correo a,
pongamos por caso, <systemitem
role="emailaddr">/etc/passwd@vbrew.com</systemitem> y esperar que
se sobreescriba el fichero de las contraseñas; los envíos a un fichero
específico sólo son válidos si vienen de fichero de reenvío o de alias. 
Tenga en cuenta, no obstante, que
<systemitem role="emailaddr">/etc/passwd@vbrew.com</systemitem> es una
dirección de correo sintácticamente válida, pero si Exim la recibe buscaría
(típicamente) un usuario cuyo "login" fuese <systemitem
role="emailaddr">/etc/passwd</systemitem>, y al no encontrar ninguno el
mensaje rebotaría.
</para>

<para>
<indexterm><primary>Exim</primary><secondary>dirigir el correo a un fichero</secondary></indexterm>
<indexterm><primary>correo</primary><secondary>dirigir a un fichero</secondary></indexterm>
<indexterm><primary sortas="forward file">fichero de reenvío</primary></indexterm> 
En una lista de alias o en un fichero de reenvío, un 
<emphasis>nombre de fichero</emphasis> es cualquier cosa que comience con una 
barra (/&thinsp;)y que no pueda entenderse como una dirección de correo 
plenamente cualificada. Por ejemplo, <filename>/tmp/junk</filename> en un
fichero de reenvío o de alias es interpreta como un nombre de fichero, pero
<systemitem role="emailaddr">/tmp/junk@vbrew.com</systemitem>
es una dirección de correo, aunque no parece muy útil. De todas maneras, 
pueden verse direcciones válidas de este tipo cuando se envía correo por
medio de pasarelas X.400 porque las direcciones X.400 comienzan con una barra.
</para>

<para>
<indexterm><primary>Exim</primary><secondary>enviar correo a una orden</secondary></indexterm>
<indexterm><primary>correo</primary><secondary>enviar a una orden</secondary></indexterm>
De manera similar, una <emphasis>orden de "pipe"</emphasis> puede ser una
orden de Unix precedida por el símbolo (|), a menos que esta cadena pueda
entenderse como una dirección de correo con dominio válida. A menos que haya
cambiado la configuración, Exim no usa consola alguna para ejecutar la orden;
sino que la divide en un nombre de orden y en sus variables y las ejecuta
directamente. El mensaje se emplea como entrada estándar para esa orden.
</para>

<para>
Por ejemplo, para conducir una lista de correo a un grupo de noticias local,
puede usar un guión de shell de nombre <command>gateit</command>, e instalar
un alias local que envíe todos los mensajes de esta lista al guión usando
<literal>|gateit</literal>. Si la línea de órdenes contiene una coma, ella
y el símbolo de "pipe" precedente deben entrecomillarse.
</para>

<sect3><title>Usuarios locales</title>
<para>
<indexterm><primary>Exim</primary><secondary>buzones de usuario</secondary></indexterm>
<indexterm><primary>Buzón fichero</primary></indexterm>
Una dirección local denota comúnmente un buzón de usuario. Éste normalmente
se encuentra en <filename>/var/spool/mail</filename> y tiene el nombre del
usuario, quien también es el propietario del fichero. Si no existe, Exim lo
crea.
</para>

<para>
En algunas configuraciones, el grupo se cambia al grupo del usuario y el
modo es 0600. En estos casos, los procesos de envío se ejecutan como un
usuario, y el usuario puede borrar el buzón completamente. En otras
configuraciones, el grupo del buzón es <systemitem
role="userid">mail</systemitem>, y tiene el modo 660; los procesos de envío
se ejecutan bajo un uid y un grupo del sistema <systemitem
role="userid">mail</systemitem>, y los usuarios no pueden borrar sus
buzones, aunque sí pueden vaciarlos.
</para>

<para>
Tenga en cuenta que aunque <filename>/var/spool/mail</filename> es 
habitualmente el lugar estándar en el que colocar los ficheros de los
buzones, algunos programas de correo pueden compilarse para usar rutas
diferentes, por ejemplo, <filename>/usr/spool/mail</filename>. Si el envío
a los usuarios de su anfitrión falla de manera consistente, debería ver si
le sirve de algo crear un enlace simbólico a 
<filename>/var/spool/mail</filename>.
</para>

<para>
Las direcciones <systemitem role="userid">MAILER-DAEMON</systemitem> y
<systemitem role="userid">postmaster</systemitem> deberían aparecer
normalmente en su fichero de alias, expandiéndose en la dirección
de correo del administrador del sistema.  
<systemitem role="userid">MAILER-DAEMON</systemitem> lo usa Exim como 
dirección del remitente en los mensajes de rebote. También se recomienda
que <systemitem
role="userid">root</systemitem> se instale como un alias para el
administrador, especialmente cuando los envíos se ejecutan bajo permisos
de los usuarios receptores para evitar que no se ejecute ningún envío como
<systemitem role="userid">root</systemitem>.
</para>

</sect3>

<sect3><title>Reenvío</title>
<para>
<indexterm><primary>Exim</primary><secondary>reenviar correo</secondary></indexterm>
<indexterm><primary>correo</primary><secondary>reenviar</secondary></indexterm>
<indexterm><primary>reenviar</primary><secondary>correo</secondary></indexterm>
Los usuarios pueden redirigir su correo a direcciones alternativas creando
un fichero <filename>.forward</filename> en sus directorios home. Éste contiene
una lista de receptores separados por comas y/o nuevas líneas.
Se leen e interpetan todas las líneas del fichero. Puede usarse cualquier
tipo de dirección. Un ejemplo práctico de un fichero 
<filename>.forward</filename> para las vacaciones podría ser:

<screen>
janet, "|vacation"
</screen>

En otras descripciones de ficheros <filename>.forward</filename>, puede
ver el nombre de usuario al comienzo precedido por una barra invertida.
Esto era necesarios en algunos MTAs antiguos para detener la búsqueda de
<filename>.forward</filename> para un nombre nuevo, lo que podía conducir
a un bucle infinito.
La barra invertida no es necesaria en Exim, que evita automáticamente bucles
de este tipo.<footnote>
<para>
Un direccionador se salta si la dirección que se va a procesar es una que
ya haya procesado previamente durante la generación de la dirección actual.
</para>
</footnote>
De todos modos, se permite una barra invertida y, de hecho, supone una
diferencia en configuraciones en las que se manejan muchos dominios de 
una vez. Sin la barra invertida, un nombre de usuario no cualificado se
cualifica con un dominio predeterminado; con una barra invertida se
preserva el dominio entrante.
</para>

<para>
La primera dirección del fichero .forward envía el mensaje entrante al
buzón de <emphasis role="bold">janet</emphasis>, mientras que la orden
<command>vacation</command> devuelve una breve notificación al remitente. 
<footnote id="X-087-2-FNEX07"><para>
Por favor, si elige usar un programa para sus ausencias, ¡asegúrese de 
que no responde a los mensaje enviados desde 
listas de correo! Resulta muy molesto descubrir que alguien se ha ido
de vacaciones y encontrar un mensaje de ausencia por cada mensaje que
hayan recibido. Para los administradores de listas de correo: esto es un
buen ejemplo de por qué es una mala práctica forzar el campo
<literal>Responder a:</literal> de los mensajes de una lista de correo 
para que contenga la dirección de envío a esa misma lista de correo.
</para>
</footnote>
</para>

<para>
<?troff .hw flexibility>
<INDEXTERM><PRIMARY>Exim</PRIMARY><SECONDARY>ficheros de filtro</SECONDARY></INDEXTERM>
<INDEXTERM><PRIMARY>ficheros de filtro</PRIMARY></INDEXTERM>
Además de soportar ficheros de reenvío &ldquo;tradicionales&rdquo;,
Exim puede configurarse para que soporte ficheros más complejos conocidos 
como <emphasis>filtros</emphasis>.  En vez de ser simplemente una lista
con direcciones de reenvío, un fichero de filtro puede contener pruebas
sobre el contenido de los mensajes entrantes de manera que, por ejemplo,
pueda hacerse que se reenvíen únicamente aquellos mensajes cuyo título
contenga la palabra &ldquo;urgente.&rdquo; Los administradores de sistemas
deben decidir si permitirán o no esta flexibilidad a los usuarios.
</para>

</sect3>
<indexterm class="endofrange" startref="idx-commandeximcommandlocaladdresses-1">
</sect2>

<sect2><title>Ficheros de alias</title>
<para>
<indexterm><primary>Fichero de alias para Exim</primary></indexterm>
<indexterm><primary>Exim</primary><secondary>ficheros de alias</secondary></indexterm>
<indexterm><primary>correo</primary><secondary>alias de</secondary></indexterm>
<indexterm><primary>correo</primary><secondary>reenviar</secondary></indexterm>
<indexterm><primary>reenviar</primary><secondary>correo</secondary></indexterm>
<indexterm><primary>alias de</primary><secondary>correo</secondary></indexterm>
Exim es capaz de gestionar ficheros de alias compatibles con los ficheros
de alias del <command>sendmail</command> de Berkeley. Las entradas del fichero
de alias pueden tener la siguiente forma:

<screen>
<replaceable>alias</replaceable>: <replaceable>receptores</replaceable>
</screen>
</para>

<para>
<replaceable>receptores</replaceable> es una lista de direcciones separadas
por comas que se sustituirán por el alias. La lista de receptores puede
continuarse en nuevas líneas si la línea siguiente comienza con un espacio
en blanco.
</para>

<para>
Una propiedad especial permite a Exim gestionar listas de correo que se
hayan especificado separadamente en el fichero de alias: si especifica
<literal>:include:</literal><replaceable>nombre de fichero</replaceable> 
como un receptor, Exim lee el fichero especificado y sustituye su
contenido como una lista de receptores. Más adelante en este capítulo
en <xref linkend="X-087-2-exim.director.mailing-lists">se muestra una
manera alternativa de gestionar listas de correo.&rdquo;
</para>

<para>
<INDEXTERM><PRIMARY SORTAS="etc/aliases file">El fichero /etc/aliases</PRIMARY></INDEXTERM>
El principal fichero de alias es <filename>/etc/aliases</filename>. Si
hace que cualquiera o que cualquier grupo pueda modificar este fichero,
Exim rechazará usarlo y pospondrá los envíos locales. Puede controlar la
prueba que realiza con los permisos del fichero poniendo <option>modemask
</option> en el direccionador <filename>system_aliases</filename>.
</para>

<para>
Esto es un fichero <filename>aliases</filename> de ejemplo:

<screen>
# vbrew.com fichero /etc/aliases 
hostmaster: janet
postmaster: janet
usenet: phil
# La lista de correo de desarrollo.
development: joe, sue, mark, biff,
        /var/mail/log/development
owner-development: joe
# Los anuncios de interés general se envían a todo
# el equipo
announce: :include: /etc/Exim/staff,
        /var/mail/log/announce
owner-announce: root
# la lista de correo ppp se traslada a un grupo local de noticias
ppp-list: "|/usr/local/bin/gateit local.lists.ppp"
</screen>
</para>

<para>
Cuando hay nombres de ficheros y órdenes por "pipe" en un fichero
de alias, como aquí, Exim necesita que le digan bajo qué usuario 
ha de ejecutar los envíos. La opción <option>user</option> (y 
posiblemente <option>group</option>, también debe proporcionarse en
el fichero de configuración de Exim, ya sea en el direccionador que 
maneja los alias o en los transportes a los que dirige estos elementos.
</para>

<para>
Si ocurre un error al enviarse a una dirección generada a partir del
fichero <filename>aliases</filename>, Exim enviará un mensaje de rebote
al remitente del mensaje, como es habitual, pero esto quizá no resulte
apropiado. Puede usar la opción <option>errors_to</option> para especificar
que los mensajes de rebote se envíen a otro usuario: por ejemplo, al
administrador del correo.
</para>
</sect2>

<sect2 id="X-087-2-exim.director.mailing-lists"><title>Listas de correo</title>
<para>
<indexterm><primary>Exim</primary><secondary>listas de correo</secondary></indexterm>
<indexterm><primary>listas de correo</primary><secondary>en Exim</secondary></indexterm> 
<INDEXTERM><PRIMARY>Direccionador del fichero forward</PRIMARY></INDEXTERM>
En vez de con el fichero <filename>aliases</filename>, las listas de correo
también pueden gestionarse mediante un direccionador 
<filename>forwardfile</filename>. Las listas se mantienen en un único
directorio como <filename>/etc/exim/lists/</filename>, y un fichero
<filename>lists/nag-bugs</filename> describe una lista de correo llamada
<systemitem role="keyword">nag-bugs</systemitem>. Esto debería contener
las direcciones de los miembros separadas por comas o por nuevas líneas.
Las líneas que comienzan con una almohadilla (<literal>#</literal>) se
tratan como comentarios. Un sencillo direccionador para usar esos datos
sería como sigue:

<screen>
lists:
  driver = forwardfile
  file = /etc/exim/lists/${local_part}
  no_check_local_user
  errors_to = ${local_part}-request
</screen>

Cuando se ejecuta este direccionador, los valores de las opciones 
<option>file</option> y <option>errors_to</option> se 
<emphasis>expanden</emphasis>. 
La expansión hace que ciertas partes de las cadenas que comienzan con
un símbolo del dólar se sustituyan cada vez que se usa la cadena. El 
tipo de expansión más sencillo es la inserción del valor de una de las
variables de Exim, y esto es lo que está sucediendo aquí. La subcadena 
<literal>${local_&thinsp;part}</literal> sustituye el valor de 
<literal>$local_&thinsp;part</literal>, que es la parte local de las
direcciones que se estén procesando.
</para>

<para>
Para cada lista de correo, debería existir un usuario (o un alias o una
lista de correo) llamado <replaceable>listname-request</replaceable>; 
se informa a esta dirección de cualquier error al resolver una dirección
o al enviar un mensaje a un miembro de la lista.
</para>

</sect2>
</sect1>

<sect1><title>Protegerse contra el "spam"</title>
<para>
<INDEXTERM><PRIMARY>Lista Blackhole (agujero negro) en tiempo real (RBL)</PRIMARY></INDEXTERM>
<INDEXTERM><PRIMARY>spam</PRIMARY></INDEXTERM>
<INDEXTERM><PRIMARY>gestionar el correo no solicitado</PRIMARY></INDEXTERM>
<INDEXTERM><PRIMARY>correo</PRIMARY><SECONDARY>no solicitado</SECONDARY></INDEXTERM>
<INDEXTERM><PRIMARY>correo</PRIMARY><SECONDARY>gestionar el spam</SECONDARY></INDEXTERM>
<INDEXTERM><PRIMARY>Sistema de Protección contra el Abuso en el Correo (MAPS)</PRIMARY></INDEXTERM>
<INDEXTERM><PRIMARY>Lista de Marcado Telefónico [Dial-Up] (DUL)</PRIMARY></INDEXTERM>
El <option>spam</option> o correo con fines comerciales no solicitado es
un molesto problema para muchos usuarios. Se ha formado un proyecto para
acabar con este problema conocido como Sistema de Protección contra los
Abusos en el Correo (MAPS), y se ha construido un mecanismo que reduce el
problema, conocido como Lista de Agujeros Negros en Tiempo Real (RBL).
Puede obtener información sobre el funcionamiento de MAPS RBL a partir de su
documentación en línea en <systemitem
role="url">http://maps.vix.com/rbl/</systemitem>. La idea es sencillamente
simple. Los sitios que se encuentran generando spam se añaden a una base de datos y agentes 
de transferencia de correo como Exim son capaces de consultar la base de datos para confirmar 
si un remitente es o no un "spammer" antes de aceptar correo de él. 
</para>

<para>
Desde el advenimiento de la RBL, se han creado muchas otras listas. Una
de las más útiles es la Lista de Marcado (DUL), que lista las direcciones
IP de anfitriones conectados a la red mediante acceso por llamada telefónica. 
Éstas deberían enviar normalmente el correo a los servidores
de correo de sus PSIs. Muchos sitios bloquean el correo desde llamadas externas
porque cuando un anfitrión de este tipo evita al servidor de su
propio PSI normalmente no se trata de algo bueno.
</para>

<para>
Exim ofrece soporte para listas en tiempo real y otras listas negras. Esto
se configura de manera muy sencilla. Para activarlo, añada las siguientes
líneas a su fichero <filename>/etc/exim.conf</filename>:
</para>

<screen>
# Vixie / MAPS RBL (http://maps.vix.com/rbl)
rbl_domains = rbl.maps.vix.com : dul.maps.vix.com
</screen>

<para>
Este ejemplo comprueba tanto la RBL como la DUL, rechazando cualquier
mensaje desde anfitriones que se encuentren en cualquiera de esas listas.
La opción <option>rbl_hosts</option> le permite especificar grupos
de anfitriones a los que se aplica (o no) la comprobación RBL. La 
configuración predeterminada es:


<screen>
rbl_hosts = *
</screen>

lo que significa que todos los anfitriones se encuentran sujetos a la
comprobación de la RBL. Si quisiera saltarse la lista negra y aceptar
correo de un anfitrión específico sin que se realizara la comprobación
RBL podría usar, por ejemplo:

<screen>
rbl_hosts = ! nocheck.example.com : *
</screen>

El signo de exclamación antes del primer elemento de la lista indica un
elemento negado: si el anfitrión que llama es 
<systemitem role="emailaddr">nocheck.example.com</systemitem>, 
coincidirá con este elemento. Pero a causa de la negación, la comprobación
RBL no se lleva a cabo. Cualquier otro anfitrión coincidirá con el segundo 
elemento de la lista. 

</para>

</sect1>

<sect1 id="X-087-2-exim.simple"><title>Instalación UUCP</title>

<para>
<indexterm><primary>Exim</primary><secondary>instalar UUCP</secondary></indexterm>
<INDEXTERM><PRIMARY>UUCP</PRIMARY><SECONDARY>Interfaz Exim para</SECONDARY></INDEXTERM>
Exim no posee código específico para transportar correo mediante UUCP ni 
soporta prohibición de direcciones UUCP. De todos modos, si se usa el direccionamiento
de dominios, Exim puede interactuar con UUCP de una manera bastante sencilla.
He aquí un fragmento de configuración para enviar ciertos dominios a UUCP
tomado de una instalación real:
</para>

<screen>
# Transporte
uucp:
  driver = pipe
  user = nobody
  command = "/usr/local/bin/uux -r - \
    ${substr_-5:$host}!rmail ${local_part}"
  return_fail_output = true

# Encaminador
uucphost:
  transport = uucp
  driver = domainlist
  route_file = /usr/exim/uucphosts
  search_type = lsearch
</screen>  
 
<para>
En un fichero de configuración completo, el transporte se insertaría 
entre los otros transportes, y el encaminador definido probablemente 
como el primer encaminador. El fichero <filename>/usr/exim/uucphosts</filename>
contiene entradas como ésta:

<screen>
darksite.example.com:           darksite.UUCP
</screen>

que se interpreta como, &ldquo;Enviar el correo dirigido al dominio
<emphasis role="bold">darksite.example.com</emphasis> al anfitrión
UUCP <emphasis role="bold">darksite</emphasis>.&rdquo;
Puede realizar esta configuración de manera más sencilla sin que el 
encaminador añada el sufijo .UUCP a <emphasis role="bold">darksite</emphasis> 
sólo para que el transporte se lo quite de nuevo, pero este método resulta
útil porque así queda más clara la distinción entre el nombre del dominio
<emphasis role="bold">darksite.example.com</emphasis> y el nombre del
anfitrión UUCP <emphasis role="bold">darksite</emphasis>.
</para>

<para>
Cuando el encaminador se encuentre con un dominio presente en el fichero
de rutado, enviará la dirección al transporte UUCP, que se la enviará a
su vez a la orden <command>uux</command> (descrita en <xref
linkend="X-087-2-uucp">). Si ocurre algún problema <command>uux</command> 
generará alguna salida y terminará con un código de error distinto a cero. 
Use la opción <literal>return_fail_output</literal> para asegurarse de que 
la salida se devuelve al remitente.
</para>

<para>
Si los mensajes UUCP entrantes se agrupan en ficheros en formato SMTP
por lotes, pueden pasarse directamente a Exim usando una orden como ésta:

<screen>
exim -bS &lt;/var/uucp/incoming/001
</screen>
</para>
<?troff .Nd 15>
<para>
<?troff .hw handled>
De toda formas, no todo es tan sencillo. Cuando Exim recibe un mensaje
localmente, insiste en que el remitente es el usuario conectado que lo
haya enviado, pero para un lote UUCP queremos que los remitentes se tomen de
los mensajes entrantes. Exim hará esto si el proceso que lo llama se 
está ejecutando como un <emphasis>usuario en el que se confía</emphasis>. 
Si especifica que el correo UUCP entrante lo gestione por ejemplo un 
usuario llamado <systemitem role="userid">uucp</systemitem>, necesitará 
especificar:

<screen>
trusted_users = uucp
</screen>

en el fichero de configuración de Exim para asegurarse de que las direcciones
de los remitentes se tratan de manera correcta.
</para>

</sect1>

</chapter>

<!-- REVISION1 Finalizada-->
