<!-- $Id: ch20.sgm,v 1.11 2002/11/03 10:17:42 jjamor Exp $ -->  
<!--
Nota legal:

   Linux Network Administration Guide, por Olaf Kirch et al.

   La traducción al español se publica bajo la licencia GFDL,
siendo texto de portada el siguiente:

Linux Network Administrator's Guide
by Olaf Kirch and Terry Dawson
Copyright  (c) 1993 Olaf Kirch
Copyright  (c) 2000 Terry Dawson
Copyright on O'Reilly printed version (c) 2000 O'Reilly & Associates

y siendo secciones invariantes, la sección de Agradecimientos,
la sección titulada «La traducción al español», el apéndice C; así
como esta nota.

Capítulo traducido por:

  Luis Jäeger, ljaeger@paidforsurf.com

Revisión 1 del 2 de septiembre de 2002 realizada por Francisco Javier Fernandez
Marcas:
Buscando "ATENCION" llegas a zonas dudosas
-->
<chapter id="X-087-2-news"><title>Noticias</title>  

<para>  
<INDEXTERM id="usenet.news" class=startofrange><PRIMARY>Usenet</PRIMARY></INDEXTERM>  
Netnews, o Usenet News, sigue siendo uno de los servicios más importantes y favorablemente valorados en las redes de computadoras de hoy. Rechazado por algunos como un fango de correo 
electrónico comercial no solicitado y pornografía, Netnews todavía  mantiene varios casos de los grupos de discusión de alta calidad que lo hizo un recurso crítico antes de la existencia de la web. Incluso en los tiempos actuales de un billón de páginas web, Netnews todavía es una fuente para la ayuda en línea y a la comunidad en muchos temas.  
</para>  
  
<sect1 id="X-087-2-news.history"><title>Historia de Usenet</title>  
  
<para>  
<indexterm id="idx-news-1" class="startofrange"><primary>noticias (red)</primary></indexterm>  
La idea de noticias en la red nació en 1979 cuando dos estudiantes graduados, Tom,  Truscott y Jim Ellis, pensaron en el uso de UUCP para conectar las máquinas con la finalidad  de intercambiar 
información entre los usuarios de Unix. Instalaron una pequeña red compuesta de sólo tres máquinas en Carolina del Norte.  
</para>  
  
<para>  
El tráfico inicialmente, fue manejado por algunos guiones de shell (después se reescribieron en C), pero nunca se dieron al público. Fueron reemplazados rápidamente por &ldquo;A News,&rdquo; 
la primera edición pública de software para noticias.  
</para>  
  
<para>  
"ANews" no fue diseñado para manejar más de unos pocos artículos  por grupo y día. Cuando el volumen de información creció, fue vuelto a escribir por Mark Horton y Matt Glickman que lo llamaron 
versión &ldquo;B&rdquo;  (llamado también BNews). La versión 2.1 de BNews en 1982 fue la primera edición pública.  Fue creciendo gradualmente, con la adición de nuevas prestaciones. La versión 
actual es BNews. Lentamente se está quedando obsoleta, su último mantenedor oficial se cambió a INN.  
</para>  
  
<para>  
<indexterm><primary>Collyer, Geoff</primary></indexterm>  
<indexterm><primary>Spencer, Henry</primary></indexterm>  
<indexterm><primary>C News</primary></indexterm>  
Geoff Collyer y Henry Spencer reescribieron BNews y lo lanzaron en 1987; ésta es la versión &ldquo;C,&rdquo; o CNews. Desde esta versión, ha habido varios parches para CNews, siendo el más 
notorio el CNews Performance Release. En sitios que llevan gran número de grupos, la sobrecarga que involucraba la frecuente invocación de <command>relaynews </command>, que es el responsable 
de despachar los artículos entrantes a otros hosts, es  significativa. La Performance Release agrega una opción a  
<command>relaynews</command> que le permite ejecutarse en modo <emphasis>daemon</emphasis>, es decir, que se pone a sí misma como tarea de fondo.   En la mayoría de las distribuciones actuales 
de GNU/Linux se incluye la Performance Release de CNews. Describimos CNews en detalle en <xref linkend="X-087-2-cnews">.  
</para> 
  
<para>  
<indexterm><primary>NNTP (Network News Transfer Protocol)</primary></indexterm>  
<indexterm><primary>noticias (red)</primary><secondary>NNTP</secondary></indexterm>   
Todas las versiones hasta la "C" están principalmente diseñadas para su uso en redes UUCP aunque también sirven para otros entornos. La transferencia eficaz de noticias sobre redes 
tipo TCP/IP o DECNet requiere un nuevo esquema. Así en 1986, se introdujo el protocolo NNTP, <emphasis>Network News Transfer Protocol</emphasis>. Está basado en las conexiones de 
la red y especifica varias instrucciones para transferir y recuperar interactivamente los artículos.  
</para>  
  
  
<para>  
<indexterm><primary>nntpd </primary></indexterm>   
En la Red hay disponibles varias aplicaciones basadas en NNTP. Una de  ellas es el <command>nntpd </command> de Brian Barber y Phil Lapsley, que puede usar para proporcionar 
servicio de lectura a varios hosts dentro una red local. <command>nntpd</command> se diseñó para complementar paquetes de noticias como BNews y C news y darles prestaciones 
de NNTP. Si usted quiere usar NNTP con el servidor CNews, debe leer <xref linkend="X-087-2-nntp"> que explica cómo configurar el demonio <command>nntpd </command> y lo ejecuta 
con CNews.  
</para>  
  
<para>  
<indexterm><primary>INN (Internet News)</primary></indexterm>  
<indexterm><primary>noticias (red)</primary><secondary>Internet News</secondary></indexterm>   
Un paquete alternativo de apoyo a NNTP es INN, o <emphasis>INternet News</emphasis>. No es solamente una interfaz, sino un sistema de noticias por derecho propio. Comprende 
un sofisticado demonio de noticias que se puede mantener eficientemente y es por ello el servidor de noticias de elección por muchos sitios de Internet. Lo discutimos en 
detalle en <xref linkend="X-087-2-inn">.  
</para>  
  
</sect1>  
  
<sect1 id="X-087-2-news.usenet"><title>Pero, ¿qué es Usenet después de todo?</title>  
  
<para>  
<indexterm><primary>noticias (red)</primary><secondary>Usenet</secondary></indexterm>  
<indexterm><primary>Zen</primary></indexterm>  
<indexterm><primary>intercambio de</primary><secondary>noticias</secondary></indexterm>  
Uno de los hechos más asombrosos sobre Usenet es que no es parte de ninguna organización, ni tiene ninguna clase de dirección centralizada. De hecho, es parte de la erudición de 
Usenet que, salvo una  descripción técnica, no se puede definir <emphasis>qué</emphasis> es; a riesgo de parecer tonto, uno podría definir Usenet como la colaboración de servidores 
separados que intercambian las noticias de Usenet. Para ser un sitio de Usenet, todo lo que se tiene que hacer es encontrar otro servidor y acordar con sus dueños y administradores 
el intercambio.  
Proporcionar noticias a otro sitio se llama <emphasis>feeding</emphasis> o alimentación, de ello resulta otro axioma común de la filosofía de Usenet, &ldquo;Consigue quien te 
alcance noticias y ya eres parte.&rdquo;  
</para>  
<?troff .wcon_off>  
  
<para>  
<?troff .hw consists>  
<indexterm><primary>noticias (red)</primary><secondary>artículos</secondary></indexterm>  
<indexterm><primary>artículos (noticias)</primary></indexterm>   
La unidad básica de noticias de Usenet es el  <emphasis>artículo</emphasis>. Éste es un mensaje que un usuario escribe y &ldquo;pone&rdquo; en la red. Para hacer posible que los 
sistemas de noticias lo manejen, están  precedidos por información administrativa llamada cabecera del artículo. Es muy similar al formato de las cabeceras de los mensajes de 
correo descritos en el estándar de correo de Internet el cuál consiste en varias líneas de texto, cada una se inicia con el nombre de un campo terminado en dos puntos seguidos 
por el valor del campo. <footnote id="X-087-2-FNUN01"><para> El formato de los mensajes de Usenet News está especificado en la RFC-1036, &ldquo;Standard for interchange of 
USENET messages.&rdquo;  
</para>  
</footnote>  
  
</para>  
  
<para>  
<indexterm><primary>noticias (red)</primary><secondary>grupos</secondary></indexterm>  
<indexterm><primary>grupos de noticias</primary></indexterm>   
<?troff .ffn>  Los artículos son enviados a uno o más <emphasis>grupos de noticias</emphasis>. Uno puede considerar  a los grupos de noticias como foros para artículos con relación 
a un asunto común.Todos los grupos de noticias están organizados en una jerarquía, el nombre de cada grupo indica su lugar en la jerarquía. Frecuentemente esto facilita ver acerca 
de qué trata cada grupo. Por ejemplo, cualquiera puede ver por el nombre del grupo de noticias que  <systemitem role="newsgroup">comp.os.linux.announce</systemitem> se usa para 
anuncios que conciernen a un sistema operativo para computadoras llamado GNU/Linux.  
</para>  
  
<para>  
Estos artículos son intercambiados entonces entre todos los sitios de Usenet que llevan las noticias para este grupo.  Cuando dos sitios acuerdan el intercambio, son libres para  
intercambiar cualquier grupo de noticias que gusten, e incluso pueden agregar sus propias jerarquías de noticias locales. Por ejemplo, <systemitem role="sitename">groucho.edu
</systemitem> puede tener enlace de noticias a
<systemitem role="sitename">barnyard.edu</systemitem>, el cual es un gran alimentador de noticias, y varios enlaces a servidores menores a los cuáles alimenta. Ahora, el 
Colegio Barnyard podría recibir 
todos los grupos de Usenet mientras la GMU solo quiere unas pocas jerarquías mayores como <systemitem role="newsgroup">sci</systemitem>, <systemitem role="newsgroup">comp
</systemitem>, o 
<systemitem role="newsgroup">rec</systemitem>. Algunos servidores más abajo, digamos un servidor UUCP llamado <systemitem role="sitename">brewhq</systemitem>, querrán aún 
menos grupos, porque no 
tienen tantos recursos de red o hardware. Por otro lado, <systemitem role="sitename">brewhq</systemitem> puede querer recibir grupos de la jerarquía <systemitem 
role="newsgroup">fj</systemitem> que no tiene la GMU. Por consiguiente, mantiene otro eslabón con <systemitem role="sitename">gargleblaster.com</systemitem>, el cual tiene 
todos los grupos <systemitem role="newsgroup">fj</systemitem> y alimenta con ellos a <systemitem role="sitename">brewhq</systemitem>. El flujo de noticias se muestra en 
<xref linkend="X-087-2-news.fig.article-flow">.  
</para>  
  
<figure id="X-087-2-news.fig.article-flow">  
<title>Tráfico de noticias a través de la Universidad Groucho Marx</title>  
<mediaobject>
  <imageobject><imagedata fileref="lag2_2001" format="eps"></imageobject>
  <imageobject><imagedata fileref="lag2_2001.jpg" format="jpg"></imageobject>
</mediaobject>  
</figure>  
  
<para>  
Las etiquetas en las flechas que se originan en <systemitem role="sitename">brewhq</systemitem> pueden requerir alguna explicación. 
Por omisión, este servidor quiere todas noticias generadas localmente para que sean enviadas a 
<systemitem role="sitename">groucho.edu</systemitem>.  Sin embargo, como 
<systemitem role="sitename">groucho.edu</systemitem> no tiene los grupos <systemitem role="newsgroup">fj</systemitem>, no existe 
razón para enviar ningún mensaje de estos grupos. Por consiguiente, la etiqueta de la alimentación de 
<systemitem role="sitename">brewhq</systemitem> a la GMU es <literal>all,!fj</literal>, lo que significa que todos los grupos, 
con excepción de los que están bajo <systemitem role="newsgroup">fj </systemitem> se envían.  
</para>  

</sect1>  
  
<sect1 id="X-087-2-news.algorithm"><title>¿Cómo maneja Usenet las noticias?</title>  
  
<para>  
<indexterm id="idx-newsexchanging-1" class="startofrange"><primary>noticias (red)</primary><secondary>intercambio</secondary></indexterm>  
<indexterm id="idx-newsfeeding-1" class="startofrange"><primary>noticias (red)</primary><secondary>alimentación</secondary></indexterm>  
<indexterm><primary>noticias (red)</primary><secondary>algoritmo de saturación</secondary></indexterm>  
<indexterm><primary>algoritmo de saturación</primary></indexterm>  
Actualmente, Usenet ha crecido a enormes dimensiones. Los servidores que llevan  todos los grupos usualmente transfieren algo como 60 MB diarios. <footnote id="X-087-2-FNUN02"><para> 
Espera un minuto: 60 MB a 9,600 bps, son 60 millones mutiplicados por 1024, eso es ¡&hellip; mutter, mutter&hellip; Eh! eso es 34 horas!  
</para>  
</footnote> Por supuesto, esto requiere mucho más que mezclar ficheros. Vamos a dar una mirada a la manera en la mayoría de los sistemas Unix manejan las noticias de Usenet.  
</para>  
  
<para>   
Las noticias empiezan cuando los usuarios crean y publican los artículos. Cada usuario introduce un mensaje en una aplicación especial llamada lector de noticias, el cual lo formatea apropiadamente para su transmisión al servidor de noticias local. En entornos Unix el lector de noticias normalmente emplea la instrucción <command>inews</command> para transmitir artículos al servidor de 
noticias usando el protocolo TCP/IP. Sin embargo, también es posible escribir el artículo directamente en un fichero dentro de un directorio especial llamado cola de noticias. Una vez que la publicación 
se entrega al servidor local de noticias, éste toma la responsabilidad de entregar el artículo a otros usuarios de noticias. 
</para>  
  
  
<para>  
<indexterm><primary>Suministro de Noticias</primary></indexterm>  
Las noticias son distribuidas a través de la red por varios transportes. El medio acostumbraba a ser  UUCP, pero hoy el tráfico principal se lleva por sitios de Internet. El algoritmo de encaminamiento 
usado se llama <emphasis>flooding</emphasis>.<footnote><para>N. del T.: inundación.</para></footnote>  
Cada sitio mantiene varios enlaces (<emphasis>news feeds</emphasis>) a otros servidores. Cualquier artículo generado o recibido por el sistema de noticias local es reenviado a ellos, a menos que ya haya pasado por ellos, en cuyo caso será descartado. Un sitio puede averiguar todos los sitios por los que ha pasado el artículo observando el campo  <literal>Path:</literal> de la cabecera. Este campo contiene una lista de todos los sistemas que ha atravesado el artículo, separados por un signo de admiración<footnote><para>N. del T.: notación bang-path</para></footnote>.  
</para>  
  
<para>  
<indexterm><primary>noticias (red)</primary><secondary>ID del mensaje</secondary></indexterm>  
<indexterm><primary>noticias (red)</primary><secondary>historial</secondary></indexterm>  
Para distinguir los artículos y reconocer los duplicados, los artículos de 
Usenet llevan un identificador de mensajes, (especificado en el campo <literal>Message-Id:</literal> de la cabecera), 
el cuál es una combinación del nombre del servidor y un número de serie.  
&lt;<replaceable>serial</replaceable>@<replaceable>site</replaceable>&thinsp;&gt;.  
Para cada artículo procesado, los sistemas de noticias registran su identificador en un fichero llamado <emphasis>history</emphasis> 
contra el cual se cotejan los artículos recién llegados.  
</para>  
  
<para>  
<indexterm><primary>noticias (red)</primary><secondary>limitando una alimentación feed</secondary></indexterm>  
<indexterm><primary>noticias (red)</primary><secondary>distribución</secondary></indexterm>  
El flujo entre dos servidores cualquiera puede ser limitado por dos criterios. Uno, al artículo se le asigna 
una distribución (en el campo <literal>Distribution:</literal> de la cabecera), que puede ser usado para 
confinarlo dentro de un determinado grupo de servidores. Por otro lado, los grupos de noticias intercambiados
pueden ser limitados por ambos sistemas, el remitente y el receptor. El conjunto de grupos de noticias y 
distribuciones que le es permitido transmitir a un servidor se mantienen usualmente en el fichero <filename>sys</filename>.  
</para>  
  
<para>  
<indexterm><primary>noticias (red)</primary><secondary>procesado por lotes</secondary></indexterm>  
<indexterm><primary>proceso por lotes</primary><secondary>noticias</secondary></indexterm>  
<indexterm id="idx-deliveringnews-1" class="startofrange"><primary>entrega de</primary><secondary>noticias</secondary></indexterm>  
El número de artículos normalmente requiere que se hagan mejoras al esquema anterior. En redes UUCP los 
sistemas recogen los artículos en un periodo de tiempo y los combinan en un único fichero el cuál es 
comprimido y enviado al servidor remoto. Esto se llama <emphasis>procesado por lotes</emphasis><footnote><para>batching</para></footnote>.  
</para>  
  
<para>  
<indexterm><primary>noticias (red)</primary><secondary>ihave/sendme</secondary></indexterm>  
<indexterm><primary>protocolo ihave/sendme (noticias)</primary></indexterm>   
Una técnica alternativa es la del protocolo <emphasis>ihave/sendme </emphasis> que previene 
la transmisión de artículos duplicados en primer lugar, así se ahorra ancho de banda de la red.  
En lugar de poner todos los artículos en un bloque y enviarlo, sólo se envían al servidor remoto
los IDs combinados en un gran mensage llamado &ldquo;ihave&rdquo;. El servidor remoto lee este 
mensaje, lo compara con su fichero "history" y retorna la lista de artículos que quiere en un 
mensaje &ldquo;sendme&rdquo;. Sólo los artículos requeridos son enviados.  
</para>  
  
<para>  
Claro, el protocolo ihave/sendme sólo tiene sentido si involucra dos grandes servidores que reciben 
noticias de varias fuentes independientes entre sí, y que intercambian noticias con la frecuencia 
suficiente como para generar un flujo de noticias eficiente.  
</para>  
  
<para>  
<indexterm><primary>noticias (red)</primary><secondary>NNTP</secondary></indexterm>  
Los servidores de Internet generalmente confían en el software basado en TCP/IP que usa
el Protocolo de Transferencia de Noticias (NNTP). NNTP se describe en el RFC-977; el cuál
es responsable de transferir las noticias entre servidores nuevos y provee acceso a Usenet 
a usuarios individuales en nodos remotos.  
</para>  
  
<para>  
<indexterm><primary>noticias (red)</primary><secondary>pulling</secondary></indexterm>  
<indexterm><primary>noticias (red)</primary><secondary>pushing</secondary></indexterm>  
Se conocen tres maneras diferentes de transferir las noticias con NNTP. Una es la versión 
en tiempo real de ihave/sendme, también conocida como <emphasis>push<footnote><para>empujar</para>
</footnote></emphasis> las noticias. La segunda técnica es llamada <emphasis>pull<footnote><para>
tirar</para></footnote></emphasis> las noticias,  en la cuál el cliente requiere una lista de 
artículos de un grupo de noticias o jerarquía determinado que han llegado al servidor después de 
una fecha especificada y elige aquellas que no encuentra en su fichero "history". La tercera 
técnica es la lectura interactiva de noticias y le permite a usted o a su lector de noticias recuperar 
artículos de un grupo especificado, también colocar artículos con la información de cabecera incompleta.   
</para>  
  
<indexterm class="endofrange" startref="idx-deliveringnews-1">  
<indexterm class="endofrange" startref="idx-newsexchanging-1">  
<indexterm class="endofrange" startref="idx-newsfeeding-1">  
<para>  
<?troff .hw /var/spool/news/-comp/os/linux/misc>  
<indexterm><primary>noticias (red)</primary><secondary>cola</secondary></indexterm>  
<indexterm><primary>noticias (red)</primary><secondary>fichero activo</secondary></indexterm>  
Cada servidor guarda las noticias en una jerarquía de directorios bajo <filename>/var/spool/news</filename>, cada artículo en un fichero separado y cada grupo en un directorio separado. 
El nombre del directorio se construye a partir del nombre del grupo, cuyos componentes son los componentes de la ruta. De este modo, los artículos de <systemitem role="newsgroup">
comp.os.linux.misc</systemitem> se guardan en <filename>/var/spool/news/comp/os/linux/misc</filename>. Los artículos de un grupo reciben números de acuerdo a su orden de llegada. 
Este número sirve como nombre del fichero. El rango de los números de los ficheros vigentes se conserva en un fichero llamado <filename>active</filename> el cual al mismo tiempo 
sirve como la lista de grupos del sistema.  
</para>  
<?troff .Nd 10>  
  
<para>  
<indexterm><primary>noticias (red)</primary><secondary>borrado de noticias antiguas</secondary></indexterm>  
<indexterm><primary>noticias (red)</primary><secondary>caducidad de</secondary></indexterm>  
Toda vez que el espacio en disco es un recurso finito, se tiene que empezar a desechar artículos después de un tiempo. <footnote id="X-087-2-FNUN03">  
<para>  
Algunas persontas dicen que Usenet es una conspiración entre vendedores de modems y discos duros.  
</para>  
</footnote> A esto se llama <emphasis>expiración</emphasis>. Usualmente los artículos de un determinado grupo y jerarquía expiran al cabo de un número fijo de días después de llegar. 
El autor puede invalidar esta fecha de expiración especificando una fecha de expiración en el campo <literal>Expires:</literal> de la cabecera del artículo.  
  
</para>  
  
<para>  
Ahora usted tiene bastante información para escoger qué leer después. Los usuarios de UUCP    
pueden leer sobre C-News en <xref linkend="X-087-2-cnews">. Si usted está usando   
una red TCP/IP, lea acerca de NNTP en <xref linkend="X-087-2-nntp">. Si necesita transferir volúmenes moderados de noticias sobre TCP/IP, el servidor descrito en ese capítulo 
puede ser suficiente. Para instalar un servidor de noticias pesado que pueda manejar grandes volúmenes de material, vaya a leer acerca de Internet News en <xref linkend="X-087-2-inn">.  
</para>
  
<indexterm class="endofrange" startref="idx-news-1">  
<INDEXTERM startref="usenet.news" class=endofrange>  
</sect1>  
  
</chapter>
