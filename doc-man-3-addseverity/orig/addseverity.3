.\"  Copyright 2002 walter harms (walter.harms@informatik.uni-oldenburg.de)
.\"  Distributed under GPL
.\"  adapted glibc info page
.\"
.\"  polished a little, aeb
.TH ADDSEVERITY 3 2002-08-07 "gnu" "Linux Programmer's Manual"
.SH NAME
addseverity \- introduce new severity classes
.SH SYNOPSIS
.nf
.sp
.B #define _SVID_SOURCE
.br
.B #include <fmtmsg.h>
.sp
.BI "int addseverity(int " severity ", const char *" s );
.sp
.fi
.SH DESCRIPTION
This function allows the introduction of new severity classes
which can be addressed by the
.I severity
parameter of the 
.BR fmtmsg (3)
function. By default that latter function only knows how to
print messages for severity 0-4 (with strings (none), HALT,
ERROR, WARNING, INFO). This call attaches the given string
.I s
to the given value
.IR severity .
If
.I s
is NULL, the severity class with the numeric value
.I severity
is removed.
It is not possible to overwrite or remove one of the default
severity classes. The severity value must be nonnegative.
.SH "RETURN VALUE"
Upon success, the value
.B MM_OK
is returned. Upon error, the return value is
.BR MM_NOTOK .
Possible errors include: out of memory, attempt to remove a
nonexistent or default severity class.
.SH NOTE
New severity classes can also be added by setting the environment varible 
.BR SEV_LEVEL .
.SH "CONFORMING TO"
This function is not specified in the X/Open Portability Guide
although the `fmtsmg' function is.  It is available on System V
systems.
.SH "SEE ALSO"
.BR fmtmsg (3)
