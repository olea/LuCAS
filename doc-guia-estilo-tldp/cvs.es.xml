  <section id="cvs">
    <title> CVS </title>
    <para> 
      El LDP proporciona accesso CVS a sus autores. Hay algunas buenas
      razones para ello: 
    </para> 

    <orderedlist inheritnum="ignore" continuation="restarts">
      <listitem>
        <para>El CVS mantendrá una copia de seguridad externa de sus
	documentos. En el caso de que le entregue un documento a otro
	autor, él sólo tendrá que obtener el documento desde el CVS y
	continuarlo. En el caso de que necesite volver a una versión
	anterior de un documento, también puede obtenerla.</para>
      </listitem>
      <listitem>
        <para>Es genial tener a varias personas trabajando sobre el mismo
	documento. El CVS puede decirle qué cambios se realizaron sobre un
	documento por otro autor mientras usted editaba su copia, e
	integrar esos cambios.</para>
      </listitem>
      <listitem>
        <para>El CVS mantiene un registro de los cambios que se han
	realizado. Estos registros (y una marca de fecha) pueden colocarse
	automáticamente dentro del documento si utiliza unas etiquetas
	especiales que se preprocesan antes del procesador SGML</para>
      </listitem>
      <listitem>
        <para>Puede proporcionar la posibilidad de que un programa
	actualice automáticamente la página web del LDP con la
	documentación nueva al tiempo que se escribe y envía. Esto todavía
	no está configurado, pero es un objetivo potencial. Actualmente,
	las actualizaciones en el CVS hacen que el coordinador del COMO
	reciba un mensaje para que actualice la web del LDP, lo que
	significa que si utiliza el CVS, no necesita mandar por correo
	electrónic su código SGML.</para>
      </listitem>
    </orderedlist>

    <para>Si usted es un completo novato del CVS, hay algunas páginas web
    que pueden ayudarle:</para>

    <itemizedlist>
      <listitem>
        <para> <ulink
        url="http://cvshome.org/docs/blandy.html">http://cvshome.org/docs/blandy.html</ulink>
        </para>
      </listitem>
      <listitem>
        <para> <ulink
        url="http://www.loria.fr/~molli/cvs/doc/cvs_toc.html">http://www.loria.fr/~molli/cvs/doc/cvs_toc.html</ulink></para> 
      </listitem>
    </itemizedlist>

    <section id="getaccount">
      <title>Obtener una cuenta CVS</title>
      <para>Lo primero que necesita es una cuenta en el repositorio CVS del
      LDP. Esto es como el directorio raíz que utiliza el CVS, con varios
      subproyectos (COMOs, mini COMOs, etc.) creados como
      subdirectorios.</para>
      <para>Por favor, rellene este formulario:
	      <ulink url="http://tldp.org/cvs/">
		      http://tldp.org/cvs/</ulink>
      </para>
      <para>Al rellenar el formulario, queremos que nos informe de sus
      planes, por ejemplo, qué COMO mantiene usted.
      </para>
      <para>Se creará su directorio único CVSROOT y recibirá un correo
      electrónico con una respuesta. Cuando reciba su respuesta, ingrese en
      su CVSROOT y asegúrese de que todo está configurado
      correctamente:</para>

      <screen format="linespecific">
<prompt>bash$</prompt> <command>export
	CVSROOT=:pserver:<replaceable>su_usuario</replaceable>@cvs.tldp.org:/cvsroot</command>
<prompt>bash$</prompt> <command>cvs -d $CVSROOT login</command>
</screen>

      <para>(Sustituya <replaceable>su_usuario</replaceable> con lo que se
      le envió en el mensaje de respuesta).</para>
      <para>Se le pedirá una contraseña, y luego se le dará acceso al
      repositorio CVS en modo lectura-escritura. Una vez que haya hecho
      <command moreinfo="none">cvs login</command> y se le haya dado acceso
      al sistema, su contraseña se guardará en el fichero
      <filename moreinfo="none">.cvspass</filename> y no tendrá que hacer
      <command moreinfo="none">cvs login</command> de nuevo. Simplemente
      especifique el CVSROOT y siga. Puede obtener todo el repositorio con
      este comando:</para>

      <screen>
<prompt>bash$</prompt> <command>cvs get LDP</command>
</screen>

      <para>O puede obtener el código SGML de su documento con estos
      comandos:</para>

      <screen format="linespecific">
<prompt>bash$</prompt> <command>cvs get LDP/howto/docbook/SU-COMO.sgml</command>
<prompt>bash$</prompt> <command>cvs get
guide/docbook/SUGUIA</command> 
</screen>
    </section>

    <section id="othercvsnotes">
      <title>Otras notas acerca del repositorio CVS</title>

      <section id="cvsweb">
        <title>Ficheros del CVS vía web</title>
        <para>Puede acceder al repositorio CVS mediante la web desde <ulink
        url="http://cvsview.tldp.org/">http://cvsview.tldp.org/</ulink>.
        </para>
      </section>

      <section id="cvsgraphics">
        <title>Acceso gráfico al CVS</title>
        <para>Existen interfaces gráficas para el CVS, y tiene una listade
	ellos en <ulink
        url="http://freshmeat.net/appindex">http://freshmeat.net/appindex</ulink>.
        Busque CVS. </para>
      </section>
    </section>

    <section id="commoncvscommands">
      <title>Comandos comunes del CVS</title>

      <section id="updatingcvs">
        <title>Actualizar ficheros con el CVS</title>
        <para>El CVS tiene una etiqueta especial,
	<emphasis>$Id&dollar;</emphasis>, que puede utilizar para insertar
	automáticamente la fecha y la versión directamente en el documento.
	Después de hacer un <foreignphrase>commit</foreignphrase>, el CVS
	convertirá esta etiqueta en 
        <emphasis>$Id: cvs.es.xml,v 1.3 2003/02/05 19:43:40 chewie Exp $
        </emphasis>. Al incluír esta etiqueta en su documento, se
	actualizará automáticamente cada vez que cambie el fichero,
	haciendo que la marca de revision se incremente cada vez.</para>
        <para>Cuando esté listo para subir los cambios al servidor CVS,
	utilice el comando <command moreinfo="none">cvs ci -m
	&quot;comentario&quot; SU-COMO.sgml</command>. El -m
	&quot;comentario&quot; no es necesario, pero si no lo incluye,
	aparecerá el editor (normalmente vi, o lo que contenga su variable
	de entorno <envar>EDITOR</envar>) y podrá añadir un comentario
	sobre los cambios.</para>
        <para>Puede leer más acerca del CVS en la lista de discusión</para>
        <para>Si utiliza el árbol CVS del LDP mientras desarrolla su
	documento, necesitará notificar al LDP cuando su documento esté
	listo para su publicación. Existen dos maneras:</para>

	<itemizedlist>
          <listitem>
		<para>Puede añadir al mensaje del
		<foreignphrase>commit</foreignphrase> un texto parecido a
		"- listo para publicar."</para>
	  </listitem>
 	  <listitem>
		<para>Puede notificárnoslo por correo electrónico. El
		correo electrónico debe enviarse a
		<email>submit@en.tldp.org</email>. Indique dentro del
		mensaje el título de su documento y la ruta relativa al
		fichero o los ficheros de su documento en el árbol CVS del
		LDP.</para>
          </listitem>
  	</itemizedlist>

        <para>Preferimos que los usuarios del CVS activen la operación de
	publicación mediante su mensaje del
	<foreignphrase>commit</foreignphrase>.</para>

      </section>

      <section id="addnewcvs">
        <title>Añadir nuevos ficheros</title>
        <para>
	  Si su documento contiene gráficos o múltiples ficheros, puede
	  llegar a un punto en el que necesite añadir nuevos ficheros a su
	  repositorio del CVS.
        </para>
        <para>
	  Para esto, asegúrese de que su COMO está en su propio directorio.
	  Quizá quiera coordinarse con la gente de
	  <email>submit@en.tldp.org</email> para asegurarse de que puede
	  añadir gráficos u otros ficheros a su COMO.
        </para>
        <para>
	  Una vez realizado esto, utilice el comando <command>cvs
	  get</command> para obtener la última copia de su COMO. En la
	  mayoría de los casos, el comando será parecido a algo como
	  <command>cvs get LDP/howto/docbook/SU-COMO/</command>
	  suponiendo que su CVSROOT está bien configurado.
        </para>
        <para>
	  Copie los ficheros que quiera añadir al repositorio. El comando
          <command>cvs add <replaceable>fichero</replaceable></command>
	  le dirá al servidor CVS que quiere añadir
	  <replaceable>fichero</replaceable> al repositorio. Ahora puede
	  utilizar <command>cvs commit</command> para subir los cambios al
	  servidor CVS. Cuando haya acabado, los ficheros serán parte del
	  repositorio.
        </para>
      </section>
      <section id="tagrelease">
        <title>Crear Tag Releases</title>
        <para>
	  Ocasionalmente, puede que quiera crear lo que considere como una
	  liberación estable. Esto es una manera efectiva de indicarle al
	  coordinador del LDP que su documento está listo para su
	  publicación. Esta **tag release indica una versión específica de
	  su COMO. Esto le permite seguir creando nuevas versiones de su
	  COMO sin que puedan colocarse por accidente en la página web.
        </para>
        <para>
	  La desventaja de crear una liberación estable (o tag) es que
	  utiliza la versión actual de los ficheros - los últimos que se
	  han subido. Utilice <command>cvs commit</command> para asegurarse
	  de que sus ficheros están sincronizados, y luego <command>cvs -q
	  tag <replaceable>Release-x_y</replaceable></command>.
        </para>
        <para>
	  Puede sutituír <replaceable>Release-x_y</replaceable> con lo que
	  quiera. Sin embargo, para crear un muro entre las revisiones del
	  CVS y **tag releases, la **tag release debe comenzar por una
	  letra, y debe contener letras, números, guiones o guiones bajos.
        </para>
      </section>
      <section id="recovery">
        <title>Recuperar versiones antiguas</title>
        <para>
	  Ahí está usted, escribiendo de nuevo, y entonces mete la pata.
	  Mal asunto. No importa qué haya sido, pero es suficiente para
	  decir que se acaba de cargar no sólo la versión de su disco
	  local, sino que ha subido los cambios al servidor CVS. Lo que
	  necesita hacer es volver hacia atrás en el tiempo y resucitar una
	  versión más antigua de su fichero.
        </para>
        <para>
	  Para hacer esto, necesitará conocer el número de versión del
	  fichero que quiere recuperar. El comando <command>cvs
	  diff</command> le dará una lista de revisiones si existen
	  diferencias. Puede coger el número de revisión, restarle uno, y
	  esa será probablemente la revisión que quiere.
        </para>
        <para>
	  El comando <command>cvs -Q update -p -r
	  <replaceable>revisión</replaceable></command>
          <replaceable>fichero</replaceable> le devolverá a stdout los
	  contenidos de la versión <replaceable>revisión</replaceable> del
	  fichero <filename>fichero</filename>. Puede entubarlos con
	  <command>more</command> o redirigir la salida a un fichero.
	  Convenientemente podrá redirigir la salida a un fichero llamado
	  <replaceable>fichero</replaceable>. Su fichero local será
	  entonces la revisión que quiere, y <command>cvs update</command>
	  actualizará el servidor CVS con la nueva (vieja) versión de
	  <replaceable>filename</replaceable>.
        </para>
      </section>
    </section>
  </section>

