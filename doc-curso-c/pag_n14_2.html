<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="StarOffice/5.1 (Linux)">
	<META NAME="AUTHOR" CONTENT=" ">
	<META NAME="CREATED" CONTENT="20000309;10183800">
	<META NAME="CHANGEDBY" CONTENT=" ">
	<META NAME="CHANGED" CONTENT="20000310;15255900">
</HEAD>
<BODY>
<P STYLE="page-break-before: always"><BR><BR>
</P>
<CENTER>
	<TABLE WIDTH=95% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=71*>
		<COL WIDTH=45*>
		<COL WIDTH=69*>
		<COL WIDTH=71*>
		<THEAD>
			<TR VALIGN=TOP>
				<TD WIDTH=28% BGCOLOR="#ffffff">
					<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><BR>
					</P>
					<P ALIGN=CENTER><A HREF="indice.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">contenido</FONT></FONT></B></A></P>
				</TD>
				<TD WIDTH=18% BGCOLOR="#ffffff">
					<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><BR>
					</P>
					<P ALIGN=CENTER><A HREF="index.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">Home</FONT></FONT></B></A></P>
				</TD>
				<TD WIDTH=27% BGCOLOR="#ffffff">
					<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><BR>
					</P>
					<P ALIGN=CENTER><A HREF="index.html#colaborar"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">colaborar</FONT></FONT></B></A></P>
				</TD>
				<TD WIDTH=28% BGCOLOR="#ffffff">
					<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><BR>
					</P>
					<P ALIGN=CENTER><A HREF="file:///root/cursoc.tar.gz"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">download</FONT></FONT></B></A></P>
				</TD>
			</TR>
		</THEAD>
	</TABLE>
</CENTER>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<UL>
	<LI><P ALIGN=LEFT STYLE="text-decoration: none"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>14.-
	Desarrollo de programas y creaci&oacute;n de librer&iacute;as bajo
	Unix-Linux</B></FONT></FONT></P>
	<UL TYPE=DISC>
		<LI><P ALIGN=LEFT><A HREF="pag_n14_1.html"><SPAN STYLE="text-decoration: none"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">14.1.-
		Las p&aacute;ginas man</FONT></FONT></B></SPAN></A><B> <FONT SIZE=3><FONT FACE="lucida, sans-serif">(por
		el dr7tbien)</FONT></FONT></B></P>
		<LI><P ALIGN=LEFT><A HREF="pag_n14_2.html"><SPAN STYLE="text-decoration: none"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">14.2.-
		Compilando con gcc</FONT></FONT></B></SPAN></A><SPAN STYLE="text-decoration: none"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		(por el dr7tbien)</FONT></FONT></B></SPAN></P>
		<LI><P ALIGN=LEFT><A HREF="pag_n14_3.html"><SPAN STYLE="text-decoration: none"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">14.3.-
		Creaci&oacute;n de librer&iacute;as</FONT></FONT></B></SPAN></A>
		<SPAN STYLE="text-decoration: none"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">(por
		el dr7tbien)</FONT></FONT></B></SPAN></P>
		<LI><P ALIGN=LEFT><A HREF="pag_n14_4.html"><SPAN STYLE="text-decoration: none"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">14.4.-
		Consulta de las funciones de que consta una biblioteca .a</FONT></FONT></B></SPAN></A><SPAN STYLE="text-decoration: none"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		(por el dr7tbien)</FONT></FONT></B></SPAN></P>
		<LI><P ALIGN=LEFT><A HREF="pag_n14_5.html"><SPAN STYLE="text-decoration: none"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">14.5.-
		Desarrollo de una librer&iacute;a y un fichero de cabecera propios</FONT></FONT></B></SPAN></A><SPAN STYLE="text-decoration: none"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		(por el dr7tbien)</FONT></FONT></B></SPAN></P>
		<LI><P ALIGN=LEFT><A HREF="pag_n14_6.html"><SPAN STYLE="text-decoration: none"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">14.6.-
		El comando make</FONT></FONT></B></SPAN></A><SPAN STYLE="text-decoration: none"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		(por el dr7tbien)</FONT></FONT></B></SPAN></P>
	</UL>
</UL>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><A NAME="14.2"></A><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B><SPAN STYLE="text-decoration: none"><IMG SRC="d0ac.gif" NAME="Imagen5" ALIGN=BOTTOM WIDTH=93 HEIGHT=36 BORDER=0></SPAN><FONT SIZE=4>14.2.-
Compilando con gcc</FONT></B></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; text-decoration: none"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B><IMG SRC="images/blurulr4.gif" NAME="Imagen6" ALIGN=BOTTOM WIDTH=665 HEIGHT=5 BORDER=0></B></FONT></FONT></P>
<P ALIGN=CENTER><BR><BR>
</P>
<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Una
vez desarrollado el c&oacute;digo de un programa la manera de hacerlo
ejecutable es compil&aacute;ndolo. Para ello usamos el compilador <B>GNU
gcc</B>. Una vez que disponemos del c&oacute;digo fuente en un
<B>archivo.c </B>podemos compilarlo directamente con el comando:</FONT></FONT></P>
<CENTER>
	<TABLE WIDTH=90% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=256*>
		<THEAD>
			<TR>
				<TD WIDTH=100% VALIGN=TOP BGCOLOR="#99ccff">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>gcc</B>
					archivo.c</FONT></FONT></P>
				</TD>
			</TR>
		</THEAD>
	</TABLE>
</CENTER>
<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><BR>Esta
orden generar&aacute; un archivo ejecutable llamado <B>a.out. </B>Si
el nombre de <B>a.out </B>no nos resultara amigable, podemos optar
por compilar con la opci&oacute;n <B>-o</B> de la siguiente manera:</FONT></FONT></P>
<CENTER>
	<TABLE WIDTH=90% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=256*>
		<THEAD>
			<TR>
				<TD WIDTH=100% VALIGN=TOP BGCOLOR="#99ccff">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>gcc </B>archivo.c
					-o nombre_mas_amigable</FONT></FONT></P>
				</TD>
			</TR>
		</THEAD>
	</TABLE>
</CENTER>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Esta
orden generar&aacute; un archivo ejecutable llamado
'<B>nombre_mas_amigable</B>' y el programa estar&aacute; listo para
su uso. Sencillo. No obstante ya hemos visto que el compilado de un
programa se compone de los sigioentes apartados:<BR></FONT></FONT><BR><BR>
</P>
<CENTER>
	<TABLE WIDTH=90% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=256*>
		<THEAD>
			<TR>
				<TD WIDTH=100% VALIGN=TOP BGCOLOR="#ffcc99">
					<UL TYPE=DISC>
						<LI><P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Preprocesado</FONT></FONT></P>
						<LI><P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Compilaci&oacute;n</FONT></FONT></P>
						<LI><P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Enlace</FONT></FONT></P>
					</UL>
				</TD>
			</TR>
		</THEAD>
	</TABLE>
</CENTER>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Nosotros
hemos agrupado con una sola orden los tres pasos. Ya hemos visto como
hacer un prerpcsedado solamente, con la opci&oacute;n de <B>gcc -E</B>.
Para generar archivos objeto ya compilados pero no enlazados usaremos
<B>gcc </B>con la opci&oacute;n <B>-c</B>, orden que se encargar&aacute;
de compilar el programa generando un archivo objeto con la extensi&oacute;n
<B>'.o</B>'. La orden ser&iacute;a:</FONT></FONT></P>
<CENTER>
	<TABLE WIDTH=90% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=256*>
		<THEAD>
			<TR>
				<TD WIDTH=100% VALIGN=TOP BGCOLOR="#99ccff">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>gcc -c archivo.c</FONT></FONT></P>
				</TD>
			</TR>
		</THEAD>
	</TABLE>
</CENTER>
<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><SPAN STYLE="font-weight: medium"><BR>Que
generaria un archivo objeto llamado </SPAN><B>archivo.o</B>. Este
tipo de orden aparentemente es trivial y nos supondr&iacute;a una
p&eacute;rdida de tiempo y ciertamente con los programas que hemos
visto hasta ahora as&iacute; es. Cuando nuestro proyecto se compone
de varias funciones y ficheros, la tarea de compilar comienza a
hacerse pesada para el computador. Si nuestro proyecto se compone de
20 ficheros, y tenemos todo el programa compilado , cuando tengamos
que retocar alg&uacute;n fichero, no es necesario compilar todo el
programa, tan s&oacute;lo compilar&iacute;amos el o los ficheros
afectados por las reformas, para luego enlazar todos los ficheros. Si
quisieramos compilar 5 ficheros pertenecientes al mismo programa
podriamos actuar de la siguiente manera:<BR></FONT></FONT><BR><BR>
</P>
<CENTER>
	<TABLE WIDTH=90% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=256*>
		<THEAD>
			<TR>
				<TD WIDTH=100% VALIGN=TOP BGCOLOR="#99ccff">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>gcc </B>-c
					fichero1.c fichero2.c fichero3.c fichero4.c fichero5.c</FONT></FONT></P>
				</TD>
			</TR>
		</THEAD>
	</TABLE>
</CENTER>
<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><BR>Esto
provocar&iacute;a la aparici&oacute;n de 5 nuevos ficheros en el
directorio de trabajo:</FONT></FONT></P>
<CENTER>
	<TABLE WIDTH=90% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=256*>
		<THEAD>
			<TR>
				<TD WIDTH=100% VALIGN=TOP BGCOLOR="#99ccff">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>fichero1.o
					fichero2.o fichero3.o fichero4.o fichero5.o</FONT></FONT></P>
				</TD>
			</TR>
		</THEAD>
	</TABLE>
</CENTER>
<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><BR>Para
enlazar todos los ficheros y obtener un ejecutable llamado
'<B>programilla.exe</B>' actuar&iacute;amos de la siguiente manera:</FONT></FONT></P>
<CENTER>
	<TABLE WIDTH=90% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=256*>
		<THEAD>
			<TR>
				<TD WIDTH=100% VALIGN=TOP BGCOLOR="#99ccff">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>gcc
					</B>fichero1.o fichero2.o fichero3.o fichero4.o fichero5.o -o
					programilla.exe</FONT></FONT></P>
				</TD>
			</TR>
		</THEAD>
	</TABLE>
</CENTER>
<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><BR>En
este punto ya tenemos el programa listo para funcionar. Tan s&oacute;lo
escribiendo en la linea de comandos '<B>programilla.exe</B>'. Si
tuvieramos que reformar el archivo <B>fichero3.c</B>, una vez
reformado compilariamos por separado fichero3.c:</FONT></FONT></P>
<CENTER>
	<TABLE WIDTH=90% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=256*>
		<THEAD>
			<TR>
				<TD WIDTH=100% VALIGN=TOP BGCOLOR="#99ccff">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>gcc -c
					fichero3.c</FONT></FONT></P>
				</TD>
			</TR>
		</THEAD>
	</TABLE>
</CENTER>
<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><BR>Para
obtener un archivo <B>fichero3.o</B>. Para enlazar todo el conjunto
de archivos '<B>*.o</B>', volveriamos a enlazar todos los archivos
con la orden:</FONT></FONT></P>
<CENTER>
	<TABLE WIDTH=90% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=256*>
		<THEAD>
			<TR>
				<TD WIDTH=100% VALIGN=TOP BGCOLOR="#99ccff">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>gcc
					</B>fichero1.o fichero2.o fichero3.o fichero4.o fichero5.o -o
					programilla.exe</FONT></FONT></P>
				</TD>
			</TR>
		</THEAD>
	</TABLE>
</CENTER>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Todas
estas tareas pueden ejecutarse autom&aacute;ticamente con s&oacute;lo
ejecutar una determnado programilla llamado <B>make</B>, que m&aacute;s
adelante veremos como funciona.</FONT></FONT></P>
<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Puede
ocurrir que cuando compilemos nuestro programa veamos una enorme
lista de errores y que sea casi imposible verlos por pantalla devidoa
la longitud de los mismos. Normalmente esto es debido a un error de
sintaxis al principio del programa, por eso es interesante comenzar a
examinar los errores emitidos por el compilador desde el principio.
No obstante, si nos fuera imposible ver los errores porque salen de
la pantalla, podr&iacute;amos ver todos los errores en un fichero
usando el siguiente comando con <B>gcc</B>:</FONT></FONT></P>
<CENTER>
	<TABLE WIDTH=90% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=256*>
		<THEAD>
			<TR>
				<TD WIDTH=100% VALIGN=TOP BGCOLOR="#99ccff">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>gcc fichero.c 2&gt;
					salida</FONT></FONT></P>
				</TD>
			</TR>
		</THEAD>
	</TABLE>
</CENTER>
<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><BR>Este
comando almacenar&iacute;a todos los errores capturados por <B>gcc </B>en
el fichero llamado <B>salida</B>. El fichero <B>salida </B>no hace
falta crearlo, pues es creado autom&aacute;ticamente con el comando
visto. Despues podriamos echar un vistazo al fichero y observar los
errores cometidos en nuestro fichero fuente desde el principio.
Observa una salida para el comando <B>gcc</B> de un fichero fuente
llamado <B>Averiguador.c </B>con errores de sintaxis:<BR></FONT></FONT><BR><BR>
</P>
<CENTER>
	<TABLE WIDTH=90% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=256*>
		<THEAD>
			<TR>
				<TD WIDTH=100% VALIGN=TOP BGCOLOR="#99ccff">
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Averiguador.c:
					In function `main':</FONT></FONT></P>
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Averiguador.c:16:
					`JAMONRSSSSS' undeclared (first use this function)</FONT></FONT></P>
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Averiguador.c:16:
					(Each undeclared identifier is reported only once</FONT></FONT></P>
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Averiguador.c:16:
					for each function it appears in.)</FONT></FONT></P>
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Averiguador.c:16:
					parse error before string constant</FONT></FONT></P>
				</TD>
			</TR>
		</THEAD>
	</TABLE>
</CENTER>
<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><BR>Observa
que en primer lugar nos indica el fichero que continene el error La
funci&oacute;n que contiene el error (funci&oacute;n <B>main()</B>) y
a continuaci&oacute;n las lineas de error. En este caso parece ser
que la llinea 16 contine 4 errores, deberiamos de echarle un vistazo,
incluso a la declaraci&oacute;n de las variables contenidas en dicha
linea. </FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<CENTER>
	<TABLE WIDTH=95% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=71*>
		<COL WIDTH=44*>
		<COL WIDTH=1*>
		<COL WIDTH=69*>
		<COL WIDTH=71*>
		<THEAD>
			<TR VALIGN=TOP>
				<TD WIDTH=28% BGCOLOR="#ffffff">
					<P ALIGN=CENTER><A HREF="indice.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">contenido</FONT></FONT></B></A></P>
				</TD>
				<TD WIDTH=17% BGCOLOR="#ffffff">
					<P ALIGN=CENTER><A HREF="index.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">Home</FONT></FONT></B></A></P>
				</TD>
				<TD COLSPAN=2 WIDTH=27% BGCOLOR="#ffffff">
					<P ALIGN=CENTER><A HREF="index.html#colaborar"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">colaborar</FONT></FONT></B></A></P>
				</TD>
				<TD WIDTH=28% BGCOLOR="#ffffff">
					<P ALIGN=CENTER><A HREF="../cursoc.tar.gz"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">download</FONT></FONT></B></A></P>
				</TD>
			</TR>
		</THEAD>
		<TBODY>
			<TR VALIGN=TOP>
				<TD COLSPAN=3 WIDTH=45% BGCOLOR="#ffffff">
					<P><BR>&nbsp; 
					</P>
					<P ALIGN=CENTER><IMG SRC="sologo.gif" NAME="Imagen9" ALIGN=MIDDLE WIDTH=97 HEIGHT=34 BORDER=0></P>
				</TD>
				<TD COLSPAN=2 WIDTH=55% BGCOLOR="#ffffff">
					<P ALIGN=LEFT><BR><BR>
					</P>
					<ADDRESS STYLE="margin-bottom: 0.5cm; font-weight: medium; text-align: left">
					<FONT FACE="lucida, sans-serif"><FONT SIZE=3>Ultima modificaci&oacute;n
					<SDFIELD TYPE=DATETIME SDVAL="36588,0897280093" SDNUM="1034;0;D/MM/AA">3/03/00</SDFIELD></FONT></FONT></ADDRESS>
					<ADDRESS STYLE="margin-bottom: 0.5cm; font-weight: medium; text-align: left">
					<FONT FACE="lucida, sans-serif"><FONT SIZE=3>autor: dr7tbien </FONT></FONT>
					</ADDRESS>
					<ADDRESS STYLE="text-align: left"><SPAN STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Para
					consultar cualquier cosilla o alguna sugerencia
					</FONT><A HREF="mailto:dr7tbien@mixmail.com"><FONT SIZE=3>dr7tbien@mixmail.com<BR></FONT></A></FONT></SPAN><BR>
					</ADDRESS>
				</TD>
			</TR>
		</TBODY>
	</TABLE>
</CENTER>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
</BODY>
</HTML>