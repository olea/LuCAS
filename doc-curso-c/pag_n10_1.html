<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="StarOffice/5.1 (Linux)">
	<META NAME="AUTHOR" CONTENT=" ">
	<META NAME="CREATED" CONTENT="20000309;8490500">
	<META NAME="CHANGEDBY" CONTENT=" ">
	<META NAME="CHANGED" CONTENT="20000310;14560700">
</HEAD>
<BODY>
<P STYLE="page-break-before: always"><BR><BR>
</P>
<CENTER>
	<TABLE WIDTH=95% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=71*>
		<COL WIDTH=45*>
		<COL WIDTH=69*>
		<COL WIDTH=71*>
		<THEAD>
			<TR VALIGN=TOP>
				<TD WIDTH=28% BGCOLOR="#ffffff">
					<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><BR>
					</P>
					<P ALIGN=CENTER><A HREF="indice.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">contenido</FONT></FONT></B></A></P>
				</TD>
				<TD WIDTH=18% BGCOLOR="#ffffff">
					<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><BR>
					</P>
					<P ALIGN=CENTER><A HREF="index.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">Home</FONT></FONT></B></A></P>
				</TD>
				<TD WIDTH=27% BGCOLOR="#ffffff">
					<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><BR>
					</P>
					<P ALIGN=CENTER><A HREF="index.html#colaborar"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">colaborar</FONT></FONT></B></A></P>
				</TD>
				<TD WIDTH=28% BGCOLOR="#ffffff">
					<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><BR>
					</P>
					<P ALIGN=CENTER><A HREF="file:///root/cursoc.tar.gz"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">download</FONT></FONT></B></A></P>
				</TD>
			</TR>
		</THEAD>
	</TABLE>
</CENTER>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<UL>
	<LI><P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>10.-
	Abriendo, escribiendo, borrando y cerrando archivos (por el
	dr7tbien)</B></FONT></FONT></P>
	<UL TYPE=DISC>
		<LI><P ALIGN=LEFT><A HREF="pag_n10_1.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.1,.
		Introduci&oacute;n</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P ALIGN=LEFT><A HREF="pag_n10_2.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.2.-Streams,
		funciones de apertura de archivos y archivos</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">n
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_3.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.3.-
		Funci&oacute;n fopen()</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		(por el dr7tbien)</FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_4.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.4.-
		Funcion fclose()</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_5.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.5.-
		Escribiendo caracteres en los ficheros: fgetc(), fputc(), putc() y
		getc()</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_6.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.6.-
		Reapertura de archivos mediante freopen()</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_7.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.7.-
		Entrada y salida de cadenas de caracteres, fputs() y fgets()</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_8.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.8.-
		Funciones fprintf() y fscanf()</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		(por el dr7tbien)</FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_9.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.9.-
		Escritura y lectura de datos en bloques, fwrite() y fread()</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_10.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.10.-
		Desarrollo del programa articulo.exe usando estructuras de datos</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_11.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.11.-
		Borrado de datos en archivos</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_12.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.12.-
		Acceso a los ficheros de forma no secuencial, fseek()</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_13.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.13.-
		&iquest;Donde est&aacute; el puntero de L/E? La funci&oacute;n
		ftell()</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_14.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.14.-
		Funci&oacute;n rewind()</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">n
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_15.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.15.-
		Borrando ficheros con remove()</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_16.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.16.-
		Renombrando ficheros con rename()</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_17.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.17.-
		A&ntilde;adiendo funciones de borrado al programa articulo.exe</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_18.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.18.-
		Detecci&oacute;n del fin de fichero con feof()</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
	</UL>
</UL>
<P ALIGN=LEFT><A NAME="10.1"></A><FONT FACE="lucida, sans-serif"><FONT SIZE=3><IMG SRC="d0ac.gif" NAME="Imagen3" ALIGN=BOTTOM WIDTH=93 HEIGHT=36 BORDER=0>
<B><FONT SIZE=4>10.1.- Introducci&oacute;n<SPAN STYLE="text-decoration: none"><SPAN STYLE="text-decoration: none"><SPAN STYLE="text-decoration: none">
</SPAN></SPAN></SPAN></FONT><SPAN STYLE="text-decoration: none"><SPAN STYLE="text-decoration: none"><SPAN STYLE="text-decoration: none">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<IMG SRC="images/blurulr4.gif" NAME="Imagen4" ALIGN=BOTTOM WIDTH=665 HEIGHT=5 BORDER=0></SPAN></SPAN></SPAN></B></FONT></FONT></P>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Hasta
este momento hemos visto la manera de introducir datos en programas
en tiempo de ejecuci&oacute;n. Aunque no nos lo parezca esto es un
gran problema, pues cuando cerramos el programa perdemos todos los
datos. Para ello los sistemas operativos disponene de ficheros o
archivos donde podermos guardar los datos que nos interesan para
poderlos recuperarlos posteriormente. Si has llegado a estas alturas
de nuestras explicaciones es evidente que tienes una clara imagen de
lo que es un archivo. No obstante vamos a dar un peque&ntilde;o viaje
sobre este concepto.</FONT></FONT></P>
<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Si hasta el momento
s&oacute;lo has usado MSDOS, tu concepto de archivo se limitar&aacute;
a archivos de texto, ejecutables y archivos propios de los programas,
estos dos &uacute;ltimos resulta que cuando los abrirmos arrojan
s&iacute;mbolos extra&ntilde;os, que parecen del m&aacute;s all&aacute;,
lo cual disgusta bastante, ya que impide conocer los entresijos de
ciertos programas. Incluso tambien podr&iacute;amos hacer una
subdivisi&oacute;n en &quot;archivos peligrosos o que no se tocan&quot;,
es decir archivos propios de la configuraci&oacute;n y arranque del
sistema. Esto en el modo usuario.</FONT></FONT></P>
<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Un sistema UNIX est&aacute;
dividido en grupos y cada grupo dispone de diferentes usuarios.
Existen archivos comunes a todos los usuarios. El usuario es que da
propiedades a los diferentes tipos de archivo. Cuando un usuario crea
un archivo, ese archivo pertenece a dicho usuario y por simpat&iacute;a
con el propio grupo al que pertenece el user, a los usuarios de dicho
grupo, les suele permitir ciertas licencias con el arrchivo. Tambien
y por id&eacute;ntica simpat&iacute;a para con otros grupos y
usuarios de dichos grupos, el archivo creado puede dejarse leer,
escribir o incluso ejecutarlo. El superusuario, sin embargo, puede
tener acceso sobre cualquier archivo del sistema. Si ejecutamos el
comando <B>ls -l</B> (lista los archivos y subdirectorios del
directorio en el que se ejecuta) sobre un directorio, que contenga
archivos y directorios, obtendremos algo parecido a esto:</FONT></FONT></P>
<P ALIGN=CENTER><FONT FACE="lucida, sans-serif"><FONT SIZE=3><IMG SRC="ls.jpg" NAME="Imagen2" ALIGN=BOTTOM WIDTH=623 HEIGHT=467 BORDER=0></FONT></FONT></P>
<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><BR>Delante de cada
listado de archivo aparecen listas de letras del tipo: <B>drwxr-xr--</B>
&oacute; <B>-rwr-xrw-</B>. Si estas cadenas de letras comienzan con
la letra <B>d</B>, significan que son subdirectorios, si comienzan
por un '-', significa que son archivos. Las tres primeras letras a
continuaci&oacute;n significan los permisos para el propietario del
archivo, las siguientes tres letras son los permisos para los
usuarios del grupo al que pertenece el propietario el archivo y las
&uacute;ltimas tres letras hacen referencia a los permisos para todos
los usuarios restantes, aunque provengan de Internet. La letra <B>r</B>,
inicial de read (leer), hace referencia al permiso de lectura. La
letra <B>w</B>, inicial de write (escribir), hace referencia al
permiso de escritura en el fichero. Si aparece la letra <B>x</B> en
tercer lugar nos indica que el fichero es ejecutable. Por &uacute;ltimo
si aparece un '<B>-</B>', sifnifica que el fichero carece del permiso
en el lugar que ocupa.<BR>Linux, para conocer el espacio que ocupan y
d&oacute;nde est&aacute;n los ficheros de todo su &aacute;mbito,
s&iacute;mplemente guarda la direcci&oacute;n del fichero y el tama&ntilde;o
del mismo de forma que cuando lee un fichero de 3200 bytes, busca el
comienzo del fichero y lee 3200 bytes, incluyendo el car&aacute;cter
EOF de fin de fichero. MSDOS usa este m&eacute;todo en su forma
binaria, los sistemas UNIX lo hace con todos sus archivos.</FONT></FONT></P>
<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>La programaci&oacute;n
en C permite abrir, crear, borrar y modificar ficheros de acuerdo a
ciertas funciones de biblioteca. Las funciones que se usan para poder
abrir y manipular ficheros son <B>fopen() </B>y <B>freopen()</B>. C
nos deja abrirlo para leer, para escribir o para &aacute;mbas cosas.</FONT></FONT></P>
<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Cuando se ejecuta un
programa, se abren tres ficheros que se asocian a tres dispositivos: </FONT></FONT>
</P>
<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>stdin </B>dispositivo
de entrada de datos (teclado)<BR><B>stdout </B>dispositivo de salida
de datos (pantalla)<BR><B>stderr </B>dispositivo de error (pantalla)</FONT></FONT></P>
<P><FONT SIZE=3><FONT FACE="lucida, sans-serif">Estos ficheros, son
punteros constantes al flujo de informaci&oacute;n (stream) hacia una
estructura de tipo FILE definida en </FONT></FONT><A HREF="stdio.htm"><FONT SIZE=3><FONT FACE="lucida, sans-serif">stdio.h</FONT></FONT></A><FONT SIZE=3><FONT FACE="lucida, sans-serif">.
</FONT></FONT>
</P>
<P><BR><BR>
</P>
<CENTER>
	<TABLE WIDTH=95% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=71*>
		<COL WIDTH=44*>
		<COL WIDTH=1*>
		<COL WIDTH=69*>
		<COL WIDTH=71*>
		<THEAD>
			<TR VALIGN=TOP>
				<TD WIDTH=28% BGCOLOR="#ffffff">
					<P ALIGN=CENTER><A HREF="indice.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">contenido</FONT></FONT></B></A></P>
				</TD>
				<TD WIDTH=17% BGCOLOR="#ffffff">
					<P ALIGN=CENTER><A HREF="index.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">Home</FONT></FONT></B></A></P>
				</TD>
				<TD COLSPAN=2 WIDTH=27% BGCOLOR="#ffffff">
					<P ALIGN=CENTER><A HREF="index.html#colaborar"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">colaborar</FONT></FONT></B></A></P>
				</TD>
				<TD WIDTH=28% BGCOLOR="#ffffff">
					<P ALIGN=CENTER><A HREF="../cursoc.tar.gz"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">download</FONT></FONT></B></A></P>
				</TD>
			</TR>
		</THEAD>
		<TBODY>
			<TR VALIGN=TOP>
				<TD COLSPAN=3 WIDTH=45% BGCOLOR="#ffffff">
					<P><BR>&nbsp; 
					</P>
					<P ALIGN=CENTER><IMG SRC="sologo.gif" NAME="Imagen9" ALIGN=MIDDLE WIDTH=97 HEIGHT=34 BORDER=0></P>
				</TD>
				<TD COLSPAN=2 WIDTH=55% BGCOLOR="#ffffff">
					<P ALIGN=LEFT><BR><BR>
					</P>
					<ADDRESS STYLE="margin-bottom: 0.5cm; font-weight: medium; text-align: left">
					<FONT FACE="lucida, sans-serif"><FONT SIZE=3>Ultima modificaci&oacute;n
					<SDFIELD TYPE=DATETIME SDVAL="36588,0897280093" SDNUM="1034;0;D/MM/AA">3/03/00</SDFIELD></FONT></FONT></ADDRESS>
					<ADDRESS STYLE="margin-bottom: 0.5cm; font-weight: medium; text-align: left">
					<FONT FACE="lucida, sans-serif"><FONT SIZE=3>autor: dr7tbien </FONT></FONT>
					</ADDRESS>
					<ADDRESS STYLE="text-align: left"><SPAN STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Para
					consultar cualquier cosilla o alguna sugerencia
					</FONT><A HREF="mailto:dr7tbien@mixmail.com"><FONT SIZE=3>dr7tbien@mixmail.com<BR></FONT></A></FONT></SPAN><BR>
					</ADDRESS>
				</TD>
			</TR>
		</TBODY>
	</TABLE>
</CENTER>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
</BODY>
</HTML>