<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="StarOffice/5.1 (Linux)">
	<META NAME="AUTHOR" CONTENT=" ">
	<META NAME="CREATED" CONTENT="20000309;9125300">
	<META NAME="CHANGEDBY" CONTENT=" ">
	<META NAME="CHANGED" CONTENT="20000310;15033500">
</HEAD>
<BODY>
<P STYLE="page-break-before: always"><BR><BR>
</P>
<CENTER>
	<TABLE WIDTH=95% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=71*>
		<COL WIDTH=45*>
		<COL WIDTH=69*>
		<COL WIDTH=71*>
		<THEAD>
			<TR VALIGN=TOP>
				<TD WIDTH=28% BGCOLOR="#ffffff">
					<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><BR>
					</P>
					<P ALIGN=CENTER><A HREF="indice.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">contenido</FONT></FONT></B></A></P>
				</TD>
				<TD WIDTH=18% BGCOLOR="#ffffff">
					<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><BR>
					</P>
					<P ALIGN=CENTER><A HREF="index.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">Home</FONT></FONT></B></A></P>
				</TD>
				<TD WIDTH=27% BGCOLOR="#ffffff">
					<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><BR>
					</P>
					<P ALIGN=CENTER><A HREF="index.html#colaborar"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">colaborar</FONT></FONT></B></A></P>
				</TD>
				<TD WIDTH=28% BGCOLOR="#ffffff">
					<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><BR>
					</P>
					<P ALIGN=CENTER><A HREF="file:///root/cursoc.tar.gz"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">download</FONT></FONT></B></A></P>
				</TD>
			</TR>
		</THEAD>
	</TABLE>
</CENTER>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<UL>
	<LI><P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>11.-
	Detecci&oacute;n de errores en el sistema y apertura de archivos
	bajo Linux (por el dr7tbien)<BR></B></FONT></FONT><BR><BR>
	</P>
</UL>
<UL>
	<UL TYPE=DISC>
		<LI><P ALIGN=LEFT><A HREF="pag_n11_1.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">11.1.-
		Detecci&oacute;n de errores en el manejo de archivos</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		(por el dr7tbien)</FONT></FONT></B></P>
		<LI><P ALIGN=LEFT><B><FONT SIZE=3><FONT FACE="lucida, sans-serif"><SPAN STYLE="text-decoration: none"><A HREF="pag_n11_2.html">11.2.-
		Operaciones con archivos bajo Linux</A><A HREF="pagina_n10.htm#11.2"><SPAN STYLE="text-decoration: none">
		</SPAN></A></SPAN>(por el dr7tbien)</FONT></FONT></B></P>
		<LI><P ALIGN=LEFT><A HREF="pag_n11_3.html"><SPAN STYLE="text-decoration: none"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">11.3.-
		Creaci&oacute;n de enlaces, enlaces duros y simb&oacute;licos</FONT></FONT></B></SPAN></A><B>
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></B></P>
		<LI><P ALIGN=LEFT><A HREF="pag_n11_4.html"><SPAN STYLE="text-decoration: none"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">11.4.-
		Modificaci&oacute;n de los permisos sobre un archivo, access(),
		chmod() y fchmod()</FONT></FONT></B></SPAN></A><B> <FONT SIZE=3><FONT FACE="lucida, sans-serif">(por
		el dr7tbien)</FONT></FONT></B></P>
		<LI><P ALIGN=LEFT><A HREF="pag_n11_5.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif"><SPAN STYLE="text-decoration: none">11.5.-
		Cambio del usuario propietario</SPAN>n</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		(por el dr7tbien)</FONT></FONT></B></P>
		<LI><P ALIGN=LEFT><B><FONT SIZE=3><FONT FACE="lucida, sans-serif"><A HREF="pag_n11_6.html"><SPAN STYLE="text-decoration: none"><FONT SIZE=3><FONT FACE="lucida, sans-serif">11.6.-
		Funciones para la gesti&oacute;n de directorios</FONT></FONT></SPAN></A>
		(por el dr7tbien)</FONT></FONT></B></P>
	</UL>
</UL>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT><BR><BR>
</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT><A NAME="11.2"></A><FONT FACE="lucida, sans-serif"><FONT SIZE=3><IMG SRC="d0ac.gif" NAME="Imagen4" ALIGN=BOTTOM WIDTH=93 HEIGHT=36 BORDER=0><B>
<SPAN STYLE="text-decoration: none"><FONT SIZE=4>11.2.- Operaciones
con archivos bajo Linux</FONT></SPAN><BR><IMG SRC="images/blurulr4.gif" NAME="Imagen5" ALIGN=BOTTOM WIDTH=665 HEIGHT=5 BORDER=0></B></FONT></FONT></P>
<P ALIGN=LEFT><BR><BR>
</P>
<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>En un sistema Linux
disponemos de los siguientes tipos de archivos:</FONT></FONT></P>
<UL TYPE=DISC>
	<LI><P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Directorios.-
	Que son contenedores de archivos o ficheros.</FONT></FONT></P>
	<LI><P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Archivos
	usuales.- Destinados a contener datos de los usuarios, bien creados
	por los usuarios, programas, procesos, etc......</FONT></FONT></P>
	<LI><P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Enlaces
	simb&oacute;licos.- Parece que son archivos, pero no lo son, son
	punteros a otros archivos. Cuando actuamos sobre un enlace, actuamos
	sobre el archivo apuntado por dicho enlace. Es similar a los accesos
	directos de MSDOS.</FONT></FONT></P>
	<LI><P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Archivos
	especiales.- Asociados a los controladores de diferentes
	dispoositivos del sistema. Cuando accedemos a un archivo de este
	tipio, estamos actuando sobre el dispositivo f&iacute;sico al que se
	refiere.</FONT></FONT></P>
</UL>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT STYLE="font-weight: medium; text-decoration: none"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Los
m&aacute;s importantes atributos de los archivos son:</FONT></FONT></P>
<UL TYPE=DISC>
	<LI><P ALIGN=LEFT STYLE="font-weight: medium; text-decoration: none">
	<FONT FACE="lucida, sans-serif"><FONT SIZE=3>Tama&ntilde;o en bytes</FONT></FONT></P>
	<LI><P ALIGN=LEFT STYLE="font-weight: medium; text-decoration: none">
	<FONT FACE="lucida, sans-serif"><FONT SIZE=3>Identificador del
	usuario propietario del archivo.</FONT></FONT></P>
	<LI><P ALIGN=LEFT STYLE="font-weight: medium; text-decoration: none">
	<FONT FACE="lucida, sans-serif"><FONT SIZE=3>Identificador del grupo
	de usuarios al que pertenece el usuario del archivo.</FONT></FONT></P>
	<LI><P ALIGN=LEFT STYLE="font-weight: medium; text-decoration: none">
	<FONT FACE="lucida, sans-serif"><FONT SIZE=3>N&uacute;mero de
	enlaces</FONT></FONT></P>
	<LI><P ALIGN=LEFT STYLE="font-weight: medium; text-decoration: none">
	<FONT FACE="lucida, sans-serif"><FONT SIZE=3>Derechos de acceso ,
	que contiene tres bits con el siguiente significado:</FONT></FONT></P>
	<UL TYPE=DISC>
		<LI><P ALIGN=LEFT STYLE="font-weight: medium; text-decoration: none">
		<FONT FACE="lucida, sans-serif"><FONT SIZE=3>Bit setuid. Si un
		archivo ejecutable dispone de este bit activado, lo hace con la
		identidad del propietario del archivo, ignorando la identidad del
		usuario que lo llama.</FONT></FONT></P>
		<LI><P ALIGN=LEFT STYLE="font-weight: medium; text-decoration: none"><A NAME="B1"></A>
		<FONT FACE="lucida, sans-serif"><FONT SIZE=3>Bit setgid. Si un
		archivo ejecutable dispone de este bit activado, lo hace con la
		identidad del grupo propietario del archivo, ignorando la identidad
		del grupo del usuario que lo llama.</FONT></FONT></P>
		<LI><P ALIGN=LEFT STYLE="font-weight: medium; text-decoration: none">
		<FONT FACE="lucida, sans-serif"><FONT SIZE=3>Bit sticky. Si un
		directorio posee este bit activado, s&oacute;lo puede ser suprimido
		por el propietario de dicho directorio.</FONT></FONT></P>
	</UL>
	<LI><P ALIGN=LEFT STYLE="font-weight: medium; text-decoration: none">
	<FONT FACE="lucida, sans-serif"><FONT SIZE=3>Fechas de actualizaci&oacute;n</FONT></FONT></P>
</UL>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Con estos
peqe&ntilde;os datos vamos a ver como efectuar la apertura y creaci&oacute;n
de archivos bajo Linux mediante llamadas al sistema. Veremos las
funciones para abrir y cerrar archivos, a continuaci&oacute;n las
funciones para escribir y borrrar datos en archivos y para cerrar el
cap&iacute;tulo desarrollaremos un programa que impliquen a estas
funciones.</FONT></FONT></P>
<P ALIGN=CENTER><BR><BR>
</P>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><IMG SRC="d0ac.gif" NAME="Imagen6" ALIGN=BOTTOM WIDTH=93 HEIGHT=36 BORDER=0><B><FONT SIZE=4>
11.2.1.- Apertura y cierre de archivos</FONT><BR><IMG SRC="images/blurulr4.gif" NAME="Imagen7" ALIGN=BOTTOM WIDTH=665 HEIGHT=5 BORDER=0></B></FONT></FONT></P>
<P ALIGN=LEFT><BR><BR>
</P>
<CENTER>
	<TABLE WIDTH=90% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=256*>
		<THEAD>
			<TR>
				<TD WIDTH=100% VALIGN=TOP BGCOLOR="#ffcc99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Sinopsis open() </FONT></FONT>
					</P>
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>#<B>include
					</B>&lt;sys/types.&gt;<BR>#<B>include </B>&lt;sys/stat.h&gt;<BR>#<B>include
					</B>&lt;fcntl.h&gt;<BR>#<B>include </B>&lt;unistd.h&gt;<BR><BR>int
					<B>open</B>(<B>char </B>*trayectoria, int bandera);<BR>int
					<B>open</B>(<B>char </B>*trayectoria, int bandera, mode_t
					mode);<BR><BR>Estas funciones devuelven un n&uacute;mero entero
					que servir&aacute; de identificador para el archivo abierto. En
					caso de error devuelve -1</FONT></FONT></P>
				</TD>
			</TR>
		</THEAD>
	</TABLE>
</CENTER>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>char
</B>*<B>trayectoria</B> especifica el nombre y trayectoria del
archivo. </FONT></FONT>
</P>
<P ALIGN=LEFT><FONT SIZE=3><FONT FACE="lucida, sans-serif"><B>int
bandera</B> est&aacute; definido en el archivo<B>
</B></FONT></FONT><A HREF="fcntl.htm"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">/usr/include/fcntl.h</FONT></FONT></B></A><FONT SIZE=3><FONT FACE="lucida, sans-serif"><B>
</B>que a su vez tiene una referencia a </FONT></FONT><A HREF="bits_fcntl.htm"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">/usr/include/bits/fcntl.h.</FONT></FONT></B></A><FONT SIZE=3><FONT FACE="lucida, sans-serif">
La constante <B>int bandera</B> puede tomar los siguientes valores:</FONT></FONT></P>
<P ALIGN=LEFT><BR><BR>
</P>
<CENTER>
	<TABLE WIDTH=90% BORDER=3 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=77*>
		<COL WIDTH=179*>
		<THEAD>
			<TR VALIGN=TOP>
				<TH WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=CENTER><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Opci&oacute;n
					</FONT></FONT>
					</P>
				</TH>
				<TH WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=CENTER><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Descripci&oacute;n</FONT></FONT></P>
				</TH>
			</TR>
		</THEAD>
		<TBODY>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>O_RDONLY</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Modo
					lectura</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>O_WRONLY</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Modo
					escritura</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>O_RDWR</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Modo
					lectura y escritura</FONT></FONT></P>
				</TD>
			</TR>
		</TBODY>
	</TABLE>
</CENTER>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Podemos
combinar estas opciones con las siguientes mediante el operador '|':</FONT></FONT></P>
<P ALIGN=LEFT><BR><BR>
</P>
<CENTER>
	<TABLE WIDTH=90% BORDER=3 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=77*>
		<COL WIDTH=179*>
		<THEAD>
			<TR VALIGN=TOP>
				<TH WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=CENTER><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Opci&oacute;n
					</FONT></FONT>
					</P>
				</TH>
				<TH WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=CENTER><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Descripci&oacute;n</FONT></FONT></P>
				</TH>
			</TR>
		</THEAD>
		<TBODY>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>O_CREAT</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Crea
					un archivo si no existe</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>O_EXCL</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Provoca
					error si el archivo existe y se ha especificado <B>O_CREAT</B></FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>O_TRUNC</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Suprime
					el contenido del archivo si existe</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>O_APPEND</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Abre
					el archivo en modo a&ntilde;adir, escribiendo al final del mismo</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>O_NOMBLOCK</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Modo
					compartido</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>O_SYNC</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Modos
					s&iacute;ncrono. Toda actualizaci&oacute;n es pasada
					directamente al archivo.</FONT></FONT></P>
				</TD>
			</TR>
		</TBODY>
	</TABLE>
</CENTER>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT><FONT SIZE=3><FONT FACE="lucida, sans-serif">El
par&aacute;metro mode t_mode definir&aacute; los derechos de acceso
del archivo a crear. Estas constantes est&aacute;n definidas en<B>
</B></FONT></FONT><A HREF="stat.htm"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">/usr/include/sys/stat.h</FONT></FONT></B></A><FONT SIZE=3><FONT FACE="lucida, sans-serif"><B>
</B>y pueden tomar los siguientes valores - si crees que necesitas
alguna opci&oacute;n m&aacute;s de las contempladas puedes ejecutar
el comando <B>man 2 open </B><SPAN STYLE="font-weight: medium">en tu
consola</SPAN>- :</FONT></FONT></P>
<P ALIGN=LEFT><BR><BR>
</P>
<CENTER>
	<TABLE WIDTH=90% BORDER=3 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=77*>
		<COL WIDTH=179*>
		<THEAD>
			<TR VALIGN=TOP>
				<TH WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=CENTER><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Opci&oacute;n
					</FONT></FONT>
					</P>
				</TH>
				<TH WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=CENTER><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Descripci&oacute;n</FONT></FONT></P>
				</TH>
			</TR>
		</THEAD>
		<TBODY>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>S_ISUID</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Asigna
					el bit setuid</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>S_ISGID</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Asigna
					el bit setgid </FONT></FONT>
					</P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>S_ISVTX</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Asigna
					el bit sticky</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>S_IRUSR</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Derecho
					de lectura para el propietario del archivo</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>S_IWUSR</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Derecho
					de escritura para el propietario del archivo</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>S_IXUSR</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Derecho
					de ejecucuci&oacute;n para el propietario del archivo</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>S_IRWXU</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Todos
					los derechos para el propietario del archivo</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>S_IRGRP</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Derecho
					de lectura para el grupo al que pertenece el propietario del
					archivo</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>S_IWGRP</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Derecho
					de escritura para el grupo al que pertenece el propietario del
					archivo</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>S_IXGRP</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Derecho
					de ejecucu&oacute;n para el grupo al que pertenece el
					propietario del archivo</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>S_IRWIG</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Todos
					los derechos para el grupo al que pertenece el propietario del
					archivo</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>S_IROTH</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Derecho
					de lectura para todos los usuarios que no pertenecen al grupo
					del usuario propietario del archivo.</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>S_IWOTH</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Derecho
					de escritura para todos los usuarios que no pertenecen al grupo
					del usuario propietario del archivo.</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>S_IXOTH</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Derecho
					de ejecuci&oacute;n para todos los usuarios que no pertenecen al
					grupo del usuario propietario del archivo.</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>S_IRWXO</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Todos
					los derechos para todos los usuarios que no pertenecen al grupo
					del usuario propietario del archivo.</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>ACCESSPERMS</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><SPAN STYLE="font-weight: medium">Equivale
					a</SPAN><B> S_IRWXU|S_IRWXG|S_IRWXO</B></FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>ALLPERMS</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><SPAN STYLE="font-weight: medium">Equivale
					a </SPAN><B>S_ISUID | S_ISGID | S_ISVTX | S_IRWXU |S_IRWXG |
					S_IRWXO</B></FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>DEFFILEMODE</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><SPAN STYLE="font-weight: medium">Equivale
					a </SPAN><B>S_IRUSR | S_IWUSR | S_IRGRP | S_IWGRP | S_IROTH |
					S_IWOTH.</B><SPAN STYLE="font-weight: medium"> Lectura y
					escritura para el propietario y lectura para el grupo y dem&aacute;s
					usuarios</SPAN></FONT></FONT></P>
				</TD>
			</TR>
		</TBODY>
	</TABLE>
</CENTER>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3>En caso de
error la variable <B>errno </B>puede concurrir en alguno de los
siguientes valores:</FONT></FONT></P>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT><BR><BR>
</P>
<CENTER>
	<TABLE WIDTH=90% BORDER=3 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=77*>
		<COL WIDTH=179*>
		<THEAD>
			<TR VALIGN=TOP>
				<TH WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=CENTER><FONT FACE="lucida, sans-serif"><FONT SIZE=3>C&oacute;digo
					de error</FONT></FONT></P>
				</TH>
				<TH WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=CENTER><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Descripci&oacute;n</FONT></FONT></P>
				</TH>
			</TR>
		</THEAD>
		<TBODY>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>EACCES</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Acceso
					especificasdo no permitido</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>EEXIST</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>La
					variable <B>char *trayectoria</B> se refiere a un archivo
					inexistente. Se han especificado las opciones <B>O_CREAT</B> y
					<B>O_EXCL</B> </FONT></FONT>
					</P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>EFAULT</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>char
					*trayectoria</B> hace referencia a una direcci&oacute;n inv&aacute;lida</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>EISDIR</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>char
					*trayectoria </B>se refiere a un directorio y adem&aacute;s se
					ha especificado el modo de lectura.</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>ELOOP</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Encontrado
					un ciclo de enlaces simb&oacute;licos</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>EMFILE</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Alcanzado
					el n&uacute;mero m&aacute;ximo de archivos que permite abrir el
					proceso</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>ENAMETOOLONG</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>char
					*trayectoria </B>es un nombre demasidos largo</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>ENOMEM</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Imposible
					la asignaci&oacute;n de memoria del nucleo para descriptores
					internos</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>ENOENT</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>char
					*trayectoria </B>no existe y no hemos especificado <B>O_CREAT</B></FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>ENOSPC</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Sistema
					de archivos saturados.</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>ENOTDIR</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>char
					*trayectoria </B>erronea </FONT></FONT>
					</P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>EROFS</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Sistema
					de archivos en modo lectura y se ha especificado el modo
					escritura</FONT></FONT></P>
				</TD>
			</TR>
		</TBODY>
	</TABLE>
</CENTER>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>La
forma de cerrar un archivo con una llamada al sistema es con la
funci&oacute;n <B>close()</B></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><BR>
</P>
<CENTER>
	<TABLE WIDTH=90% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=256*>
		<THEAD>
			<TR>
				<TD WIDTH=100% VALIGN=TOP BGCOLOR="#ffcc99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Sinopsis
					close()<BR><BR>#include &lt;unistd.h&gt;<BR><BR>int <B>close</B>(int
					descriptor);</FONT></FONT></P>
				</TD>
			</TR>
		</THEAD>
	</TABLE>
</CENTER>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Descriptor
se refiere al valor devuelto por la funci&oacute;n <B>open(). </B>En
caso de error esta funci&oacute;n devuelve -1 y 0 en caso de &eacute;xito.
El &uacute;nico valor para errno es <B>EBADF</B> que hace menci&oacute;n
a a que int descriptor es inv&aacute;lido.</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>A
continuaci&oacute;n desarrollaremos un programa en el que vamos a
crear un archivo llamado &quot;<B>Caldera</B>&quot; en modo
escritura. Para insertar la funci&oacute;n <B>open() </B>en el
programa debemos de tener en cuenta las distintas banderas y permisos
que vamos a dar al archivo. Como banderas vamos a escoger <B>O</B>_<B>CREAT</B>
porque no existe otro archivo en el directorio de creaci&oacute;n con
id&eacute;ntico nombre. <B>O_EXCL</B> porque queremos que genere un
error si el archivo existe. Si generara un error, devolver&iacute;a
-1 como identificador del archivo. En caso de no especificar esta
opci&oacute;n, no habr&aacute; manera de saber si antes hab&iacute;a
un archivo con el mismo nombre en el directorio donde se ejecute el
programa. Tambien especificamos el modo <B>O</B>_<B>WRONLY</B>. Los
especificadores <B>O_CREAT, O_EXCL, Y O_WRONLY</B> pertenecen al
segundo par&aacute;metro de la funci&oacute;n <B>open(), </B><SPAN STYLE="font-weight: medium">por
tanto la manera de colocarlos </SPAN>para abrirlo en modo lectura
ser&iacute;a:</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>O_CREAT
| O_EXCL | O_WRONLY </B></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Los
permisos que le vamos a dar a los archivos son los que vienen de
serie cuando ejecutamos <B>fopen(), </B>que son lectura y escritura
para el propietario y lectura para el grupo y todos los dem&aacute;s.
Este es el tercer par&aacute;metro de la funci&oacute;n <B>open(). </B><SPAN STYLE="font-weight: medium">Lo
conseguiremos con </SPAN><B>DEFFILEMODE </B><SPAN STYLE="font-weight: medium">:</SPAN></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT><BR><BR>
</P>
<CENTER>
	<TABLE WIDTH=90% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=23*>
		<COL WIDTH=233*>
		<THEAD>
			<TR VALIGN=TOP>
				<TD WIDTH=9% BGCOLOR="#ffff99">
					<P><BR>
					</P>
				</TD>
				<TD WIDTH=91% BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>/******AbrirCerrar.c*****/</FONT></FONT></P>
				</TD>
			</TR>
		</THEAD>
		<TBODY>
			<TR VALIGN=TOP>
				<TD WIDTH=9% BGCOLOR="#ffff99">
					<P ALIGN=LEFT><BR>
					</P>
				</TD>
				<TD WIDTH=91% BGCOLOR="#ffff99">
					<P><BR>
					</P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="1" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>1</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>#<B>include
					</B>&lt;stdio.h&gt;</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="2" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>2</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>#<B>include
					</B>&lt;sys/types.h&gt;</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="3" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>3</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>#<B>include
					</B>&lt;sys/stat.h&gt;</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="4" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>4</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>#<B>include
					</B>&lt;fcntl.h&gt;</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="5" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>5</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>#<B>include
					</B>&lt;unistd.h&gt;</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="6" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>6</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>#<B>include
					</B>&lt;errno.h&gt;</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="7" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>7</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><BR>
					</P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="8" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>8</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>char</B>
					*_sys_errlist[];</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="9" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>9</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><BR>
					</P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="10" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>10</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>main()</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="11" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>11</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>{</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="12" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>12</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;int</B>
					ref_arch;</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="13" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>13</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT COLOR="#0000ff"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>/*<B>O_CREAT
					</B>es para crear el archivo si no existe. <B>O_EXCL</B> para
					genere un error si el archivo existe, y <B>O_WRONLY</B>
					espacifica que vamos a abrirlo en modo escritura*/</FONT></FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="14" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>14</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;if</B>((ref_arch
					= open(&quot;Caldera&quot;, O_CREAT | O_EXCL | O_WRONLY,
					ALLPERMS)) == -1)</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="15" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>15</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="16" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>16</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf</B>(&quot;_sys_errlist[%d]
					= %s\n&quot;, errno, _sys_errlist[errno]);</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="17" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>17</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>exit</B>(-1);</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="18" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>18</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="19" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>19</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;printf</B>(&quot;Archivo
					creado\n&quot;);</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="20" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>20</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;close</B>(ref_arch);</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="21" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>21</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT COLOR="#000000"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>}</FONT></FONT></FONT></P>
				</TD>
			</TR>
		</TBODY>
	</TABLE>
</CENTER>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Este
programa s&oacute;lo crea un archivo llamado &quot;<B>Caldera</B>&quot;.
Cuando ejecutamos por primera vez el programa y suponiendo que en
directorio que lo ejecutemos no hay un archivo llamado &quot;<B>Caldera</B>&quot;,
la salida del programa ser&aacute;:</FONT></FONT></P>
<P ALIGN=LEFT><BR><BR>
</P>
<CENTER>
	<TABLE WIDTH=90% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=256*>
		<THEAD>
			<TR>
				<TD WIDTH=100% VALIGN=TOP BGCOLOR="#99ccff">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Archivo creado</FONT></FONT></P>
				</TD>
			</TR>
		</THEAD>
	</TABLE>
</CENTER>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Si no
borramos el archivo Caldera del directorio y ejcutamos el programa
por segunda vez, el resultado es:</FONT></FONT></P>
<P ALIGN=LEFT><BR><BR>
</P>
<CENTER>
	<TABLE WIDTH=90% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=256*>
		<THEAD>
			<TR>
				<TD WIDTH=100% VALIGN=TOP BGCOLOR="#99ccff">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>_sys_errlist[17]
					= File exists</B></FONT></FONT></P>
				</TD>
			</TR>
		</THEAD>
	</TABLE>
</CENTER>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><IMG SRC="d0ac.gif" NAME="Imagen8" ALIGN=BOTTOM WIDTH=93 HEIGHT=36 BORDER=0><B><FONT SIZE=4>
11.2.2.- Leyendo y escribiendo en los archivos, read() y write()</FONT><BR><IMG SRC="images/blurulr4.gif" NAME="Imagen11" ALIGN=BOTTOM WIDTH=665 HEIGHT=5 BORDER=0></B></FONT></FONT></P>
<P ALIGN=LEFT><BR><BR>
</P>
<CENTER>
	<TABLE WIDTH=90% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=256*>
		<THEAD>
			<TR>
				<TD WIDTH=100% VALIGN=TOP BGCOLOR="#ffcc99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Sinopsis de
					<B>read()</B></FONT></FONT></P>
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>#include
					&lt;unistd.h&gt;<BR><BR>ssize_t <B>read </B>(int descriptor,
					void *buffer, size_t count);<BR><BR>Devuelve el n&uacute;mero de
					bytes leidos. 0 si ha llegado al final del archivo y -1 en caso
					de error en la lectura</FONT></FONT></P>
				</TD>
			</TR>
		</THEAD>
	</TABLE>
</CENTER>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3>El
par&aacute;metro int descriptor es el valor devuelto por <B>open(),
void</B> *<B>buffer</B> es el puntero a una direcci&oacute;n de
memoria donde almacenar los datos leidos. El par&aacute;metro <B>size_t</B>
<B>count</B> es el n&uacute;mero de bytes que queremos leer del
archivo que tratamos. En caso de alg&uacute;n fallo la variable <B>errno</B><SPAN STYLE="font-weight: medium">
puede tomar los siguiente valores:</SPAN></FONT></FONT></P>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT><BR><BR>
</P>
<CENTER>
	<TABLE WIDTH=90% BORDER=3 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=77*>
		<COL WIDTH=179*>
		<THEAD>
			<TR VALIGN=TOP>
				<TH WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=CENTER><FONT FACE="lucida, sans-serif"><FONT SIZE=3>C&oacute;digo
					de error</FONT></FONT></P>
				</TH>
				<TH WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=CENTER><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Descripci&oacute;n</FONT></FONT></P>
				</TH>
			</TR>
		</THEAD>
		<TBODY>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>EBADF</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>int
					descriptor </B>contiene un identificador no v&aacute;lido. </FONT></FONT>
					</P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>EFAULT</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>buffer</B>
					hace referencia a una direcci&oacute;n inv&aacute;lida</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>EINTR</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Funci&oacute;n
					interrumpida por la recepci&oacute;n de una se&ntilde;al</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>EINVAL</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>int
					descriptor </B>se refiere a un objeto sobre el que no se puede
					leer</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>EIO</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Error
					de entrada / salida</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>EISDIR</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>int
					descriptor </B>se refiere a un directorio</FONT></FONT></P>
				</TD>
			</TR>
		</TBODY>
	</TABLE>
</CENTER>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Para
escribir datos en un archivo usamos la funci&oacute;n <B>write():</B></FONT></FONT></P>
<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><BR>
</P>
<CENTER>
	<TABLE WIDTH=90% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=256*>
		<THEAD>
			<TR>
				<TD WIDTH=100% VALIGN=TOP BGCOLOR="#ffcc99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Sinopsis de
					<B>write()</B></FONT></FONT></P>
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>#include
					&lt;unistd.h&gt;<BR><BR>ssize_t <B>write </B>(int descriptor,
					void *buffer, size_t count);<BR><BR>Devuelve el n&uacute;mero de
					bytes leidos. -1 en caso de error en la escritura</FONT></FONT></P>
				</TD>
			</TR>
		</THEAD>
	</TABLE>
</CENTER>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Funciona
escribiendo el n&uacute;mero de bytes especificados en size_t count y
pertencientes a <B>buffer, </B><SPAN STYLE="font-weight: medium">en
el archivo especificado por </SPAN><B>int descriptor .</B></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>En
caso de alg&uacute;n fallo la variable <B>errno</B><SPAN STYLE="font-weight: medium">
puede tomar los siguiente valores:</SPAN></FONT></FONT></P>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT><BR><BR>
</P>
<CENTER>
	<TABLE WIDTH=90% BORDER=3 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=77*>
		<COL WIDTH=179*>
		<THEAD>
			<TR VALIGN=TOP>
				<TH WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=CENTER><FONT FACE="lucida, sans-serif"><FONT SIZE=3>C&oacute;digo
					de error</FONT></FONT></P>
				</TH>
				<TH WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=CENTER><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Descripci&oacute;n</FONT></FONT></P>
				</TH>
			</TR>
		</THEAD>
		<TBODY>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>EBADF</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>int
					descriptor </B>contiene un identificador no v&aacute;lido. </FONT></FONT>
					</P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>EFAULT</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>buffer</B>
					hace referencia a una direcci&oacute;n inv&aacute;lida</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>EINTR</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Funci&oacute;n
					interrumpida por la recepci&oacute;n de una se&ntilde;al</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>EINVAL</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>int
					descriptor </B>se refiere a un objeto sobre el que no se puede
					leer</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>EIO</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Error
					de entrada / salida</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>EISDIR</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>int
					descriptor </B>se refiere a un directorio</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>EPIDE</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>int
					descriptor </B>se refiere a una tuber&iacute;a</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>ENOSPC</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Sistema
					de archivos saturado</FONT></FONT></P>
				</TD>
			</TR>
		</TBODY>
	</TABLE>
</CENTER>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Para
situarnos en un archivo, lo haremos mediante la funci&oacute;n
<B>lseek()</B></FONT></FONT></P>
<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><BR>
</P>
<CENTER>
	<TABLE WIDTH=90% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=256*>
		<THEAD>
			<TR>
				<TD WIDTH=100% VALIGN=TOP BGCOLOR="#ffcc99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Sinopsis de
					<B>lseek()</B></FONT></FONT></P>
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>#include
					&lt;unistd.h&gt;<BR><BR>off_t <B>lseek</B>(<B>int</B>
					descriptor, <B>off_t </B>offset, int whence);<BR><BR>Devuelve la
					posici&oacute;n del puntero de L/E en bytes &oacute; -1 en caso
					de fallo</FONT></FONT></P>
				</TD>
			</TR>
		</THEAD>
	</TABLE>
</CENTER>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3>El archivo
sobre el que queremos ejecutar <B>lseek()</B> viene especificado por
int descriptor. <B>off_t offset </B>especifica el desplazamiento
donde queremos situar el puntero de L/E tomado desde la posici&oacute;n
<B>int whence. int whence </B><SPAN STYLE="font-weight: medium">puede
tomar los valores siguientes:</SPAN></FONT></FONT></P>
<P ALIGN=LEFT><BR><BR>
</P>
<CENTER>
	<TABLE WIDTH=90% BORDER=3 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=58*>
		<COL WIDTH=198*>
		<THEAD>
			<TR VALIGN=TOP>
				<TH WIDTH=23% BGCOLOR="#ffcc99">
					<P ALIGN=CENTER><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Opci&oacute;n
					</FONT></FONT>
					</P>
				</TH>
				<TH WIDTH=77% BGCOLOR="#ffcc99">
					<P ALIGN=CENTER><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Descripci&oacute;n</FONT></FONT></P>
				</TH>
			</TR>
		</THEAD>
		<TBODY>
			<TR VALIGN=TOP>
				<TD WIDTH=23% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>SEEK_SET</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=77% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Posiciona
					la referencia <B>int whence</B> al principio del fichero</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=23% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>SEEK_CUR</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=77% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Posiciona
					la referencia <B>int whence</B> en la posici&oacute;n actual del
					puntero de L/E</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=23% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>SEEK_END</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=77% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Posiciona
					la referencia <B>int whence</B> al final del fichero</FONT></FONT></P>
				</TD>
			</TR>
		</TBODY>
	</TABLE>
</CENTER>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>En
caso de error, errno &ugrave;ede tomar los valores siguientes:</FONT></FONT></P>
<P ALIGN=LEFT><BR><BR>
</P>
<CENTER>
	<TABLE WIDTH=90% BORDER=3 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=77*>
		<COL WIDTH=179*>
		<THEAD>
			<TR VALIGN=TOP>
				<TH WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=CENTER><FONT FACE="lucida, sans-serif"><FONT SIZE=3>C&oacute;digo
					de error</FONT></FONT></P>
				</TH>
				<TH WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=CENTER><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Descripci&oacute;n</FONT></FONT></P>
				</TH>
			</TR>
		</THEAD>
		<TBODY>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>EBADF</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>int
					descriptor </B>contiene un identificador no v&aacute;lido. </FONT></FONT>
					</P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>EINVAL</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>El
					valor<B> int whence </B>no es v&aacute;lido</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>EPIDE</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>int
					descriptor </B>se refiere a una tuber&iacute;a</FONT></FONT></P>
				</TD>
			</TR>
		</TBODY>
	</TABLE>
</CENTER>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Para
saber donde se encuentra el puntero de L/E, podemos usar la funci&oacute;n
<B>lseek()</B> como sigue usando un archivo como el siguiente:</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT><BR><BR>
</P>
<CENTER>
	<TABLE WIDTH=90% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=23*>
		<COL WIDTH=233*>
		<THEAD>
			<TR VALIGN=TOP>
				<TD WIDTH=9% BGCOLOR="#ffff99">
					<P><BR>
					</P>
				</TD>
				<TD WIDTH=91% BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>/*Decidor.c**/</FONT></FONT></P>
				</TD>
			</TR>
		</THEAD>
		<TBODY>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="1" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>1</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>#include
					&lt;unistd.h&gt;</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="2" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>2</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><BR>
					</P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="3" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>3</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>off_t tell (int
					descriptor) </FONT></FONT>
					</P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="4" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>4</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>{</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="5" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>5</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>&nbsp;&nbsp;&nbsp;&nbsp;return
					<B>lseek</B>(descriptor, (off_t) 0, SEEK_CUR);</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="6" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>6</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>}</FONT></FONT></P>
				</TD>
			</TR>
		</TBODY>
	</TABLE>
</CENTER>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><SPAN STYLE="font-weight: medium">Esta
funci&oacute;n devolver&iacute;a la posici&oacute;n del cursor de L/E
en el fichero especificado por</SPAN><B> int descriptor</B><SPAN STYLE="font-weight: medium">.
</SPAN></FONT></FONT>
</P>
<P ALIGN=CENTER><BR><BR>
</P>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><IMG SRC="d0ac.gif" NAME="Imagen12" ALIGN=BOTTOM WIDTH=93 HEIGHT=36 BORDER=0><B><FONT SIZE=4>11.2.3.-
Guardado de datos modificados en un programa.</FONT><BR><IMG SRC="images/blurulr4.gif" NAME="Imagen13" ALIGN=BOTTOM WIDTH=665 HEIGHT=5 BORDER=0></B></FONT></FONT></P>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Si
abrimos un archivo con la opci&oacute;n <B>O</B>_<B>SYNC</B>, la
escritura de datos no presentar&aacute; problemas debido a que los
datos se van escribendo en el archivo ejecutado a medida que usamos
las funciones <B>fwrite() </B>&oacute; <B>write()</B>. En caso
contrario los datos a modificar de los archivos son almacenados en la
memoria cach&eacute;, para ir actualiz&aacute;ndose en disco
autom&aacute;ticamente cada vez que Linux lanza el proceso <B>update</B>.</FONT></FONT></P>
<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Uno
de los grandes problemas de los inform&aacute;ticos y programadores
han sido los cortes de luz. Si estamos a&ntilde;adiendo datos a una
base de datos y en ese momento la la compa&ntilde;&iacute;a con la
que tenemos contratada la luz decide que le va a ocurrir un corte de
corriente, la situaci&oacute;n se vuelve bastante frustante para
nosotros. Si bien la mayor&iacute;a de los programas tienen m&eacute;todos
para la no perdida de datos, hay que forzar a un programa en un test
a cortarle la luz &quot;a ver que pasa&quot;. </FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Para
provocar la escritura de los datos modificados por un programa se usa
la funci&oacute;n <B>sync() </B>(su uso est&aacute; desaconsejado) y
para guardar los datos pertenecientes a un archivo determinado, hemos
de lanzar la funci&oacute;n <B>fsync(). fdatasync() </B>escribe todos
los datos del archivo que sean nuevos, ignorando informaciones de
control del archivo. Si nos situamos en aplicaciones que deban
comunicarse con bases de datos o archivos de registro, donde la
escritura de datos se realiza en tam&ntilde;os relativamente
peque&ntilde;os, cuando usamos la funci&oacute;n <B>sync() </B>la
escritura de datos se realiza en dos etapas con una relativa p&eacute;rdida
de tiempo. Una primera fase en la que actualiza los datos
identificadores del archivo, como por ejemplo la &uacute;ltima fecha
de modificaci&oacute;n y una segunda etapa que se escriben todos los
nuevos datos del archivo. Incluso puede que termine la funci&oacute;n
antes de que se haya volcado la memoria cach&eacute;. Las p&aacute;ginas
<B>man</B> de Linux desaconsejan el uso de esta funci&oacute;n-
sync() -. En archivos donde estos datos de fecha no son necesarios y
la escritura de datos es primordial, hemos de usar la funci&oacute;n
<B>fdatasync(): </B></FONT></FONT>
</P>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><BR>
</P>
<CENTER>
	<TABLE WIDTH=90% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=256*>
		<THEAD>
			<TR>
				<TD WIDTH=100% VALIGN=TOP BGCOLOR="#ffcc99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><SPAN STYLE="font-weight: medium">Sinopsis
					de</SPAN><B> sync()</B><SPAN STYLE="font-weight: medium">,</SPAN><B>
					fsync </B><SPAN STYLE="font-weight: medium">y</SPAN><B>
					fdatasyn()</B></FONT></FONT></P>
					<P STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>#include
					&lt;unistd.h&gt;<BR>int <B>sync</B>(void);<BR><BR>Siempre
					devuelve 0;</FONT></FONT></P>
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><SPAN STYLE="font-weight: medium"><BR>int
					<B>fsync</B>(int descriptor);<BR>int <B>fdatasync</B>(int
					descriptor);</SPAN><B> <BR><BR></B><SPAN STYLE="font-weight: medium">Devuelven
					0 en caso de &eacute;xito y -1 caso de error</SPAN> </FONT></FONT>
					</P>
				</TD>
			</TR>
		</THEAD>
	</TABLE>
</CENTER>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>En
caso de error de <B>fsync() </B>&oacute; <B>fdatasync(), </B>la
variable errno puede alcanzar los siguientes valores:</FONT></FONT></P>
<P ALIGN=LEFT><BR><BR>
</P>
<CENTER>
	<TABLE WIDTH=90% BORDER=3 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=77*>
		<COL WIDTH=179*>
		<THEAD>
			<TR VALIGN=TOP>
				<TH WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=CENTER><FONT FACE="lucida, sans-serif"><FONT SIZE=3>C&oacute;digo
					de error</FONT></FONT></P>
				</TH>
				<TH WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=CENTER><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Descripci&oacute;n</FONT></FONT></P>
				</TH>
			</TR>
		</THEAD>
		<TBODY>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>EBADF</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>int
					descriptor </B>contiene un identificador no v&aacute;lido. </FONT></FONT>
					</P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>EINVAL</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>int
					descriptor </B>se refiere a un objeto sobre el que no es posible
					la sincronizaci&oacute;n</FONT></FONT></P>
				</TD>
			</TR>
			<TR VALIGN=TOP>
				<TD WIDTH=30% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>EPIDE</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=70% BGCOLOR="#ffcc99">
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Error
					en la entrada-salida de datos</FONT></FONT></P>
				</TD>
			</TR>
		</TBODY>
	</TABLE>
</CENTER>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>A
continuaci&oacute;n vamos a desarrollar un programa que abre un
archivo. Si existe el archivo lo abre y destruye su contenido.
Escribir&aacute; cadenas de caracteres en el fichero y despues las
leer&aacute; usando las funciones <B>write() </B>y <B>read():</B></FONT></FONT></P>
<P ALIGN=LEFT><BR><BR>
</P>
<CENTER>
	<TABLE WIDTH=90% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=23*>
		<COL WIDTH=233*>
		<THEAD>
			<TR VALIGN=TOP>
				<TD WIDTH=9% BGCOLOR="#ffff99">
					<P ALIGN=LEFT><BR>
					</P>
				</TD>
				<TD WIDTH=91% BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>/******AbrirCerrar.c*****/</FONT></FONT></P>
				</TD>
			</TR>
		</THEAD>
		<TBODY>
			<TR VALIGN=TOP>
				<TD WIDTH=9% BGCOLOR="#ffff99">
					<P ALIGN=LEFT><BR>
					</P>
				</TD>
				<TD WIDTH=91% BGCOLOR="#ffff99">
					<P><BR>
					</P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="1" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>1</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>#<B>include
					</B>&lt;stdio.h&gt;</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="2" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>2</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>#<B>include
					</B>&lt;sys/types.h&gt;</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="3" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>3</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>#<B>include
					</B>&lt;sys/stat.h&gt;</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="4" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>4</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>#<B>include
					</B>&lt;fcntl.h&gt;</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="5" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>5</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>#<B>include
					</B>&lt;unistd.h&gt;</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="6" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>6</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>#<B>include
					</B>&lt;errno.h&gt;</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="7" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>7</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>#<B>include</B>
					&lt;stdlib.h&gt;</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="8" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>8</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>char</B>
					*_sys_errlist[];</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="9" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>9</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><BR>
					</P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="10" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>10</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>main()</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="11" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>11</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>{</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="12" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>12</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;int
					</B>dev, arch1, arch2;</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="13" SDNUM="1034;">
					<P ALIGN=LEFT><FONT COLOR="#000000"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>13</B></FONT></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT COLOR="#000000"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;char</B>
					buffer[1024];</FONT></FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="14" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>14</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;char
					</B>bufferlec[1024];</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="15" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>15</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;ssize_t</B>
					n;</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="16" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>16</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;if</B>((arch1
					= open(&quot;archivoEsc&quot;, <B>O_RDWR </B>| <B>O_CREAT </B>|
					<B>O_EXCL</B>, <B>DEFFILEMODE</B>))== -1) </FONT></FONT>
					</P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="17" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>17</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="18" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>18</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arch1
					= <B>open</B>(&quot;archivoEsc&quot;, <B>O_RDWR </B>| <B>O_TRUNC</B>,
					<B>DEFFILEMODE</B>);</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="19" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>19</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if</B>(arch1
					== -1)</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="20" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>20</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="21" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>21</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf</B>(&quot;imposible
					abrir el archivo archivoEsc\n&quot;);</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="22" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>22</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit</B>(-1);</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="23" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>23</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="24" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>24</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="25" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>25</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;printf</B>(&quot;<B>strlen</B>(buffer)
					= %d\n&quot;, <B>strlen</B>(buffer));</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="26" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>26</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;printf</B>(&quot;Escribe
					una cadena: &quot;);</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="27" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>27</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;gets</B>(buffer);</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="28" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>28</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;while</B>(strlen(buffer)
					&gt; 0)</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="29" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>29</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="30" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>30</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write</B>(arch1,
					buffer, sizeof(buffer));</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="31" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>31</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf</B>(&quot;strlen(buffer)
					= %d\n&quot;, strlen(buffer));</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="32" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>32</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf</B>(&quot;escribe
					una cadena: &quot;);</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="33" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>33</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gets</B>(buffer);</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="34" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>34</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="35" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>35</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;printf</B>(&quot;se
					acabaron las cadenas\n&quot;);</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="36" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>36</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;puts</B>(&quot;estas
					son las cadenas vistas&quot;);</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="37" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>37</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;lseek</B>(arch1,
					0, SEEK_SET);</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="38" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>38</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;printf</B>(&quot;dev
					= %d\n&quot;, dev);</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="39" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>39</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;while
					</B>(<B>read</B>(arch1, bufferlec, <B>sizeof</B>(buffer)))</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="40" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>40</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="41" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>41</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf</B>(&quot;%s\n&quot;,
					bufferlec);</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="42" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>42</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="43" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>43</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;printf</B>(&quot;astalavista\n&quot;);</FONT></FONT></P>
				</TD>
			</TR>
			<TR>
				<TD WIDTH=9% VALIGN=BOTTOM BGCOLOR="#ffff99" SDVAL="44" SDNUM="1034;">
					<P ALIGN=LEFT><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>44</B></FONT></FONT></P>
				</TD>
				<TD WIDTH=91% VALIGN=TOP BGCOLOR="#ffff99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>}</FONT></FONT></P>
				</TD>
			</TR>
		</TBODY>
	</TABLE>
</CENTER>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>La
salida del programa es:<BR><BR></FONT></FONT><BR><BR>
</P>
<CENTER>
	<TABLE WIDTH=90% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=256*>
		<THEAD>
			<TR>
				<TD WIDTH=100% VALIGN=TOP BGCOLOR="#99ccff">
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>strlen(buffer)
					= 6</FONT></FONT></P>
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><BR>Escribe
					una cadena: <B>Los hackers atacan Internet</B></FONT></FONT></P>
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>strlen(buffer)
					= 27</FONT></FONT></P>
					<P STYLE="margin-bottom: 0cm"><BR>
					</P>
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>escribe
					una cadena: <B>Los programadores atacan a los hackers </B></FONT></FONT>
					</P>
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>strlen(buffer)
					= 38</FONT></FONT></P>
					<P STYLE="margin-bottom: 0cm"><BR>
					</P>
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>escribe
					una cadena: <B>Los progamadores son atacados por helic&oacute;pteros
					apache </B></FONT></FONT>
					</P>
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>strlen(buffer)
					= 53</FONT></FONT></P>
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><BR>escribe
					una cadena:&lt;enter&gt; <BR>se acabaron las cadenas</FONT></FONT></P>
					<P STYLE="margin-bottom: 0cm"><BR>
					</P>
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>estas
					son las cadenas vistas</FONT></FONT></P>
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>dev
					= 134518672</FONT></FONT></P>
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Los
					hackers atacan Internet</FONT></FONT></P>
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Los
					programadores atacan a los hackers</FONT></FONT></P>
					<P ALIGN=LEFT STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Los
					progamadores son atacados por helic&oacute;pteros apache</FONT></FONT></P>
				</TD>
			</TR>
		</THEAD>
	</TABLE>
</CENTER>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<CENTER>
	<TABLE WIDTH=95% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=71*>
		<COL WIDTH=44*>
		<COL WIDTH=1*>
		<COL WIDTH=69*>
		<COL WIDTH=71*>
		<THEAD>
			<TR VALIGN=TOP>
				<TD WIDTH=28% BGCOLOR="#ffffff">
					<P ALIGN=CENTER><A HREF="indice.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">contenido</FONT></FONT></B></A></P>
				</TD>
				<TD WIDTH=17% BGCOLOR="#ffffff">
					<P ALIGN=CENTER><A HREF="index.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">Home</FONT></FONT></B></A></P>
				</TD>
				<TD COLSPAN=2 WIDTH=27% BGCOLOR="#ffffff">
					<P ALIGN=CENTER><A HREF="index.html#colaborar"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">colaborar</FONT></FONT></B></A></P>
				</TD>
				<TD WIDTH=28% BGCOLOR="#ffffff">
					<P ALIGN=CENTER><A HREF="../cursoc.tar.gz"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">download</FONT></FONT></B></A></P>
				</TD>
			</TR>
		</THEAD>
		<TBODY>
			<TR VALIGN=TOP>
				<TD COLSPAN=3 WIDTH=45% BGCOLOR="#ffffff">
					<P><BR>&nbsp; 
					</P>
					<P ALIGN=CENTER><IMG SRC="sologo.gif" NAME="Imagen9" ALIGN=MIDDLE WIDTH=97 HEIGHT=34 BORDER=0></P>
				</TD>
				<TD COLSPAN=2 WIDTH=55% BGCOLOR="#ffffff">
					<P ALIGN=LEFT><BR><BR>
					</P>
					<ADDRESS STYLE="margin-bottom: 0.5cm; font-weight: medium; text-align: left">
					<FONT FACE="lucida, sans-serif"><FONT SIZE=3>Ultima modificaci&oacute;n
					<SDFIELD TYPE=DATETIME SDVAL="36588,0897280093" SDNUM="1034;0;D/MM/AA">3/03/00</SDFIELD></FONT></FONT></ADDRESS>
					<ADDRESS STYLE="margin-bottom: 0.5cm; font-weight: medium; text-align: left">
					<FONT FACE="lucida, sans-serif"><FONT SIZE=3>autor: dr7tbien </FONT></FONT>
					</ADDRESS>
					<ADDRESS STYLE="text-align: left"><SPAN STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Para
					consultar cualquier cosilla o alguna sugerencia
					</FONT><A HREF="mailto:dr7tbien@mixmail.com"><FONT SIZE=3>dr7tbien@mixmail.com<BR></FONT></A></FONT></SPAN><BR>
					</ADDRESS>
				</TD>
			</TR>
		</TBODY>
	</TABLE>
</CENTER>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
</BODY>
</HTML>