<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="StarOffice/5.1 (Linux)">
	<META NAME="AUTHOR" CONTENT=" ">
	<META NAME="CREATED" CONTENT="20000309;8490500">
	<META NAME="CHANGEDBY" CONTENT=" ">
	<META NAME="CHANGED" CONTENT="20000310;14555700">
</HEAD>
<BODY>
<P STYLE="page-break-before: always"><BR><BR>
</P>
<CENTER>
	<TABLE WIDTH=95% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=71*>
		<COL WIDTH=45*>
		<COL WIDTH=69*>
		<COL WIDTH=71*>
		<THEAD>
			<TR VALIGN=TOP>
				<TD WIDTH=28% BGCOLOR="#ffffff">
					<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><BR>
					</P>
					<P ALIGN=CENTER><A HREF="indice.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">contenido</FONT></FONT></B></A></P>
				</TD>
				<TD WIDTH=18% BGCOLOR="#ffffff">
					<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><BR>
					</P>
					<P ALIGN=CENTER><A HREF="index.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">Home</FONT></FONT></B></A></P>
				</TD>
				<TD WIDTH=27% BGCOLOR="#ffffff">
					<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><BR>
					</P>
					<P ALIGN=CENTER><A HREF="index.html#colaborar"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">colaborar</FONT></FONT></B></A></P>
				</TD>
				<TD WIDTH=28% BGCOLOR="#ffffff">
					<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><BR>
					</P>
					<P ALIGN=CENTER><A HREF="file:///root/cursoc.tar.gz"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">download</FONT></FONT></B></A></P>
				</TD>
			</TR>
		</THEAD>
	</TABLE>
</CENTER>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<UL>
	<LI><P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>10.-
	Abriendo, escribiendo, borrando y cerrando archivos (por el
	dr7tbien)</B></FONT></FONT></P>
	<UL TYPE=DISC>
		<LI><P ALIGN=LEFT><A HREF="pag_n10_1.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.1,.
		Introduci&oacute;n</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P ALIGN=LEFT><A HREF="pag_n10_2.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.2.-Streams,
		funciones de apertura de archivos y archivos</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">n
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_3.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.3.-
		Funci&oacute;n fopen()</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		(por el dr7tbien)</FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_4.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.4.-
		Funcion fclose()</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_5.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.5.-
		Escribiendo caracteres en los ficheros: fgetc(), fputc(), putc() y
		getc()</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_6.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.6.-
		Reapertura de archivos mediante freopen()</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_7.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.7.-
		Entrada y salida de cadenas de caracteres, fputs() y fgets()</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_8.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.8.-
		Funciones fprintf() y fscanf()</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		(por el dr7tbien)</FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_9.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.9.-
		Escritura y lectura de datos en bloques, fwrite() y fread()</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_10.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.10.-
		Desarrollo del programa articulo.exe usando estructuras de datos</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_11.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.11.-
		Borrado de datos en archivos</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_12.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.12.-
		Acceso a los ficheros de forma no secuencial, fseek()</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_13.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.13.-
		&iquest;Donde est&aacute; el puntero de L/E? La funci&oacute;n
		ftell()</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_14.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.14.-
		Funci&oacute;n rewind()</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">n
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_15.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.15.-
		Borrando ficheros con remove()</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_16.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.16.-
		Renombrando ficheros con rename()</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_17.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.17.-
		A&ntilde;adiendo funciones de borrado al programa articulo.exe</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
		<LI><P><A HREF="pag_n10_18.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">10.18.-
		Detecci&oacute;n del fin de fichero con feof()</FONT></FONT></B></A><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">
		<FONT SIZE=3><FONT FACE="lucida, sans-serif">(por el dr7tbien)</FONT></FONT></FONT></FONT></B></P>
	</UL>
</UL>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT><A NAME="10.13"></A><FONT FACE="lucida, sans-serif"><FONT SIZE=3><IMG SRC="d0ac.gif" NAME="Imagen29" ALIGN=BOTTOM WIDTH=93 HEIGHT=36 BORDER=0><B><FONT SIZE=4>10.13.-
&iquest;Donde est&aacute; el puntero de L/E? La funci&oacute;n
ftell()</FONT><SPAN STYLE="text-decoration: none"> </SPAN>
<IMG SRC="images/blurulr4.gif" NAME="Imagen30" ALIGN=BOTTOM WIDTH=665 HEIGHT=5 BORDER=0></B></FONT></FONT></P>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Cuando
tenemos dudas sobre donde tenemos anclado el puntero de L/E invocamos
a <B>ftell()</B> cuya sinopsis es:</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<CENTER>
	<TABLE WIDTH=90% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=256*>
		<THEAD>
			<TR>
				<TD WIDTH=100% VALIGN=TOP BGCOLOR="#ffcc99">
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Sinopsis <B>ftell</B>()</FONT></FONT></P>
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>#include
					</B><SPAN STYLE="font-weight: medium">&lt;stdio.h&gt;</SPAN><B><BR>long</B>
					ftell(<B>FILE</B> *stream);</FONT></FONT></P>
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Devuelve la
					posici&oacute;n del puntero de L/E &oacute; -1 en caso de error</FONT></FONT></P>
				</TD>
			</TR>
		</THEAD>
	</TABLE>
</CENTER>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>En
el momento de su invocaci&oacute;n, <B>ftell() </B>devuelve el n&uacute;mero
de bytes que est&aacute; desplazado el puntero de <B>L/E </B>desde el
principio del fichero (<B>SEEK_SET</B>). A continuaci&oacute;n un
estracto de un programa que desarrollaremos m&aacute;s adelante en el
que usanos la funci&oacute;n <B>ftell(). </B>Suponemos que el c&oacute;digo
anterior a la &uacute;nica sentencia <B>if() </B>ha detectado en un
fichero una estructura que desea cambiar. Lo que hace el c&oacute;digo
siguiente retroceder el n&uacute;mero de bytes necesario para poder
reescribir de nuevo la nueva estructura. <B>ftell</B>(<B>stream</B>),
nos devuelve el n&uacute;mero de bytes desplazados del puntero de <B>L/E</B>
desde el principio del fichero, si restamos a esta cantidad el n&uacute;mero
de bytes de la estructura que queremos escribir, <B>sizeof(stream)</B>,
situaremos el puntero de <B>L/E</B> en el lugar apropiado para
escribir en el fichero la estructura <B>el_aticulo </B>con la funci&oacute;n<B>
fread(). </B></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<CENTER>
	<TABLE WIDTH=90% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=256*>
		<THEAD>
			<TR>
				<TD WIDTH=100% VALIGN=TOP BGCOLOR="#ffff99">
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>struct
					</B><SPAN STYLE="font-weight: medium">articulo</SPAN></FONT></FONT></P>
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
					</B></FONT></FONT>
					</P>
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;......<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;......<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</B><SPAN STYLE="font-weight: medium">el_articulo;</SPAN></FONT></FONT></P>
					<P STYLE="margin-bottom: 0cm"><BR>
					</P>
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>FILE
					</B><SPAN STYLE="font-weight: medium">*stream;</SPAN></FONT></FONT></P>
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>.....</B></FONT></FONT></P>
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>.....</B></FONT></FONT></P>
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>.....</B></FONT></FONT></P>
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>.....</B></FONT></FONT></P>
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>.....</B></FONT></FONT></P>
					<P STYLE="margin-bottom: 0cm"><BR>
					</P>
					<P STYLE="margin-bottom: 0cm"><BR>
					</P>
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>if</B>((<B>fseek</B>(stream,
					<SPAN STYLE="background: #00dcff"><B>ftell(stream)-sizeof(el_articulo),
					</B></SPAN>SEEK_SET))==0);</FONT></FONT></P>
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>{</FONT></FONT></P>
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>&nbsp;&nbsp;&nbsp;<B>fwrite</B>(&amp;el_articulo,
					<B>sizeof</B>(el_articulo), 1, stream);</FONT></FONT></P>
					<P><FONT FACE="lucida, sans-serif"><FONT SIZE=3>}</FONT></FONT></P>
				</TD>
			</TR>
		</THEAD>
	</TABLE>
</CENTER>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm; font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><BR>La
funci&oacute;n anterior equivale a la siguiente. Observa todos los
cambios efectuados:</FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<CENTER>
	<TABLE WIDTH=90% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=256*>
		<THEAD>
			<TR>
				<TD WIDTH=100% VALIGN=TOP BGCOLOR="#ffff99">
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3><B>if</B>((<B>fseek</B>(stream,
					<SPAN STYLE="background: #00dcff"><B>-sizeof(el_articulo),
					</B>SEEK_CUR</SPAN>))==0);</FONT></FONT></P>
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>{</FONT></FONT></P>
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>&nbsp;&nbsp;&nbsp;<B>fwrite</B>(&amp;el_articulo,
					<B>sizeof</B>(el_articulo), 1, stream);</FONT></FONT></P>
					<P STYLE="margin-bottom: 0cm"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>}</FONT></FONT></P>
					<P><BR>
					</P>
				</TD>
			</TR>
		</THEAD>
	</TABLE>
</CENTER>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><BR>
</P>
<CENTER>
	<TABLE WIDTH=95% BORDER=0 CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=71*>
		<COL WIDTH=44*>
		<COL WIDTH=1*>
		<COL WIDTH=69*>
		<COL WIDTH=71*>
		<THEAD>
			<TR VALIGN=TOP>
				<TD WIDTH=28% BGCOLOR="#ffffff">
					<P ALIGN=CENTER><A HREF="indice.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">contenido</FONT></FONT></B></A></P>
				</TD>
				<TD WIDTH=17% BGCOLOR="#ffffff">
					<P ALIGN=CENTER><A HREF="index.html"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">Home</FONT></FONT></B></A></P>
				</TD>
				<TD COLSPAN=2 WIDTH=27% BGCOLOR="#ffffff">
					<P ALIGN=CENTER><A HREF="index.html#colaborar"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">colaborar</FONT></FONT></B></A></P>
				</TD>
				<TD WIDTH=28% BGCOLOR="#ffffff">
					<P ALIGN=CENTER><A HREF="../cursoc.tar.gz"><B><FONT SIZE=3><FONT FACE="lucida, sans-serif">download</FONT></FONT></B></A></P>
				</TD>
			</TR>
		</THEAD>
		<TBODY>
			<TR VALIGN=TOP>
				<TD COLSPAN=3 WIDTH=45% BGCOLOR="#ffffff">
					<P><BR>&nbsp; 
					</P>
					<P ALIGN=CENTER><IMG SRC="sologo.gif" NAME="Imagen9" ALIGN=MIDDLE WIDTH=97 HEIGHT=34 BORDER=0></P>
				</TD>
				<TD COLSPAN=2 WIDTH=55% BGCOLOR="#ffffff">
					<P ALIGN=LEFT><BR><BR>
					</P>
					<ADDRESS STYLE="margin-bottom: 0.5cm; font-weight: medium; text-align: left">
					<FONT FACE="lucida, sans-serif"><FONT SIZE=3>Ultima modificaci&oacute;n
					<SDFIELD TYPE=DATETIME SDVAL="36588,0897280093" SDNUM="1034;0;D/MM/AA">3/03/00</SDFIELD></FONT></FONT></ADDRESS>
					<ADDRESS STYLE="margin-bottom: 0.5cm; font-weight: medium; text-align: left">
					<FONT FACE="lucida, sans-serif"><FONT SIZE=3>autor: dr7tbien </FONT></FONT>
					</ADDRESS>
					<ADDRESS STYLE="text-align: left"><SPAN STYLE="font-weight: medium"><FONT FACE="lucida, sans-serif"><FONT SIZE=3>Para
					consultar cualquier cosilla o alguna sugerencia
					</FONT><A HREF="mailto:dr7tbien@mixmail.com"><FONT SIZE=3>dr7tbien@mixmail.com<BR></FONT></A></FONT></SPAN><BR>
					</ADDRESS>
				</TD>
			</TR>
		</TBODY>
	</TABLE>
</CENTER>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
</BODY>
</HTML>