<!DOCTYPE Article PUBLIC "-//Davenport//DTD DocBook V3.0//EN">

<Article>

<ArtHeader>

<Title>Artículo para la revista Solo Linux número ??: Herramientas de
      gestión de paquetes para Debian</Title>
<AUTHOR>
      <FirstName>Javier Fernández-Sanguino Peña</FirstName>
</AUTHOR>
<PubDate>14 Enero 2001</PubDate>

    <Abstract>
      <Para>
	En este artículo se van a estudiar las distintas herramientas de
	paquetes disponibles para la distribución Debian 
	<acronym>GNU</acronym>/Linux, tanto las 
	incorporadas en la propia distribución como las desarrolladas por
	otros fabricantes.
      </Para>
    </Abstract>

</ArtHeader>

  <Sect1>
    <Title>Los paquetes en una distribución y su gestión</Title>

    <Para>
      Cualquier persona que se ha enfrentado a una distribución de 
      <acronym>GNU</acronym>/Linux
      habrá observado el componente fundamental de la mayoría de las
      distribuciones (excepto, claro, aquellas de "hágalo todo usted
      mismo"): los paquetes. Se trata de un concepto que no es
      particular de
      dichas distribuciones, de hecho se utiliza en el mundo UNIX, en
      sistemas operativos propietarios, hace ya un buen tiempo. Pero sin
      embargo en las distribuciones adquiere un énfasis particular, dado que
      los sistemas de paquetes llevan funcionalidades adicionales, con el
      interés de librar al usuario de tareas que se podrían gestionar mejor
      de forma automática. De este interés surgen los conceptos de "paquetes
      que dependen de otros paquetes", "paquetes que entran en conflicto con
      otros", etc...
    </Para>

<Para>
En cualquier caso, es necesario diferenciar entre lo que es el sistema
de paquetes y el formato de paquetes, para no dar lugar a
confusión. El sistema de paquetes es el conjunto de reglas propias de
una distribución que le indican dónde se localizan los programas, cómo
se instalan demonios en el sistema, qué ficheros genéricos de
configuración son accesibles (o modificables) por los programas, así
como las distintas interacciones entre los paquetes, indicando, por
ejemplo, si dos programas tienen incompatibilidades y no pueden
coexistir en el mismo sistema.
</Para>

    <Para>
      No entraremos en detalle sobre qué es, por dentro un paquete (tema
      tratado en el artículo "Creación de paquetes
      Debian <acronym>GNU</acronym>/Linux" en el número 4 de la
      revista Linux Actual), pero
      baste decir que, para los propósitos de un usuario, no es más que un
      formato de fichero determinado para englobar todos los elementos que
      forman parte de un determinado software. Estos elementos serán:
      binarios, páginas de manual, documentos HTML, imágenes y ficheros de
      configuración.
    </Para>

    <Para>
      De entre todas las distribuciones de <acronym>GNU</acronym>/Linux 
      se puede decir, sin
      ningún tipo de duda, que el sistema de gestión de paquetes de Debian
      <acronym>GNU</acronym>/Linux es el más completo de todos, y el 
      que ofrece las
      herramientas más interesantes al administrador de dichos sistemas
      (que, en el caso de los sistemas caseros coincide con el usuario
      final).
    </Para>

    <Para>
      En este artículo se van a introducir las distintas herramientas
      disponibles para los usuarios de Debian GNU/Linux, así como la forma
      en que dichas herramientas se integran y complementan. No se tratarán
      aquí, sin embargo, las particularidades del sistema de paquetes y sus
      (grandes) diferencias con otras distribuciones. 
    </Para>

  </Sect1>

  <Sect1>
    <Title>La vista general, cómo se relaciona todo</Title>

    <Para>
      Como se muestra en <xref linkend="sistemapaq"> <!-- la figura 1 -->, 
      las herramientas de gestión de
      paquetes abarcan distintos niveles de una sencilla arquitectura. Desde
      el gestor de paquetes fundamental, pasando por las
      librerías que incrementan su funcionalidad, hasta las
      herramientas de alto nivel, capaces de interactuar directamente con el
      el gestor de paquetes, o a través de las librerías disponibles.
    </Para>

    <Para>
      En Debian <acronym>GNU</acronym>/Linux esto se concreta en 
      las siguientes herramientas:

      <ItemizedList>
	<ListItem>

	  <Para>
	    Gestor de paquetes: 
	    <application><emphasis role="strong">dpkg</emphasis></application>
	  </Para>
	</ListItem>
	<ListItem>
	  <Para>
	    Librería de funciones añadidas: 
	    <application><emphasis role="strong">apt</emphasis></application>
	  </Para>
	</ListItem>
	<ListItem>
	  <Para>
	    Herramientas integradas de gestión: 
	    <application><emphasis
	    role="strong">dselect</emphasis></application> y
	    <application><emphasis
	    role="strong">aptitude</emphasis></application>, para modo
	    texto, y <application><emphasis
	    role="strong">gnome-apt</emphasis></application>, así como
	    las proporcionadas por las distribuciones comerciales, para el 
	    modo gráfico
	  </Para>
	</ListItem>
      </ItemizedList>
    </Para>

<Para>
Esta división no implica que el uso de las herramientas de bajo nivel
estén vedadas al usuario, más bien al contrario, es habitual hacer uso
de éstas directamente. Sin embargo su uso se recomienda a usuarios que
conozcan Debian dado que su uso directo, por ejemplo en la instalación
de paquetes, puede dar lugar a comportamientos no esperados por la
persona que no conozca el sistema de paquetes.
</Para>

<Para>
Por ejemplo, un usuario novel puede haber oído que Debian GNU/Linux es
capaz de actualizar automáticamente la lista de paquetes e instalar
los paquetes que se hayan actualizado. Sin embargo, si intenta
realizar esta operación directamente con 
<application>dpkg</application> quedará
descorazonado al no ver esta funcionalidad disponible. Se preguntará
"pero si éste es el gestor fundamental, ¿por qué no puedo hacerlo
desde aquí?". La respuesta la conoce cualquier persona con experiencia
en el mundo <acronym>GNU</acronym>/Linux o en UNIX en general: 
la filosofía no es
construir herramientas monolíticas sino, en base a pequeñas
herramientas, ir incorporando nuevas funcionalidades.
</Para>

    <Para>
      Al margen de ésto, el lector avanzado quizás eche en falta muchas
      pequeñas herramientas disponibles en Debian
      <acronym>GNU</acronym>/Linux. 
      Existen muchas
      que interactúan con el sistema de paquetes para dar información al
      administrador, pero estas se tratarán al final de este artículo.
    </Para>

  </Sect1>

  <Sect1>
    <Title>Dpkg, la herramienta principal</Title>

    <Para>
      <application><emphasis
	  role="strong">Dpkg</emphasis></application> 
      es, sin duda, una de las
      herramientas más complejas de
      las existentes en Debian <acronym>GNU</acronym>/Linux. Si un 
      usuario novel ejecuta
      <userinput>dpkg -h</userinput> posiblemente se quede apabullado 
      por las más de tres
      pantallas de información que saltan a la vista. Pero no es, ni mucho
      menos, una herramienta difícil de utilizar.
    </Para>

<Para>
<application>Dpkg</application> es la herramienta fundamental
      dentro del sistema de
      paquetes de Debian <acronym>GNU</acronym>/Linux. Es la encargada
      de instalar o eliminar paquetes, y manejar la base de datos del
      sistema con la situación de paquetes, de forma que indique
      claramente estos cambios. Además, dado que conoce las
      interioridades del sistema de paquetes, no sólo instala los
      ficheros que contiene los paquetes en los lugares
      correspondientes, sino que también ejecuta en determinados
      momentos de la instalación, los programas que el desarrollador
      del paquete haya indicado. De esta forma, al instalar un
      paquete, se llamará de forma "mágica" al programa encargado de
      configurarlo. Éste podrá modificar sólo unos pocos ficheros en
      el sistema, o mostrar al usuario una interfaz para adaptar el
      programa que está instalando a su sistema.
</Para>

    <Para>
      Así, la herramienta <application>dpkg</application> permite:
    </Para>

    <Para>
      <ItemizedList>
	<ListItem>
	  <Para>
	    instalar (<userinput>-i</userinput> ó
	    <userinput>--install</userinput>) 
	    y desinstalar (<userinput>-r</userinput> 
	    ó <userinput>--remove</userinput>) paquetes. Si 
	    desea borrar <Emphasis>todo</Emphasis> lo instalado por un
	    paquete, incluyendo ficheros de configuración utilice 
	    <userinput>--purge</userinput>.
	  </Para>
	</ListItem>

	<ListItem>
	  <Para>
	    configurarlos (<userinput>--configure</userinput>), 
	    aunque esta tarea se hace siempre
	    después de la instalación puede ser que la configuración
	    falle y se quiera llevar a cabo este último paso. Si desea
	    reconfigurar un paquete que está bien instalado utilice 
	    <userinput>dpkg-reconfigure</userinput> 
	    (del paquete <application>debconf</application>)
	  </Para>
	</ListItem>
	
	<ListItem>
	  <Para>
	    ver la información de estado de un paquete 
	    (<userinput>-s</userinput> ó <userinput>--status</userinput>)
	  </Para>
	</ListItem>

	<ListItem>
	  <Para>
	    obtener una lista de los ficheros que proporciona 
	    (<userinput>-L</userinput> ó <userinput>--listfiles</userinput>)
	  </Para>
	</ListItem>

	<ListItem>
	  <Para>
	    obtener una lista de los paquetes disponibles 
	    (<userinput>-l</userinput> ó <userinput>--list</userinput>)
	  </Para>
	</ListItem>
      </ItemizedList>
    </Para>

<Para>
Y muchas otras cosas más, como auditar el sistema, sacar la
información de situación del sistema de paquetes: qué
paquetes están marcados para instalar, cuáles han sido configurados,
etc...
</Para>

<Para>
      El usuario experto, que juguetee con el formato de paquetes
      sabrá que <application>dpkg</application> también puede extraer
      los ficheros de un fichero 
      <Literal remap="tt">.deb</Literal>. Ya dijimos antes que no es 
      lo mismo
      un sistema de paquetes que los paquetes en sí, éstos últimos no
      son más que un conjunto de ficheros. En esencia, existen las
      mismas diferencias entre un fichero 
      <Literal remap="tt">.deb</Literal> y un fichero 
      <Literal remap="tt">.rpm</Literal> que la existente entre 
      un fichero <Literal remap="tt">.arj</Literal> y un fichero 
      <Literal remap="tt">.zip</Literal>. 
</Para>

    <Para>
      Así pues, <application>dpkg</application> puede manejar
      directamente los ficheros
      <Literal remap="tt">.deb</Literal> que tengamos:
    </Para>

    <Para>
      <ItemizedList>
	<ListItem>
	  <Para>
	    obteniendo la información de éstos 
	    (<userinput>-I</userinput> ó <userinput>--info</userinput>)
	  </Para>
	</ListItem>

	<ListItem>
	  <Para>
	    extrayendo sus contenidos 
	    (<userinput>-x</userinput> ó
	    <userinput>--extract</userinput>), 
	    o sus ficheros de control 
	    (<userinput>-e</userinput> ó <userinput>--control</userinput>)
	  </Para>
	</ListItem>

	<ListItem>
	  <Para>
	    listando éstos (<userinput>-c</userinput> ó 
	    <userinput>--contents</userinput>)
	  </Para>
	</ListItem>

	<ListItem>
	  <Para>
	    o incluso construirlos de una estructura de directorios apropiada 
	    (<userinput>-b</userinput> ó <userinput>--build</userinput>)
	  </Para>
	</ListItem>
      </ItemizedList>
    </Para>

    <Para>
      En realidad, para llevar a cabo estas funciones, 
      <application>dpkg</application> llama,
      de forma transparente, a la aplicación 
      <application><emphasis role="strong">dpkg-deb</emphasis></application>.
    </Para>

</Sect1>

<Sect1>
<Title>Interrelaciones entre paquetes</Title>

<Para>
Debian introduce en sus sistema de paquetes una serie de
interrelaciones que permiten a los desarrolladores indicar cómo se
comportan sus paquetes con el resto de los paquetes de la
distribución. De ésta forma el paquete adquiere otra entidad (quizás
podría denominarse <Emphasis>social</Emphasis> dentro del mundillo 
de paquetes), y el
sistema de paquetes gana en complejidad. Pero, al mismo tiempo, 
facilita enormemente su utilización al usuario ya que, le avisa de 
determinadas situaciones, como puedan ser:
</Para>

<Para>

<ItemizedList>
<ListItem>

<Para>
dependencias con otros paquetes, si no están instalados éstos no
podrá instalarse el paquetes (<Emphasis>Depends</Emphasis> y
<Emphasis>Pre-Depends</Emphasis>). Las dependencias también podrán ser 
menos fuertes (<Emphasis>Recommends</Emphasis>).

</Para>
</ListItem>
<ListItem>

<Para>
paquetes con los que entra en conflicto y que no
pueden estar instalados cuando se instala éste 
(<Emphasis>Conflicts</Emphasis>).

</Para>
</ListItem>
<ListItem>

<Para>
paquetes que mejoran el paquete que se está instalando
y que, aunque no son necesarios para su funcionamiento, se recomienda
su instalación (<Emphasis>Suggests</Emphasis>).

</Para>
</ListItem>
<ListItem>

<Para>
paquetes "virtuales" ofrecidos por el paquete (<Emphasis>Provides</Emphasis>)

</Para>
</ListItem>
<ListItem>

<Para>
paquetes a los que éste paquete reemplaza (<Emphasis>Replaces</Emphasis>).

</Para>
</ListItem>

</ItemizedList>

</Para>

<Para>
Está clara su utilidad, ya que así un usuario evita instalar dos
gestores de correo que, al configurarse, entrarían en conflicto entre
sí, "luchando" por los buzones de correo de los usuarios.
</Para>

<Para>
Sin embargo, aunque <application>dpkg</application> "entiende" 
las interrelaciones
entre paquetes, no las gestiona. Esta tarea queda a los interfaces y, 
actualmente, es gestionada por 
<application><emphasis role="strong">apt</emphasis></application>.
</Para>

</Sect1>

<Sect1>
<Title>Apt, el gestor de interrelaciones</Title>

    <Para>
      <application><acronym>
	  <emphasis role="strong">Apt</emphasis></acronym>
      </application>, 
      acrónimo de <Emphasis>Advanced Package Tool</Emphasis>, (ver la
      página de manual con <userinput>man apt</userinput> o,
      mejor aún,
      <filename>/usr/doc/apt/guide.text.gz</filename>) es el
      conjunto de herramientas ofrecida por Debian para que los
      usuarios no tengan que llevar a cabo la siguiente tarea,
      habitual en otras distribuciones:
    </Para>

<Para>

<ItemizedList>
<ListItem>

<Para>
quiero instalar el programa X
</Para>
</ListItem>

<ListItem>
<Para>
¡vaya! Si depende de Y, pues, nada, a buscar Y e instalarlo antes.
</Para>
</ListItem>

<ListItem>
<Para>
¡córcholis! Si Y depende de Z, W, V, a ver si los encuentro por FTP, 
o en el último CD-ROM que me prestaron
</Para>
</ListItem>

<ListItem>
<Para>
(tras una ardua búsqueda) W depende de L ¿donde ésta?
</Para>
</ListItem>

<ListItem>
<Para>
así, <foreignphrase>ad infinitum</foreignphrase>...
</Para>
</ListItem>

</ItemizedList>

</Para>

<Para>
<application>Apt</application> permite decirle al sistema: 
"instala X", y éste,
apropiadamente configurado, buscará Y, W, Z, V los instalará, quitará
M (que entra en conflicto con M) y ¡dejará X totalmente instalado!. Es
más, podrá recoger algunos paquetes de un CD-ROM y otros de un
servidor de FTP.
</Para>

<Para>
Es capaz de hacer esto gracias al sistema de dependencias, y a su
conocimiento de éste. Además <application>apt</application> puede 
configurarse para
acceder a distintas fuentes de paquetes, estas fuentes podrán ser:
</Para>

<Para>

<ItemizedList>
<ListItem>

<Para>
CD-ROMS de la distribución, o actualizaciones de la misma.
</Para>
</ListItem>
<ListItem>

<Para>
Servidores en Internet por HTTP ó FTP.
</Para>
</ListItem>
<ListItem>

<Para>
Un disco duro local con los paquetes.
</Para>
</ListItem>

</ItemizedList>

</Para>

    <Para>
      Todo esto se gestiona a través del fichero de configuración
      <filename>/etc/apt/sources.list</filename> 
      (ver la página de manual 
      <userinput>man sources.list</userinput>) 
      aunque existen herramientas para añadir
      automáticamente dichas fuentes. La forma habitual es hacerlo desde una
      de las interfaces que se verán más abajo (las que ofrecen esta
      funcionalidad), aunque se puede hacer también desde la línea de
      comandos ejecutando <userinput>/usr/sbin/apt-setup</userinput> 
      (que de hecho es lo
      que se ejecuta al instalar el sistema base). Más aún, si el usuario
      quiere añadir simplemente un nuevo CD-ROM lo más fácil es ejecutar
      como superusuario <userinput>/usr/sbin/apt-cdrom add</userinput>.
    </Para>

    <Para>
      Aunque <application>
	<emphasis role="strong">apt</emphasis>
      </application> es un sistema pensado para 
      ser utilizado como interfaz a 
      <application>
	<emphasis role="strong">dpkg</emphasis>
      </application> por las interfaces de 
      usuario (ya sean
      gráficas o de texto), puede ser utilizado directamente por el
      superusuario desde una consola. Sin embargo, se debe hacer una
      advertencia previa: <application>apt</application> no instala 
      automáticamente aquellos
      paquetes definidos como "Sugeridos", por lo que algunos programas
      pueden no instalarse con toda la funcionalidad que se esperara de
      ellos. Queda avisado.
    </Para>

    <Para>
      Las herramientas que se instalan con <application>apt</application> 
      son dos:
      <application><emphasis role="strong">apt-get</emphasis></application> y 
      <application><emphasis role="strong">apt-cache</emphasis></application> 
      (ver sus correspondientes
      páginas de manual). La primera se utilizará para instalar o eliminar
      los paquetes deseados, la segunda para consultar la información de los
      paquetes y sus dependencias.
    </Para>

<Para>
Algunos ejemplos:
</Para>

    <Para>
      <ItemizedList>
	<ListItem>
	  <Para>
	    Para instalar un programa: 
	    <userinput>apt-get install programa</userinput>
	  </Para>
	</ListItem>

	<ListItem>
	  <Para>
	    Para eliminarlo: 
	    <userinput>apt-get remove programa</userinput>
	  </Para>
	</ListItem>

	<ListItem>
	  <Para>
	    Para actualizar la información disponible de paquetes: 
	    <userinput>apt-get update</userinput>
	  </Para>
	</ListItem>

	<ListItem>
	  <Para>
	    Para actualizar el sistema: 
	    <userinput>apt-get upgrade</userinput>
	  </Para>
	</ListItem>

	<ListItem>
	  <Para>
	    Para actualizar el sistema entre distintas versiones de Debian
	    <acronym>GNU</acronym>/Linux: 
	    <userinput>apt-get dist-upgrade</userinput>.
	  </Para>
	</ListItem>

	<ListItem>
	  <Para>
	    Para simular la instalación de un programa: 
	    <userinput>apt-get install -s gimp</userinput>
	  </Para>
	</ListItem>

	<ListItem>
	  <Para>
	    Para consultar la información de un programa: 
	    <userinput>apt-cache show programa</userinput>, 
	    y para consultar sus dependencias 
	    <userinput>apt-cache showpkg programa</userinput>.
	  </Para>
	</ListItem>

	<ListItem>
	  <Para>
	    Para buscar un texto determinado entre los programas disponibles:
	    <userinput>apt-cache search texto</userinput>
	    (también se pueden introducir expresiones regulares)
	  </Para>
	</ListItem>

	<ListItem>
	  <Para>
	    Para mostrar las dependencias con respecto a un programa: 
	    <userinput>apt-cache depends programa</userinput>
	    (incluso se pueden ver de forma gráfica, si tiene instalado 
	    <application>
	      <emphasis role="strong">graphviz</emphasis>
	    </application>)
	  </Para>
	</ListItem>

      </ItemizedList>
    </Para>

    <Para>
      También es posible añadir fuentes de código fuente, si las añadimos
      (tipo <application>
	<emphasis role="strong">deb-src</emphasis>
      </application>) se le podrá decir, a 
      <application>
	<emphasis role="strong">apt-get</emphasis>
      </application> 
      que coja las fuentes de un paquete. Éste obtendrá los ficheros 
      necesarios y dejará
      preparado un directorio para poder compilar directamente el
      paquete. Así, si se quisiera compilar para nuestro sistema, por
      ejemplo, el mismo <application>apt</application>, sólo habría que hacer:
      <userinput>
	apt-get source apt &amp;&amp; cd apt-* &amp;&amp; dpkg-buildpackage
      </userinput> o bien
      <userinput>apt-get --compile source apt</userinput>
    </Para>

    <Para>
      Dado que <application>
	<emphasis role="strong">apt-get</emphasis>
      </application> descarga los paquetes a 
      instalar en un
      almacenamiento temporal, <filename>/var/cache/apt</filename>, 
      se recomienda que la
      partición que incluya este directorio tenga un tamaño suficiente para
      la descarga, ya que puede haber ocasiones en que se necesario
      descargar muchos paquetes para actualizar un sistema (siempre y cuando
      no tenga acceso a ellos directamente, es decir, no utilice un CD-ROM o
      un sistema de ficheros local). En cualquier caso puede borrar dicha
      caché cuando lo desee utilizando 
      <userinput>apt-cache clean</userinput>.
    </Para>

</Sect1>

<Sect1>
<Title>Interfaces de texto</Title>

<Para>
Vistas ya las distintas herramientas de bajo nivel, desarrolladas con
la intención de ser usadas por línea de comandos se van a ver las
interfaces desarrolladas para interactuar con el sistema de
paquetes. Estas interfaces tienen como objetivo el facilitar al
usuario la gestión diaria del sistema de paquetes, de forma que pueda
ver, de forma integrada, los paquetes disponibles, sus descripciones,
y sus interrelaciones. Además, estas interfaces hacen una mejor
gestión de las dependencias que apt, ya que pueden ofrecer al usuario
una serie de alternativas cuando ésto sea posible para que éste elija
la que le conviene (<application>apt</application> sin embargo, 
elije la que cree
conveniente que puede no ser la más acertada, sobre todo en el caso de
paquetes "virtuales").
</Para>

<Para>
Las herramientas de texto siempre han sido criticadas por los
usuarios más noveles por considerarlas, de entrada y careciendo de
experiencia en ellas, de arcaicas y artificiales. Sin embargo es
conveniente recordar que no todos los usuarios en todos los sistemas
disponen de interfaces gráficos y, aunque sea la norma en los sistemas
caseros, no es lo habitual en la gestión de sistemas en otros
ambientes. Así pues, conviene empezar primero por éstas, aunque 
puedan desilusionar al principiante.
</Para>

    <Para>
      De las herramientas de texto de gestión de paquetes Debian
      GNU/Linux incorpora dos que cabe destacar, en primer lugar
      <application>
	<emphasis role="strong">dselect</emphasis>
      </application> el interfaz estándar para 
      gestionar paquetes, y
      <application>
	<emphasis role="strong">aptitude</emphasis>
      </application> un interfaz nuevo que 
      funciona directamente sobre
      <application>apt</application>.
    </Para>

    <Para>
      <application><emphasis role="strong">Dselect</emphasis></application> 
      (ver <xref linkend="dselect-main"> <!-- Figura 2  -->
      y <xref linkend="dselect-pack"> <!-- Figura 3  -->) es 
      una de las herramientas que
      posiblemente más criticada haya sido en Debian pero, aunque su
      funcionamiento pueda parecer al principio complicado, está
      convenientemente documentada (en el directorio de instalación de los
      CD-ROMs en el documento <filename>dselect.beginner</filename> 
      proporcionado en varios
      formatos) y cumple su cometido perfectamente.
    </Para>

    <Para>
      Desde esta herramienta se pueden configurar los métodos de
      obtención de paquetes, listar los paquetes disponibles e instalar los
      mismos (<application>dselect</application> indicará si surgen 
      conflictos, o recomendará
      los paquetes que crea conveniente). Por último, se podrá lanzar la
      instalación de los paquetes seleccionados. Aunque 
      <application>apt</application> es el
      interfaz por defecto para el acceso a los paquetes, mucho antes de que
      existiera <application>apt</application> se disponía de sistemas 
      de acceso a colecciones
      de paquetes a través de los <Emphasis>métodos</Emphasis> de
      <application>dselect</application>. Existen métodos disponibles 
      para acceso a
      colecciones de CDs, sistemas por NFS, servidores FTP...
    </Para>

    <Para>
      <application><emphasis role="strong">Aptitude</emphasis></application> 
      (ver <xref linkend="aptitude-main"> <!-- Figura 4 --> y 
      <xref linkend="aptitude-pack"> <!-- Figura 5 -->) es, 
      por otro lado, un
      sencillo motor de acceso mediante consola a las funciones de
      <application>apt</application>. El interfaz es capaz de mostrar 
      la lista de paquetes y
      sus dependencias con otros, indicando con un código de colores la
      posibilidad de instalar (o no) éstos (si las dependencias se
      cumplen). Se encuentra aún en fase de desarrollo, pero es
      perfectamente utilizable desde un punto de vista de un
      administrador. Se trata de una herramienta más sencilla que
      <application>dselect</application> ya que basa toda las funciones 
      de configuración e
      instalación en <application>apt</application>. Sin embargo, carece 
      de cierta
      funcionalidad útil, como la modificación de fichero de fuentes (que
      por otro lado, si se realiza en consola se puede hacer con
      <application>apt-setup</application> como se ha comentado 
      previamente).
    </Para>

</Sect1>

<Sect1>
<Title>Interfaces gráficos</Title>

<Para>
Sin embargo, no es necesario limitarse a interfaces de texto a la
hora de tener que llevar a cabo la gestión de paquetes. Los interfaces
gráficos son, a menudo, más versátiles (y visuales) para los usuarios
noveles. Además, dadas las características de la interfaz gráfica 
(generalmente de mayor resolución que la consola) suelen ser de  
manejo más cómodo.
</Para>

    <Para>
      Debian <acronym>GNU</acronym>/Linux 2.2 incorpora un interfaz 
      aún en desarrollo para
      la gestión de paquetes desde la interfaz gráfica (que tendrá que
      hacerse siempre como superusuario, ver 
      <link linkend="listado2">Listado 2</link>), se trata de
      <application>
	<emphasis role="strong">gnome-apt</emphasis>
      </application>. 

<application>Gnome-Apt</application>, como se puede ver en 
<xref linkend="gnome-apt"> <!-- la Figura 6 -->, muestra de un 
vistazo todos los paquetes disponibles, y la
descripción del paquete disponible. También incluye funcionalidad para
el rápido filtrado de paquetes, por estado, por prioridades y por
textos claves. <application>Gnome-apt</application> permite la 
rápida edición de las
fuentes de paquetes de forma gráfica, que posteriormente se volcará en
el archivo de configuración de apt.
</Para>

<Para>
La vista seleccionada en <application>gnome-apt</application>, 
en el que se muestra
determinadas columnas con información sobre los paquetes, es
totalmente configurable. Sin embargo, 
<application>gnome-apt</application> aún no
incluye ciertas funcionalidades interesantes, como la resolución
inversa de dependencias o la búsqueda de paquetes "huérfanos".
</Para>

    <Para>
      Otra herramienta gráfica, pero esta vez utilizando el toolkit Qt
      (en lugar de gtk) que quizás pronto se distribuya en Debian es
      <application>
	<emphasis role="strong">qaptivate</emphasis>
      </application>, disponible en
      <ulink url="ftp:/unilinux.sourceforge.net/pub/unilinux">
	ftp:/unilinux.sourceforge.net/pub/unilinux
      </ulink>. Esta herramienta se
encuentra, sin embargo, aún en estado <Emphasis>alpha</Emphasis>.
</Para>

<Para>
Las distribuciones comerciales basadas en Debian también
distribuyen sus propios interfaces gráficos de gestión de
interfaces. El autor ha tenido la ocasión de estudiar tanto el Corel
Updater de la distribución Corel Linux, como el 
<Literal remap="tt">stormpkg</Literal> (ver
<xref linkend="stormpkg"> <!-- Figura 8 -->).
</Para>

<Para>
Éste último está cuidadosamente diseñado, a diferencia del primero,
que sufre las prisas con las que Corel se introdujo en el mundo del
software libre, y se distribuye con licencia <acronym>GPL</acronym>, 
así que es posible
que en un futuro se incluya en la distribución principal. Además, está
totalmente integrado con el escritorio y de forma inteligente (no
obliga a que el interfaz de ventanas se ejecute como superusuario o se
hagan <Emphasis>triquiñuelas</Emphasis>). Al arrancar muestra como 
primera pantalla la posibilidad de filtrado de los paquetes, de forma 
que sólo se muestren aquellos que el usuario quiera ver desde un principio.
</Para>

    <Para>
      <application><emphasis role="strong">Stormpkg</emphasis></application> 
      utiliza <application>apt</application> para la instalación de las
aplicaciones, que se realiza en el terminal desde el que se lanza y,
para evitar interferir en la instalación, el gestor de paquetes se
oculta convenientemente dejando libre la vista. El instalador de
Corel, por otro lado, introduce la salida de 
<application>apt</application> en una
pantalla que hace difícil resolver algún tipo de situaciones que puede
darse al llevar a cabo la instalación de muchos paquetes.
</Para>

<Para>
      <Literal remap="tt">Stormpkg</Literal> y 
      <Literal remap="tt">Corel Updates</Literal> permiten la edición del
      fichero de fuentes de <application>apt</application> pero el 
      primero es más cuidadoso
      que el último. Por ejemplo, 
      <application>
	<emphasis role="strong">Corel Updates</emphasis>
      </application> no lleva bien la edición
      manual (o por terceras herramientas como 
      <application>
	<emphasis role="strong">apt-cdrom</emphasis>
      </application> de las
      fuentes de paquetes, al tiempo que las fuentes que se pueden
      introducir están limitadas. 
      <Literal remap="tt">Stormpkg</Literal> sin embargo, acepta la
      edición manual y la interpreta correctamente (salvo en el caso de los
      CD-ROMS añadidos con <application>apt-cdrom</application>, en el 
      que interpreta mal los
      corchetes de descripción de éstos). Es más, si el usuario deshabilita
      editando manualmente las fuentes y añadiendo un comentario, incluso a
      las propias de Storm Linux, <Literal remap="tt">stormpkg</Literal> 
      lo aceptará gustosamente
      ya que sigue el mismo convenio (introducción de comentarios) para
      habilitar y deshabilitar fuentes de paquetes.
</Para>

    <Para>
      Existen otros gestores de paquetes gráficos en distribuciones
      basadas en Debian, como el de 
      <application><emphasis
	  role="strong">Libranet</emphasis></application>, 
      sin embargo éstos son menos
      conocidos debido al difícil acceso a éstos.
    </Para>

</Sect1>

<Sect1>
<Title>Otras herramientas para el usuario avanzado</Title>

    <Para>
      Existe muchas otras herramientas para la gestión de paquetes en
      Debian, que han sido realizadas de forma experimental y tardarán un
      tiempo en ser integradas dentro de las interfaces de usuario. Además
      están disponibles en Debian <Emphasis>woody</Emphasis> (la versión 
      de desarrollo
      actual de Debian) y no podrá encontrarlas en Debian 2.2. Entre otras
      podemos hablar de:
    </Para>

    <Para>
      <ItemizedList>
	<ListItem>
	  <Para>
	    <application><emphasis
		role="strong">deborphan</emphasis></application>. 
	    Indica qué librerías 
	    instaladas han quedado
	    "huérfanas" es decir, no están siendo utilizadas por ningún
	    paquete. De esta forma se podrá hacer limpieza del sistema 
	    en caso de que fuera necesario.
	  </Para>
	</ListItem>

	<ListItem>
	  <Para>
	    <application><emphasis
		role="strong">dlocate</emphasis></application>. 
	    Permite buscar ficheros en el 
	    sistema y los paquetes
	    que lo instalaron de una forma más rápida que la utilizada por
	    <application>dpkg</application> directamente ya que genera una 
	    base de datos binaria
	    para realizar la búsqueda.
	  </Para>
	</ListItem>

	<ListItem>
	  <Para>
	    <application>
	      <emphasis role="strong">dpkg-iasearch</emphasis>
	    </application>. Permite búsquedas 
	    entre los textos de los paquetes con técnicas de inteligencia 
	    artificial (vectorización de documentos) que va más allá del 
	    simple <application>grep</application> o el uso de 
	    expresiones regulares.
	  </Para>
	</ListItem>

      </ItemizedList>
    </Para>

  </Sect1>

  <Sect1>
    <Title>Resumen</Title>

    <Para>
      El sistema de paquetes de Debian es muy complejo, pero muy enfocado al
      usuario final, y proporciona múltiples interfaces (para todos los
      gustos) a sus administradores. El desarrollo de estas interfaces
      quizás pueda verse como lento, pero otros dirían que es "seguro" en el
      sentido de que las bases quedan bien asentadas antes de ir a una capa
      más arriba de dicho desarrollo.
    </Para>

    <Para>
      Debian tiene como propósito para su próxima versión el estandarizar el
      interfaz gráfico a utilizar en las instalaciones con soporte gráfico,
      este interfaz aún está por decidir, y tanto 
      <application>gnome-apt</application> como
      las versiones comerciales licenciadas bajo <acronym>GPL</acronym> 
      son opciones posibles,
      el tiempo nos dirá cual de ellas es la mejor preparada para ofrecerse
      como interfaz por defecto para todos los usuarios.
    </Para>

  </Sect1>

  <Sect1>
    <Title>Sumarios</Title>

    <Para>
      Los sistemas de paquetes son conocidos por los usuarios de 
      distribuciones <acronym>GNU</acronym>/Linux.
    </Para>

    <Para>
      El sistema de paquetes es distinto al formato.
    </Para>

    <Para>
      El sistema de gestión de Debian <acronym>GNU</acronym>/Linux es 
      el más completo de todos.
    </Para>

    <Para>
      Las herramientas abarcan distintos niveles.
    </Para>

    <Para>
      <application>Dpkg</application> es la herramienta fundamental 
      de paquetes en Debian.
    </Para>

    <Para>
      Es importante entender las interrelaciones entre paquetes.
    </Para>

    <Para>
      <application>Apt</application> puede ser utilizado directamente 
      por el usuario.
    </Para>

    <Para>
      <application>Apt</application> puede descargar paquetes de CDs, 
      servidores de FTP y WWW
    </Para>

    <Para>
      Las interfaces ayudan a la gestión integral.
    </Para>

    <Para>
      Las herramientas de texto son necesarias en algunos sistemas.
    </Para>

    <Para>
      <application>gnome-apt</application> es la herramienta gráfica, 
      aún en desarrollo.
    </Para>

    <Para>
      Las distribuciones comerciales incorporan sus propias herramientas
    </Para>

    <Para>
      <application>Stormpkg</application> incluye funcionalidades
      similares a 
      <application>gnome-apt</application>
    </Para>

    <Para>
      Existen otras herramientas para el usuario avanzado
    </Para>

    <Para>
      Debian estandarizará el interfaz gráfico en su próxima versión
    </Para>

  </Sect1>

  <Sect1>
    <Title>Listados</Title>

    <Sect2>
      <title>
	Apt también para <foreignphrase>rpm</foreignphrase> <!-- LISTADO 1 -->
      </title><anchor id="listado1">

      <Para>
	El lector avispado habrá observado que, aunque no se muestran 
	las herramientas de gestión de paquetes basados en 
	<foreignphrase>rpm</foreignphrase> (el formato
	original realizado por la distribución RedHat). La librería 
	intermedia
	de gestión de paquetes <application>apt</application> se solapa 
	con el sistema de
	paquetes <foreignphrase>rpm</foreignphrase>. Esto se debe a que, 
	recientemente, la distribución
	Connectiva Linux ha llevado a cabo el esfuerzo de modificar
	<application>apt</application> para que éste pueda ser utilizado 
	también para paquetes <foreignphrase>rpm</foreignphrase>. 
      </Para>

      <Para>
	Queda aún por ver si <application>apt</application> se convertirá 
	en la herramienta
	intermedia común para todas las herramientas de gestión de paquetes,
	pero este paso es, sin duda (así como algunas otras aportaciones de
	Connectiva Linux a la base de código de 
	<application>apt</application> como la
	posibilidad de comprobar las firmas digitales de los paquetes)
	un paso decisivo para la integración de la gestión de los 
	distintos sistemas
	de paquetes. Ya no sólo serán los usuarios de Debian los que podrán
	asombrar a sus compañeros de las capacidades de sus sistemas, 
	sino que se podrá beneficiar toda la comunidad de usuarios de 
	<acronym>GNU</acronym>/Linux.
      </Para>

<!--       <Para> 
	PIE LISTADO 1: Apt también para <foreignphrase>rpm</foreignphrase>
      </Para>
 -->
    </sect2>

    <sect2>
      <title>Ejecución de interfaces gráficos y el 
	superusuario <!-- LISTADO 2 -->
      </title><anchor id="listado2">

      <Para>
	Algunos usuarios pueden pensar que para poder hacer uso de los
	interfaces gráficos es necesario ejecutar el interfaz de ventanas como
	superusuario. Es cierto que dichos interfaces, para poder hacer las
	funciones de gestión de paquetes (instalación y eliminación) deben
	tener acceso de superusuario en la máquina, pero para esto no es
	necesario ejecutar las X como superusuario.
      </Para>

      <Para>
	Existen varios métodos para llevar esto a cabo, uno de ellos es 
	lanzar una sesión de terminal, permitir el acceso al sistema
	local (con la orden 
	<userinput>xhost + localhost</userinput>), convertirse 
	en superusuario 
	(<userinput>su -</userinput>), indicar el servidor de 
	X a utilizar 
	(<userinput>export DISPLAY=localhost:0.0</userinput>) y 
	lanzar la aplicación
	correspondiente. Otro método, más seguro, consiste en no permitir el
	acceso a todos los usuarios de la máquina (al hacer 
	<userinput>xhost</userinput>)
	sino, como superusuario, cargar el fichero de autoridad para acceso
	al servidor de X (con 
	<userinput>xauth merge /directorio/.Xauthority</userinput>),
	siendo <Emphasis>directorio</Emphasis> el directorio del usuario que 
	inició la sesión de X, y luego ejecutar el programa.
      </Para>

      <Para>
	Por último, el método utilizado (de forma inteligente) por la
	distribución Storm Linux, es instalar un acceso en el escritorio que
	llama a la aplicación <application>gtk-su</application> con 
	parámetros para que, tras
	autenticar la contraseña del superusuario, lanza la aplicación de
	gestión de paquetes.
      </Para>

<!--       <Para>
	PIE LISTADO 2: Ejecución de interfaces gráficos y el 
	superusuario
      </Para>
 -->
    </sect2>

    <sect2>
      <title>
	Más información <!-- LISTADO 3 -->
      </title><anchor id="listado3"> 
      <!-- 3 lo pone jr. ¿Está bien, javi? -->

      <Para>
	Se puede encontrar más información sobre Debian en general en:

	<ItemizedList>
	  <ListItem>
	    <Para>
	      El servidor principal: 
	      <ulink url="http://www.debian.org">www.debian.org</ulink>
	    </Para>
	  </ListItem>

	  <ListItem>
	    <Para>
	      El servidor de La Espiral: 
	      <ulink
		url="http://www.laespiral.org">www.laespiral.org</ulink> 
	      (para usuarios hispanoparlantes)
	    </Para>
	  </ListItem>

	</ItemizedList>
      </Para>

      <Para>
	Las herramientas aquí comentadas vienen acompañadas de documentación 
	pero son referencias fieles al sistema de gestión de paquetes: El 
	manual de empaquetamiento (disponible en 
	<filename>/usr/share/doc/packaging-manual</filename>, La 
	guía del usuario de <application>Apt</application> (disponible en 
	<filename>/usr/share/doc/apt/</filename>).
      </Para>

      <Para>
	Para saber qué servidores de Debian están disponibles para descargase
	paquetes consulte 
	<ulink url="http://www.debian.org/misc/README.mirrors">
	  http://www.debian.org/misc/README.mirrors
	</ulink>, y podrá
	conseguir mucha más documentación de Debian en
	<ulink url="http://www.debian.org/doc">
	  http://www.debian.org/doc
	</ulink>. Por supuesto, las listas de distribución
	son de gran ayuda siempre 
	(<ulink url="http://www.debian.org/MailingLists/">
	  http://www.debian.org/MailingLists
	</ulink>), si
	quiere seguir el desarrollo de <application>apt</application>, 
	subscríbase a
	<ulink url="mailto:deity@lists.debian.org">
	  deity@lists.debian.org
	</ulink>, si quiere consultar cosas con usuarios y
	desarrolladores hispanoparlantes, hágalo en
	<ulink url="mailto:debian-user-spanish@lists.debian.org">
	  debian-user-spanish@lists.debian.org
	</ulink>.
      </Para>

<!--       <Para>
	PIE LISTADO 3: Más información
      </Para>
-->
    </sect2>
  </Sect1>

  <Sect1>
    <Title>Capturas</Title>

<!--     <Para>  -->
<!--      <ItemizedList>  -->
<!-- 	<ListItem>  -->
	  <Para>
	    <figure id="sistemapaq"> <!-- Era la figura 1 -->
	      <title>
		Arquitectura del sistema de paquetes y 
		las herramientas.
	      </title>
	      <graphic fileref="sistemapaq.png"></graphic>
	    </figure>
	  </Para>
<!-- 	</ListItem>  -->

<!-- 	<ListItem>  -->
	  <Para>
	    <figure id="dselect-main"> <!-- Era la figura 2 -->
	      <title>
		Pantalla principal de dselect.
	      </title>
	      <graphic fileref="capturas/dselect-main.png" scale="50">
	      </graphic>
	    </figure>
	  </Para>
<!-- 	</ListItem>  -->

<!-- 	<ListItem>  -->
	  <Para>
	    <figure id="dselect-pack"> <!-- Era la figura 3 -->
	      <title>
		Selección de paquetes en dselect.
	      </title>
	      <graphic fileref="capturas/dselect-pack.png" scale="50">
	      </graphic>
	    </figure>
	  </Para>
<!-- 	</ListItem>  -->

<!-- 	<ListItem>  -->
	  <Para>
	    <figure id="aptitude-main"> <!-- Era la figura 4 -->
	      <title>
		Pantalla principal de aptitude.
	      </title>
	      <graphic fileref="capturas/aptitude-main.png" scale="50">
	      </graphic>
	    </figure>
	  </Para>
<!-- 	</ListItem>  -->

<!-- 	<ListItem>  -->
	  <Para>
	    <figure id="aptitude-pack"> <!-- Era la figura 5 -->
	      <title>
		Selección de paquetes en aptitude.
	      </title>
	      <graphic fileref="capturas/aptitude-pack.png" scale="50">
	      </graphic>
	    </figure>
	  </Para>
<!-- 	</ListItem>  -->

<!-- 	<ListItem>  -->
	  <Para>
	    <figure id="gnome-apt"> <!-- Era la figura 6 -->
	      <title>
		La interfaz gráfica de gnome-apt.
	      </title>
	      <graphic fileref="capturas/gnome-apt.png" scale="50">
	      </graphic>
	    </figure>
	  </Para>
<!-- 	</ListItem>  -->

<!-- 	<ListItem>  -->
	  <Para>
	    <figure id="stormpkg-full"> <!-- Era la figura 7 -->
	      <title>
		Gestión de paquetes con stormpkg.
	      </title>
	      <graphic fileref="capturas/stormpkg-full.png" scale="45">
	      </graphic>
	    </figure>
	  </Para>
<!-- 	</ListItem>  -->

<!-- 	<ListItem>  -->
	  <Para>
	    <figure id="stormpkg"> <!-- Era la figura 8 -->
	      <title>
		La interfaz principal de stormpkg.
	      </title>
	      <graphic fileref="capturas/stormpkg.png" scale="50">
	      </graphic>
	    </figure>
	  </Para>
<!-- 	</ListItem>  -->

<!--       </ItemizedList>  -->
<!--     </Para>  -->

</Sect1>

<Sect1>
<Title>Notas de maquetación</Title>

    <para></para>
</Sect1>

<Sect1>
<Title>Notas de coordinación</Title>

<Para>
El artículo puede quedar con más de 4 páginas por las capturas y los
listados. Si fuera necesario, se puede separar en dos partes. Una
hasta los interfaces de texto (con Listado 1 y figuras 1-5) y otra de
los interfaces gráficos (Listado 2 y Figuras 6-8).
</Para>

<Para>
Si se separa, hablar con el autor para añadir un párrafo de resumen
del artículo intermedio (adelantando de lo que se hablará en el
siguiente) e incorporaré otros textos que no he añadido pero muy
interesantes a saber: cómo buscar utilizando las herramientas de
consola paquetes y programas y la nuevas tendencias de HelixCode para
ofrecer un interfaz de gestión de paquetes único para
Debian/RedHat/Solaris...
</Para>

</Sect1>

</Article>
