<!DOCTYPE Book PUBLIC "-//OASIS//DTD DocBook V4.1//EN"> 
<BOOK LANG="es">
<BOOKINFO>
<TITLE>Proyecto RHODAS</title>
<subtitle>Migración a estaciones de trabajo Linux para usuario final en el MAP</subTITLE>
<authorgroup>
<AUTHOR>
<FIRSTNAME>David Barreña Molina</FIRSTNAME>
<AUTHORBLURB>
<PARA><ULINK URL="mailto:david@molina.subs.map.es"></ULINK></PARA>
</AUTHORBLURB>
</author>
<author>
<FIRSTNAME>Javier Ballesteros Plaza</FIRSTNAME>
<AUTHORBLURB>
<PARA><ULINK URL="mailto:jballes@molina.subs.map.es"></ULINK></PARA>
</AUTHORBLURB>
</author>
<author>
<FIRSTNAME>Rubén Cuesta Arnaldo</FIRSTNAME>
<AUTHORBLURB>
<PARA><ULINK URL="mailto:ruben@molina.subs.map.es"></ULINK></PARA>
</AUTHORBLURB>
</author>
<author>
<FIRSTNAME>Fernando Ferreras Ferreras</FIRSTNAME>
<AUTHORBLURB>
<PARA><ULINK URL="mailto:fernando@molina.subs.map.es"></ULINK></PARA>
</AUTHORBLURB>
</author>
<author>
<FIRSTNAME>Luis Gutiérrez López</FIRSTNAME>
<AUTHORBLURB>
<PARA><ULINK URL="mailto:luis@molina.subs.map.es"></ULINK></PARA>
</AUTHORBLURB>
</author>
<author>
<FIRSTNAME>Laura Lozoya Sánchez</FIRSTNAME>
<AUTHORBLURB>
<PARA><ULINK URL="mailto:laura@molina.subs.map.es"></ULINK></PARA>
</AUTHORBLURB>
</AUTHOR>
</authorgroup>

<PUBDATE>Junio de 2002</PUBDATE>
     
<copyright>
     <year>2002</year>
     <holder>Ministerio de Administraciones Públicas (España)</holder>
</copyright>
     

<legalnotice><para>
        Se autoriza la reproducción total o parcial de este documento por cualquier medio 
siempre que se mantenga íntegro, junto a esta nota, especificando los autores y en los
mismos  términos de esta licencia.
</para></legalnotice>


<ABSTRACT>
<PARA>Este documento es una descripción del proyecto <EMPHASIS REMAP="bf">Rhodas</EMPHASIS>, que pretende substituir todos los puestos de trabajo Windows NT en la Subsecretaría del Ministerio de Administraciones Públicas por sistemas operativos Debian GNU/Linux, integrando una gran red formada por sistemas (servidores y clientes) corriendo Debian GNU/Linux y software libre en la medida de lo posible.</PARA>
</ABSTRACT>
</BOOKINFO>
<CHAPTER>
<TITLE>DESCRIPCIÓN DEL SISTEMA DEL MAP</TITLE>
<PARA>La red de la Subsecretaría del MAP (IntraMAP) da servicio a los Servicios Periféricos de la Administración General del Estado y a la mayoría de los servicios centrales del Ministerio en Madrid. Presenta una estructura a dos niveles: provincia y edificio. En cada edificio se cuenta con un servidor Linux para albergar las bases de datos y los servicios compartidos de los puestos de trabajo (ordenadores personales). A un nivel provincial, estos edificios se interconectan con líneas de datos RDSI. De la Delegación o Subdelegación del Gobierno, que actúa como cabecera de la provincia, parten líneas Frame-Relay que convergen en un concentrador de líneas. En los servicios centrales en Madrid,  cada edificio cuenta con un servidor. Las redes locales de todos los edificios se encuentran unidos por un anillo redundante de enlaces de fibra óptica.</PARA>
<PARA>Otros servicios específicos (Base de datos legislativa de Aranzadi, Web institucional, Teletipos, etc...) están soportados en servidores independientes a los que se accede desde la infraestructura común.</PARA>
<PARA>El sistema informático (INTRAMAP) de la Subsecretaría del Ministerio de Administraciones Públicas, se compone de servidores LINUX y ordenadores personales con sistema operativo Windows NT 4.0. </PARA>
<PARA>Los ordenadores personales cuentan con software de aplicación ofimática de uso generalista: paquetes ofimáticos  MicroSoft Office y Corel Word Perfect así como navegador, correo electrónico, etc. Por otra parte son numerosas las aplicaciones sectoriales que se usan en algunas de las unidades: 

<ITEMIZEDLIST>
<LISTITEM>
<PARA>Agendas electrónicas en las secretarías de los altos cargos</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Registro de entrada y salida</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Aplicación de sanciones</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Acceso a Base de Datos Aranzadi de legislación y jurisprudencia</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Aplicaciones de Gestión Económica</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Aplicaciones de Gestión de Personal</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Bases de datos documentales, etc.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Aplicaciones específicas de las Áreas Funcionales:

<ITEMIZEDLIST>
<LISTITEM>
<PARA>Aplicación de extranjería</PARA>
</LISTITEM>
<LISTITEM>
<PARA>SISAEX (Sanidad Exterior)</PARA>
</LISTITEM>
<LISTITEM>
<PARA>ADEXTTRA</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Estadísticas</PARA>
</LISTITEM>
<LISTITEM>
<PARA>ANIMO: Áreas Funcionales de Agricultura (Ministerio de Agricultura)</PARA>
</LISTITEM>
</ITEMIZEDLIST>

</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Etc...</PARA>
</LISTITEM>
</ITEMIZEDLIST>

</PARA>
<PARA>Además de los múltiples servicios accesibles a través de la red interna del ministerio e Internet (Boletines, Anuncios, ...), desde la IntraMAP se establecen varias conexiones para acceder a distintas aplicaciones a varias unidades de la Administración o empresas privadas. Entre estas cabe destacar:

<ITEMIZEDLIST>
<LISTITEM>
<PARA>Conexión al Ministerio de la Presidencia para la remisión y consultas de los contenidos de la Comisión de Subsecretarios y el Consejo de Ministros</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Conexión al BOE para remisión de anuncios</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Conexión a la IGAE para ejecución y seguimiento presupuestarios</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Conexión al Registro Central de Personal</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Conexión a LA CAIXA para el seguimiento de las cuentas de habilitación</PARA>
</LISTITEM>
</ITEMIZEDLIST>

</PARA>
<SECT1>
<TITLE>ARQUITECTURA DEL SISTEMA</TITLE>
<PARA>Los servidores ejecutan el sistema operativo Linux (la distribución Debian GNU/Linux 2.1 Slink) y diverso software de comunicaciones y aplicación: todo ello software libre a excepción del Gestor de Base de Datos Multibase y el antivirus KAVKEEPER que filtra el correo entrante y los ficheros depositados en los discos de red.</PARA>
<PARA>La intercomunicación de los pecés y los servidores se realiza por medio de los siguientes protocolos:

<ITEMIZEDLIST>
<LISTITEM>
<PARA>Autenticación: Las estaciones de trabajo ejecutan sobre el sistema Win NT el programa NISGINA con lo que consultan la base de datos de usuarios y contraseñas del servidor. Además, en cada consulta se actualiza la base de datos de usuarios local a ese PC. De esta manera cada usuario tiene una palabra de acceso única en cada servidor que le da acceso desde cualquiera de los pecés que quiera conectarse. Además la réplica local actualizada permite a un usuario trabajar en su PC con funcionalidad limitada (sin los recursos que residen en el servidor) si el servidor está averiado.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Disco remoto: En el servidor se ejecuta SAMBA, emulador de protocolos SMB. Este programa ampliamente difundido permite que los pecés vean una partición del disco del servidor usando protocolos nativos SMB de las redes MicroSoft. En la arquitectura IntraMAP además se usa el servidor para almacenar la mayoría de los datos personales y de grupo del usuario (Escritorio, Correo electrónico, ficheros de trabajo) que de esa manera son salvaguardados de modo diario y da al usuario independencia frente a fallos que le obliguen a cambiar de PC.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Correo: Los usuarios acceden a su correo electrónico con la herramienta NETSCAPE MESSENGER 4.5. El correo entrante se descarga del spool común del servidor y se vuelve a depositar en el servidor, pero en formato PC en la partición personal de disco de red que posee el usuario.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Navegadores:  Los pecés ejecutan directamente los navegadores (en este momento NETSCAPE NAVIGATOR 4.5) pero la configuración se guarda en el disco de red del usuario. Algunos parámetros de la configuración (Proxy, máquinas locales, etc.) son actualizados de modo automático para todos los usuarios evitando errores y dificultando manipulaciones intencionadas.</PARA>
</LISTITEM>
</ITEMIZEDLIST>

</PARA>
<PARA> 
<FIGURE>
<TITLE>Arquitectura de red en la IntraMAP</TITLE>

<mediaobject>
    <imageobject> 
    	<imagedata fileref="arqIntraMAP.png" format="png" scale="40"> 
    </imageobject>
</mediaobject>

</FIGURE>

</PARA>
</SECT1>
</CHAPTER>
<CHAPTER>
<TITLE>DESCRIPCIÓN DE LA RED DE COMUNICACIONES</TITLE>
<PARA>La organización de los sistemas de comunicaciones del MAP se adapta a la estructura del Departamento, tanto en Madrid como en las sedes de la Administración Periférica del Estado (Delegaciones de Gobierno, Subdelegaciones de Gobierno, Direcciones Insulares, Áreas Funcionales y Dependencias Integradas de la Administración Periférica del Estado).</PARA>
<PARA>Las sedes de Madrid cuentan con una red JDS que se utiliza tanto para voz, como para datos. En cuanto al resto de las sedes existe tal y como se detallará más adelante, una red de datos basada en líneas Frame Relay, líneas RDSI y líneas punto a punto. Esta red de datos se conforma teniendo en cuenta que en cada una de las 52 provincias existen diversas sedes del MAP de ámbito metropolitano que se detallan a continuación:

<ITEMIZEDLIST>
<LISTITEM>
<PARA>Sede de primer nivel. Se trata de la sede cabecera de la provincia que corresponde a la Delegación de Gobierno, Subdelegación de Gobierno o Edificio Múltiple y es de tamaño medio / grande</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Sedes de segundo nivel. Se tratan de sedes dependientes de las cabeceras de provincia que  Corresponden a Oficinas de Extranjería y Áreas Funcionales integradas en el MAP y son de tamaño pequeño.</PARA>
</LISTITEM>
</ITEMIZEDLIST>

En aquellas provincias donde existan simultáneamente Delegación de Gobierno, Subdelegación de Gobierno y/o Edificio Múltiple, el de mayor tamaño se constituye en cabecera de provincia y el resto pasa a depender de él, a nivel de la arquitectura de comunicaciones.</PARA>
<PARA>La relación a día de hoy de las sedes del MAP que se encuentran conectadas, se detalla a continuación:</PARA>
<PARA>

<TABLE>
<TITLE>Detalle Sedes del MAP</TITLE>
<TGROUP COLS="2">
<COLSPEC COLSEP="0" ALIGN="LEFT">
<COLSPEC COLSEP="0" ALIGN="LEFT">
<TBODY>
<ROW ROWSEP="1">
<ENTRY>Tipo de sedes</ENTRY>
<ENTRY>Nº de sedes</ENTRY>
</ROW>
<ROW>
<ENTRY>Sedes en Madrid</ENTRY>
<ENTRY>11</ENTRY>
</ROW>
<ROW>
<ENTRY>Cabecera de Provincia</ENTRY>
<ENTRY>52</ENTRY>
</ROW>
<ROW>
<ENTRY>Sedes de 2º nivel</ENTRY>
<ENTRY> </ENTRY>
</ROW>
<ROW>
<ENTRY>Subdelegaciones, Edificios Múltiples, Oficinas de Extranjería</ENTRY>
<ENTRY>61</ENTRY>
</ROW>
<ROW>
<ENTRY>Áreas Funcionales</ENTRY>
<ENTRY>73</ENTRY>
</ROW>
<ROW>
<ENTRY>Total</ENTRY>
<ENTRY>197</ENTRY>
</ROW>
</TBODY>
</TGROUP>
</TABLE>

</PARA>
<PARA>El objetivo de la red actual de comunicaciones es que permita el acceso a todos los sistemas de información que se proporcionan desde los servicios centrales del Ministerio con una aceptable calidad de servicio.</PARA>
<PARA>La estructura de comunicaciones, teniendo en cuenta los tipos de edificios que hay en cada provincia en el ámbito provincial, se estructura en dos niveles:

<ITEMIZEDLIST>
<LISTITEM>
<PARA>Red de primer nivel: realiza la interconexión entre la sede cabecera de cada una de las provincias y los Servicios Centrales del MAP. Se trata de una red Frame Relay que establece circuitos entre Madrid (Mª de Molina) y cada una de las sedes cabecera de provincia. Estos circuitos son de distintas velocidades dependiendo del nº de sedes provinciales de segundo nivel.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Red de segundo nivel: se encarga de conectar las redes de los restantes edificios a la sede cabecera para compartir el acceso desde este punto hacia los Servicios Centrales del Ministerio. En este caso se utilizan enlaces RDSI o líneas punto a punto en función del volumen de tráfico estimado para los edificios secundarios. En el caso de las líneas RDSI se han contratado tarifas planas para cada uno de los enlaces (servicio Novacom conmutado metropolitano / provincial)</PARA>
</LISTITEM>
</ITEMIZEDLIST>

</PARA>
<PARA>En la actualidad existe un router en cada una de las cabeceras de provincia, que conecta la red de área local de la cabecera de provincia con las redes de área local de Servicios Centrales en Madrid. La conexión de las sedes de segundo nivel a las cabeceras de provincia se realiza del mismo modo mediante routers, que han ido sustituyendo a tarjetas RDSI que estaban incorporadas en los servidores de la red de área local de cada una de las sedes. De esta forma se ha ido optimizando y homogeneizando la estructura de comunicaciones del MAP, llevándose a cabo en los dos últimos años la instalación de equipos de comunicaciones específicos, routers, en la totalidad de las sedes provinciales, cuya gestión y mantenimiento se realiza de forma centralizada.</PARA>
<PARA>En definitiva se ha conformado una red de comunicaciones de ámbito interprovincial, que sirve de transporte para los servicios de datos demandados por los usuarios en la actualidad. Estos servicios utilizan masivamente el protocolo IP como protocolo de red y aunque en la actualidad la red de comunicaciones se utilice para transporte de datos, se encuentra en fase de implantación un sistema de videoconferencia sobre IP que utilizará la misma red disponible. Por otro lado se está estudiando la viabilidad de que a medio plazo, el servicio de voz también utilice IP como protocolo de transporte, principalmente para el ámbito interprovincial. </PARA>
<PARA>Por último la red de comunicaciones del MAP, enlaza mediante una red Interministerial formada por enlaces punto a punto, con  la totalidad de los ministerios de la AGE, lo que permite que desde las distintas Áreas Funcionales y Dependencias Integradas de la Administración Periférica del Estado, conectadas a la red provincial del MAP, se puedan acceder a servicios de información y aplicaciones de distintos ministerios.</PARA>
<PARA>La arquitectura de comunicaciones de las provincias de Granada y Soria se muestran a continuación:</PARA>
<PARA>

<FIGURE>
<TITLE>Comunicaciones en Granada</TITLE>

<mediaobject>
    <imageobject> 
    	<imagedata fileref="granada.png" format="png" scale="40"> 
    </imageobject>
</mediaobject>
</FIGURE>

</PARA>
<PARA>

<FIGURE>
<TITLE>Comunicaciones en Soria</TITLE>

<mediaobject>
    <imageobject> 
    	<imagedata fileref="soria.png" format="png" scale="40"> 
    </imageobject>
</mediaobject>
</FIGURE>

</PARA>
</CHAPTER>
<CHAPTER>
<TITLE>EVOLUCIÓN HISTÓRICA DEL SISTEMA INFORMÁTICO DEL MAP</TITLE>
<PARA>Con la entrada en vigor de la LOFAGE (Ley de Organización y Funcionamiento de la Administración General del Estado) en 1997, el MAP quedó encargado de asumir las competencias a nivel orgánico de las Delegaciones del Gobierno y los antiguos Gobiernos Civiles (hoy Subdelegaciones del Gobierno), además de las Áreas Funcionales y otros Servicios Periféricos Integrados de la Administración General del Estado.</PARA>
<PARA>Como consecuencia de esto, las redes de área local de todos estos Servicios Periféricos pasaron a depender del MAP, incluyendo su administración, gestión y mantenimiento. Esta asunción de las infraestructuras se fue realizando en fases, que se describirán someramente a continuación.</PARA>
<PARA>El MAP había heredado unas 70 redes TCP/IP que habían sido instaladas desde 1.994 a 1.997.</PARA>
<PARA>A finales de 1.997 la situación era la siguiente en cada red local:

<ITEMIZEDLIST>
<LISTITEM>
<PARA>El servidor era UNIX Sun Solaris, y contaba ya con poca memoria (48Mb de RAM) y poco disco (2 a 3 Gb).</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Los pecés tenían instalado MSDOS, Windows 3.11 y PC-NFS como software de red.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Las comunicaciones con Madrid se realizaban vía RDSI, mediante tarjetas internas instaladas en los servidores Sun.</PARA>
</LISTITEM>
</ITEMIZEDLIST>

En una primera fase (de finales de 1997 a mediados 1998), el MAP:

<ITEMIZEDLIST>
<LISTITEM>
<PARA>Sustituyó las líneas conmutadas RDSI por líneas Frame Relay, lo que mejoró el rendimiento de las comunicaciones.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>En los Servicios Centrales del MAP en Madrid que se hallan bajo la competencia de la Unidad de Coordinación Informática de la Subsecretaría, ésta unificó las redes locales con la misma arquitectura que había sido heredada: servidores Sun Solaris (más potentes, con más memoria y disco) y clientes (cada vez más potentes) con MS-DOS, Windows 3.11 y PC-NFS.</PARA>
</LISTITEM>
<LISTITEM>
<PARA></PARA>
</LISTITEM>
</ITEMIZEDLIST>

</PARA>
<PARA>Posteriormente (de finales de 1998 a mediados de 1999), el MAP realizó a nivel nacional en todas sus sedes la migración de los clientes MSDOS + Windows 3.11 + PCNFS a Windows NT 4.0, sin necesidad de migrar los servidores a Windows NT Server debido al precio prohibitivo de las licencias para el Ministerio. Así, se mantuvieron los servidores Sun Solaris, donde se instaló el software libre SAMBA para exportar sus discos vía SMB a los clientes NT. En los clientes Windows NT se instaló el software libre NISGINA para autenticación de los usuarios en red vía NIS. Como los servidores Sun tenían sus discos llenos, se instalaron servidores auxiliares Debian GNU/Linux haciendo funciones principalmente de servidores de disco, aunque también equipados con tarjetas RDSI internas. Esto constituyó el primer uso masivo de Linux como servidor.</PARA>
<PARA>En verano de 1999 la Unidad de Coordinación Informática llevó a cabo otro proyecto: la integración en su red nacional de las Áreas Funcionales de Sanidad, que incluían edificios administrativos, Puestos de Inspección Fronteriza (PIFs) y Centros de Vacunación Internacional (CVIs). Salvo sedes muy pequeñas (donde se instaló un PC en monopuesto conectado por un adaptador RDSI a la cabecera de provincia), cada una de estas sedes fue dotada de una red local formada por un servidor Debian GNU/Linux y varios pecés en red (Windows NT 4.0). Estos servidores Linux se conectaban vía RDSI con la Delegación o Subdelegación del Gobierno correspondiente. El esquema de comunicaciones proporcionado anteriormente en este documento describe gráficamente la situación.</PARA>
<PARA>La experiencia en la instalación y administración de los servidores basados en software libre (Linux) ha sido exitosa; no obstante ha habido alguna dificultad (propia de cualquier sistema operativo) que hubo de ser subsanada. Con la llegada del año 2000 se produjo una anomalía en el mantenimiento de la fecha correcta de los servidores. La versión del sistema operativo instalada (versión 2.0 hamm) no incluía la superación del efecto 2.000, siendo solucionado mediante la actualización automática ejecutando un script al reinicio de la máquina.</PARA>
<PARA>En el año 2001 los servidores Sun Solaris disponían ya de poca velocidad, memoria y disco; su mantenimiento era caro y la compra de nuevos servidores Sun suponía un desembolso económico importante en hardware y software. Así, se realizó la compra de servidores Unisys Enterprise Server, equipados con sistema operativo libre Debian GNU/Linux, versión Slink 2.1, lo que suponía un desembolso económico cero en licencias, y también un coste menor en hardware. Parte del ahorro obtenido pudo ser invertido en mejoras como redundancia (RAID) y mayor capacidad de disco.</PARA>
<PARA>En este año 2002 continúa el proceso de ampliación de la red, en dos líneas de trabajo:

<ITEMIZEDLIST>
<LISTITEM>
<PARA>La sustitución de los servidores Linux instalados inicialmente en las Áreas de Sanidad, PIFs y CVIs por otros más potentes también con Debian GNU/Linux</PARA>
</LISTITEM>
<LISTITEM>
<PARA>La instalación de nuevos servidores, también Linux, con motivo de la incorporación de nuevas Áreas (principalmente de Trabajo e Industria)</PARA>
</LISTITEM>
</ITEMIZEDLIST>

</PARA>
<PARA>A finales de junio de este año se habrá completado la migración total a servidores Debian GNU/Linux llegando la cantidad total a cerca de 200 servidores.</PARA>
</CHAPTER>
<CHAPTER>
<TITLE>EL PROYECTO «RHODAS». Migración a estaciones de trabajo Linux en el MAP</TITLE>
<SECT1>
<TITLE>INTRODUCCIÓN</TITLE>
<PARA>El  proyecto RHODAS se está llevando a cabo en la Unidad de Coordinación Informática, de la Subdirección General de Oficialía Mayor y Tecnologías de la Información, perteneciente a la Subsecretaría del M.A.P. El equipo de trabajo del proyecto está formado por funcionarios de dicha Unidad y personal de la empresa UNISYS.</PARA>
<PARA>Se pretende llevar a cabo la substitución de todas las estaciones de trabajo Windows NT 4.0 que usan los funcionarios del Ministerio por estaciones de trabajo Debian GNU/Linux. Esto constituiría, al incluir Debian GNU/Linux tanto en clientes como en servidores, una de las mayores redes de software libre a nivel mundial.</PARA>
<PARA>Las motivaciones para esto son variadas y atienden a diversos motivos, que se irán desgranando en este apartado.</PARA>
</SECT1>
<SECT1>
<TITLE>SITUACIÓN DE PARTIDA</TITLE>
<PARA>El Ministerio de Administraciones Públicas es el encargado, entre otras cosas, de gestionar las infraestructuras del propio Ministerio y de Delegaciones y Subdelegaciones del Gobierno, Direcciones Insulares, Áreas Funcionales y Dependencias Integradas de la Administración Periférica del Estado. Debido a ello posee una gran red telemática repartida por toda España. En cada una de estas sedes hay una red de área local con puestos de trabajo NT 4.0 y servidor Linux Debian 2.1. Es por tanto una red de gran tamaño y en continuo crecimiento, llegando los puestos de trabajo a cerca de 8000 y los servidores a unos 200 aproximadamente.</PARA>
<PARA>Esta red de área extensa nacional (WAN) se constituye mediante la interconexión de estas redes de área local (LANs) a través de enlaces JDS, Frame Relay y RDSI. Desde la sede del MAP en María de Molina se centraliza la distribución de software a todos los servidores, de manera que todos ellos tengan las mismas configuraciones, programas, etc. Esto lo hace una máquina maestra, que mediante rdist realiza toda la distribución del software al resto de maquinas.</PARA>
<PARA>El mantenimiento y actualización de los puestos Windows NT actualmente se realiza a través de los servidores Linux de forma automatizada, ejecutando scripts de arranque remotos que se alojan en el servidor. De esta forma se pueden mantener, actualizar, instalar y borrar programas y ficheros de configuración de forma global en los puestos NT de todo el país. Esta es la manera en que se sincronizan a nivel de software tanto los clientes como los propios servidores. </PARA>
<PARA>Así, el escenario de trabajo es: un servidor en cada sede, responsable de la autentificación, compartición de recursos y gestión del correo electrónico y al cual se conectan los clientes Windows NT en donde corren las aplicaciones específicas de cada usuario. En el servidor se mantienen los perfiles de los usuarios, se guarda su correo y sus unidades de red. Gracias a ello y a la política de backups llevada a cabo en el servidor, se permite que la información pueda ser recuperada fácilmente en caso de pérdida. Como se ha dicho al arrancar los clientes NT ejecutan una serie de scripts en el servidor, lo que permite realizar tareas de mantenimiento en las susodichas estaciones.</PARA>
</SECT1>
<SECT1>
<TITLE>OBJETIVOS</TITLE>
<PARA>La situación final pretende que todos los equipos de la red, tanto clientes como servidores, ejecuten prácticamente sólo software libre, basado en Debian GNU/Linux como sistema operativo base. El nuevo entorno de trabajo debe suplir plenamente la funcionalidad que actualmente ofrece Windows NT.</PARA>
<PARA>A continuación se presentan los objetivos básicos a conseguir, sopesando las posibles alternativas que en algunos casos pueden existir. Así, son puntos fundamentales:

<ITEMIZEDLIST>
<LISTITEM>
<PARA>Entorno gráfico, que debe ser estable, cómodo y fácil de usar para el usuario final. Actualmente se baraja el uso de KDE 2.2.2 y Gnome 2.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Uso de aplicaciones orientadas a Internet: correo, web, news, etc.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Uso de aplicaciones ofimáticas. Existe en la actualidad un amplio abanico de suites basadas en software libre: OpenOffice.org, StarOffice, Kword, Knotes, Abiword, etc.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Sistema de instalación automatizada y sencilla de equipos, al estilo del usado en la actualidad en el MAP. Para ello se está sopesando el uso de alguna de las siguientes aplicaciones libres: SystemImager, Partition Image for Linux, FAI, etc.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Actualización e instalación de nuevo software de manera centralizada usando bajo Linux el modelo de distribución ya existente en el MAP. También se aprovecharían las características propias de Debian para la instalación y actualización de paquetes de software de manera remota y automatizada. Se debe conseguir un método mejor y más sencillo para instalar nuevo software y esto lo aporta Debian. En concreto, una de las herramientas a considerar es APT (Advanced Package Tool).</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Integración de los nuevos clientes contra los servidores actuales. Aquí se consideran los aspectos de autentificación y compartición de recursos contra el servidor usando NIS y NFS. Al tener tanto clientes como servidores el mismo sistema operativo Linux, esta integración se debe llevar a cabo de forma natural.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Compatibilidad de los diferentes dispositivos hardware del MAP para Linux: impresoras, selladoras, escáneres, monitores, tarjetas de vídeo, etc.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Conseguir la ejecución de las aplicaciones existentes en el MAP que actualmente están diseñadas para Windows. Esto se abordaría bien mediante su emulación o mediante algún proceso de conversión a la plataforma Linux.</PARA>
</LISTITEM>
</ITEMIZEDLIST>

</PARA>
<PARA>Todo lo anterior está encaminado a que el cambio sea lo más transparente posible para el usuario final y que se tengan que realizar el menor número posible de cambios en la estructura actual de la red. En definitiva, que el cambio sea lo menos traumático posible.</PARA>
<PARA>Un objetivo especialmente importante es que se pueda encontrar un sustituto para cada programa comercial desarrollado para Windows. Este es quizás uno de los aspectos más complicados a conseguir, dado que el número de estas aplicaciones para Linux es todavía reducido.</PARA>
</SECT1>
<SECT1>
<TITLE>RAZONES PARA EL CAMBIO Y VENTAJAS QUE APORTA</TITLE>
<PARA>Uno de los principales motivos para la realización de este proyecto es el económico. Hay que tener en cuenta el elevado precio de una licencia de Windows NT o Windows 2000, además del software ofimático (Office 97, Corel WordPerfect), programas específicos, etc. Este coste es muy elevado; si a ello le añadimos el número de puestos a instalar (miles) más el mantenimiento de los mismos, el precio es desorbitado. Sin embargo al usar Debian GNU/Linux y aplicaciones libres o GPL, las cuales representan más de 8000 paquetes de software, los costes se reducen a 0 euros. Todo este coste ahorrado se puede invertir en la instalación, mantenimiento y formación del sistema, no teniendo que gastar nada en licencias.</PARA>
<PARA>Este es quizás el motivo más importante, pero hay otros que suponen importantes mejoras en el Sistema Informático actual del M.A.P. como por ejemplo: la seguridad, fiabilidad y robustez del sistema operativo y la calidad de las aplicaciones.</PARA>
<PARA>En definitiva, las ventajas que se obtienen al usar Debian GNU/Linux y soluciones basadas en software libre son:

<ITEMIZEDLIST>
<LISTITEM>
<PARA>Bajo coste. Como se ha mencionado anteriormente, supone un ahorro importante al no pagar por licencias.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Independencia total de cualquier sector privado o empresa. Esto supone no estar atado a las condiciones de mercado impuestas por ciertas empresas en situación de monopolio.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Seguridad y privacidad. Al disponer siempre del código fuente, siempre se conocerá su funcionamiento interno, se encontrarán y corregirán mucho antes los posibles errores, filtraciones y otros problemas de seguridad. Actualmente Linux es inmune ante la inmensa mayoría de los virus, que afectan casi exclusivamente a los sistemas Windows.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Adaptabilidad. Las modificaciones y correcciones de posibles errores se realizan de forma inmediata. De esta forma, las aplicaciones están en continua mejora y en proceso de evolución.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Calidad. El software libre, al ser de dominio público, está siendo continuamente usado y depurado por un gran número de desarrolladores y usuarios del mismo, que añaden y demandan constantemente nuevas funcionalidades.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Respeto a los estándares. El uso de software libre y de sistemas abiertos facilita la interoperabilidad, siendo este un aspecto fundamental para las Administraciones Públicas, dada la gran cantidad de unidades con responsabilidades en informática.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Redistribución. Cualquier cambio y mejora que se introduzca en programas bajo licencia libre debe ser incluido en posteriores versiones y publicado en el código fuente. Así el desarrollo tecnológico es continuo, dinámico y toda la sociedad se beneficia de él.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>No hay restricción legal de uso. No hay limitación en el número de licencias ni de copias.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Continuidad. El hecho de que el código fuente esté disponible para todo el mundo, garantiza el derecho de cualquier persona o empresa a continuar su desarrollo.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Facilidad en la creación de nuevos desarrollos. Se pueden iniciar nuevos proyectos basados en el código de cualquier programa libre, o adaptarlo, sin necesidad de solicitar autorización al respecto.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Linux posee actualmente potentes entornos gráficos, muy intuitivos y amigables, al estilo de Windows. Esto permite una migración más suave para el usuario final.</PARA>
</LISTITEM>
</ITEMIZEDLIST>

</PARA>
</SECT1>
<SECT1>
<TITLE>RETOS Y DIFICULTADES</TITLE>
<PARA>El reto es llegar a sustituir plenamente la funcionalidad de un sistema Windows, usando sólo productos para Linux, preferiblemente libres y con licencia GPL. Para ello habrá que enfrentarse a una serie de retos y dificultades, que a continuación se expondrán.</PARA>
<PARA>Se debe intentar soportar bajo Linux todo tipo de dispositivos hardware: monitores, impresoras, tarjetas de vídeo, escáneres, etc. Sin embargo, muchos fabricantes no facilitan documentación para que se puedan desarrollar drivers para Linux para estos dispositivos.</PARA>
<PARA>Hay muchas aplicaciones específicas de la plataforma Windows que no tienen su correspondencia con el mismo grado de funcionalidad en el mundo Linux o libre. Muchas de estas aplicaciones, por su complejidad, no pueden ser emuladas bajo Linux. El número de este tipo de aplicaciones (tan específicas) desarrolladas para Linux es todavía reducido, aunque está en constante aumento.</PARA>
<PARA>Otro reto es conseguir la ejecución de todas las aplicaciones desarrolladas a medida, tanto por el MAP como por otros Ministerios cuyos servicios periféricos dependen orgánicamente del MAP. Esto no será fácil sin la implicación y cooperación de todos los departamentos afectados.</PARA>
<PARA>El objetivo final es obtener un sistema robusto, fiable y de alta calidad, que sea lo más fácilmente administrable posible. Debe esconder las complejidades, y a la vez proporcionar un entorno intuitivo y sencillo de manejar para el usuario final. Es fundamental que la estación de trabajo se pueda administrar lo más automatizadamente posible, de forma que las tareas manuales de mantenimiento sean mínimas.</PARA>
</SECT1>
<SECT1>
<TITLE>ESTADO ACTUAL DEL PROYECTO</TITLE>
<PARA>Actualmente se dispone de una maqueta con las siguientes características técnicas generales:

<ITEMIZEDLIST>
<LISTITEM>
<PARA>Sistema operativo Debian GNU/Linux «Woody» con kernel 2.4.16</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Servidor gráfico XFree86 versión 4</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Gestor de ventanas KDE 2.2. De esta forma el usuario podrá trabajar de una forma muy similar a Windows, disponiendo de un entorno gráfico ameno, fácil e intuitivo.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>OpenOffice.org 1.0 como software ofimático. Se ha aprovechado la amplia experiencia obtenida después de realizar exhaustivas pruebas durante largo tiempo con StarOffice 5.2.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Un conjunto de aplicaciones de software libre para navegación, multimedia, etc.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Un software para emulación de aplicaciones desarrolladas para Windows, denominado WINE.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Servidor de impresión CUPS (Common UNIX Printing System).</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Un sistema de instalación y configuración automática de pecés, llamado SystemImager.</PARA>
</LISTITEM>
</ITEMIZEDLIST>

</PARA>
<PARA>

<FIGURE>
<TITLE>Arquitectura de la estacion de trabajo Linux (Proyecto Rhodas)</TITLE>

<mediaobject>
    <imageobject> 
    	<imagedata fileref="arqRHODAS.png" format="png" scale="40"> 
    </imageobject>
</mediaobject>

</FIGURE>

</PARA>
<SECT2>
<TITLE>Desktop</TITLE>
<PARA>El entorno de escritorio KDE proporciona un interfaz gráfico amigable muy parecido al de Windows, lo que permitirá una adaptación más rápido de los usuarios al nuevo sistema.</PARA>
<PARA>En este sentido, se ha creado un perfil maestro en KDE, con todo lo necesario para el usuario, con su propio menú de inicio, con una configuración de fuentes (true type) apropiada, una asociación directa entre extensiones y aplicaciones, una configuración de colores y tamaños amena, y restringiendo el acceso a determinados módulos de configuración, para evitar que el usuario modifique el sistema.</PARA>
<PARA>Se dispone de un gran número de aplicaciones de software libre que permitirán realizar las tareas cotidianas de forma eficaz:

<ITEMIZEDLIST>
<LISTITEM>
<PARA>Explorador de archivos Konqueror, que además permite navegar en Intranet/Internet.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Visores de texto (Kword, Acrobat Reader), con ellos se podrá visualizar gran número de archivos de texto, como txt, pdf, rtf, doc, etc...</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Gestor de correo (Netscape Messenger). Al ser éste el cliente de correo usado en la actualidad en el M.A.P. (para Windows NT), el usuario mantendrá compatibilidad con sus buzones de correo, libro de direcciones, reglas de filtrado, etc. y no notará ninguna diferencia en el nuevo sistema, pudiendo enviar y recibir correos como lo hacía en Windows. Esto se ha logrado desarrollando un script que realiza el proceso completo de migración de toda la configuración y datos de Netscape, de Windows a Linux.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Herramientas multimedia (Xmms, Mplayer), que nos permitirán reproducir la mayoría de los archivos de vídeo y sonido. Incluso un reproductor de discos compactos musicales. También se dispone de visores gráficos, como kview, con el que podremos visualizar la mayoría de los formatos de imágenes.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Herramientas gráficas de compresión/descompresión de datos (Ark). De esta forma se podrá trabajar con la mayor parte de los formatos de compresión de archivos existentes en la actualidad, como Zip, Rar, Tar, etc...</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Navegadores de Internet. Se ha incluído Netscape, que es el actual utilizado en el MAP, y Konqueror, que es el navegador propio de KDE. El sistema está configurado para que se puedan visualizar correctamente páginas web seguras, que contengan Java, JavaScript, Flash, ASP, etc. Se tiene instalada la máquina virtual de Java jre1.3, de la compañía Blackdown, que es completamente libre, y desarrollada por la comunidad.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Administrador gráfico de impresión, que permite la gestión de los trabajos de impresión mediante un interfaz WEB.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Se dispone diferentes utilidades para facilitar la labor diaria de los usuarios: una calculadora, un capturador de pantalla, configurador de impresoras, vigilante del sistema, etc.</PARA>
</LISTITEM>
</ITEMIZEDLIST>

A continuación se muestran una serie de pantallas que muestran el aspecto del escritorio de usuario. </PARA>
<PARA> 
<FIGURE>
<TITLE>Aspecto del Escritorio</TITLE>

<mediaobject>
    <imageobject> 
    	<imagedata fileref="instantanea.png" format="png" scale="40"> 
    </imageobject>
</mediaobject>

</FIGURE>

</PARA>
</SECT2>
<SECT2>
<TITLE>Integración con el Servidor de la Red Local</TITLE>
<PARA>Los servidores de red local de todas las sedes del MAP llevan también Debian GNU/Linux.</PARA>
<PARA>En la situación actual, al no contar con servidores Windows NT Server:

<ITEMIZEDLIST>
<LISTITEM>
<PARA>Los pecés clientes Windows NT se autentifican contra los servidores Linux vía NIS, mediante el software libre cliente denominado NISGINA.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Los servidores Linux exportan discos e impresoras a los pecés vía SMB con el software libre SAMBA</PARA>
</LISTITEM>
</ITEMIZEDLIST>

</PARA>
<PARA>En el nuevo proyecto, la integración entre clientes y servidores es más natural.</PARA>
<PARA>El sistema Linux de usuario final está perfectamente integrado con el servidor de la red local, permitiendo en este sentido las mismas funcionalidades que Windows. Además, como los servidores ya son Debian GNU/Linux, la interoperabilidad con los clientes (también Debian) es más sencilla y fiable. Así, el usuario se valida contra el servidor vía NIS, sin necesidad de introducir modificaciones externas al sistema operativo cliente; NIS es un paquete estándar del propio sistema Debian Linux (al contrario que en la situación actual con Windows NT). En este proceso de autentificación, el usuario adquiere los privilegios y restricciones sobre el sistema y los archivos tanto de la estación local como del servidor de red; las contraseñas encriptadas se almacenan de forma segura. Ahora el servidor de ficheros exportará sus discos mediante NFS, siendo también éste un paquete estándar en Linux (no así en Windows). Aún así, la versatilidad de Linux permite que cada equipo pueda disponer también de servidor y cliente SAMBA, para permitir la compartición de recursos con las máquinas Windows que pueda haber en la red.</PARA>
<PARA>Al entrar el usuario en el nuevo sistema se ejecutarán varios scripts residentes en el servidor, que mantendrán nuestro equipo actualizado a nivel de archivos de configuración, paquetes de software, sincronización de fecha y hora, y que permitirán cualquier modificación que necesitemos en un futuro.</PARA>
</SECT2>
<SECT2>
<TITLE>Ofimática</TITLE>
<PARA>Aunque es muy importante disponer de un entorno gráfico de escritorio amigable y sencillo de usar para el usuario final, ésto no serviría de mucho si el usuario no dispusiera de un entorno ofimático adecuado para componer todos sus documentos de texto, hojas de cálculo, presentaciones, etc., de una forma eficaz y sencilla, tal y como lo estaba realizando hasta el momento. Este punto es imprescindible para lograr una exitosa adaptación del usuario al nuevo entorno de trabajo.</PARA>
<PARA>A la hora de escoger una suite ofimática basada en software libre, hay en la actualidad varias alternativas: StarOffice,  OpenOffice.org, KOffice y otras.</PARA>
<PARA>El proyecto se comenzó realizando pruebas con StarOffice. Esta suite lleva integrada un conjunto de aplicaciones capaces de realizar todas las tareas propias de oficina. Esta herramienta se presenta como un escritorio desde el cual se accede a todas las aplicaciones: StarOffice Writer (Editor de textos), StarOffice Calc (Hoja de cálculo), StarOffice Impress (Presentaciones), StarOffice Base (Bases de Datos), StarOffice Draw (Herramienta de dibujo), StarOffice Schedule (Planificador de eventos), StarOffice Mail (Correo electrónico) y StarOffice Discusión (grupos de noticias).</PARA>
<PARA>Primeramente, se escogió StarOffice 5.1 y posteriormente 5.2 para Windows, pero después de gran cantidad de pruebas se descartó ya que el sistema NT se ralentizaba y sufría contínuos cuelgues.</PARA>
<PARA>A partir de este momento se escogió cómo sistema operativo base Debian GNU/Linux, y ya bajo esta plataforma se continuaron las pruebas con StarOffice 5.2 (ya para Linux).</PARA>
<PARA>Finalmente, se optó por OpenOffice.org. Veamos el trabajo desarrollado.</PARA>
<PARA><EMPHASIS>StarOffice 5.2</EMPHASIS></PARA>
<PARA>Las pruebas se han orientado principalmente a evaluar la compatibilidad que ofrece StarOffice con los documentos ya creados en las dos suites ofimáticas que actualmente se usan en el MAP, Office 97 y Corel Suite 8. En este sentido, los funcionarios del Ministerio trabajan con todo tipo de documentos, incluyendo una serie de complejos documentos oficiales propios, que siguen el manual de imagen institucional.</PARA>
<PARA>En cuanto a la importación de documentos realizados con Microsoft Office 97, al disponer StarOffice de un filtro de conversión, ésta se realizaba directamente de modo satisfactorio, a excepción de las fusiones (que requieren la realización de un proceso sencillo de conversión), así como  de los documentos que contienen macros.</PARA>
<PARA>Por otra parte, StarOffice 5.2 no ofrece compatibilidad directa con Corel Suite 8, teniendo que realizarse a través de Office 97, con resultados aceptables.</PARA>
<PARA>También se han realizado pruebas de creación de nuevos documentos, llegando a la conclusión de que el manejo de las diferentes aplicaciones que componen StarOffice 5.2 es sencillo y permite desarrollar el trabajo ofimático que se lleva a cabo en el Ministerio.</PARA>
<PARA><EMPHASIS>OpenOffice.org</EMPHASIS></PARA>
<PARA>Después de las anteriores pruebas de compatibilidad y trabajo, se ha decidido orientar las pruebas hacia OpenOffice.org, la evolución libre de StarOffice.</PARA>
<PARA>Mientras StarOffice es un proyecto licenciado por SUN, OpenOffice.org por sus características GNU ofrece  todas las ventajas y posibilidades del software libre. Además parece que la nueva versión StarOffice 6.0 no será ya gratuita para plataformas Linux, mientras que OpenOffice.org sí lo es. Por otra parte, OpenOffice.org está siendo desarrollado y mejorado continuamente por un numeroso equipo de trabajo de software libre.</PARA>
<PARA>OpenOffice.org realiza una carga menos pesada para el sistema que la versión 5.2 de StarOffice; esto es realmente importante de cara al usuario final, que ha de encontrarse no sólo con un entorno amigable, sino con un sistema fiable y que responda con celeridad a sus peticiones. La última versión de OpenOffice.org (1.0) ha eliminado el escritorio, y además permite iniciar separadamente cada herramienta de la suite (procesador de textos, hoja de cálculo, presentaciones, etc.).</PARA>
<PARA>La compatibilidad en la importación/exportación de documentos se ha mejorado considerablemente.</PARA>
<PARA>No obstante, algunos formatos como los de la suite Corel no están aún soportados. Aunque cabe la posibilidad de realizar en estos casos la migración de estos documentos mediante el editor GNU AbiWord que parece leer más o menos correctamente este formato y grabar en cualquier otro que posteriormente lea OpenOffice.org.</PARA>
<PARA>Se ha realizado ya una migración casi completa de las plantillas institucionales existentes en el MAP (FAX, Nota Interior, Oficios, Plantillas bilingües, etc).</PARA>
<PARA>En el caso de las fusiones con datos (cartas en serie, etiquetas, etc) la importación no es directa y necesita la realización de una serie de pasos, lo que requiere la cooperación de los usuarios. Sin embargo la realización de este tipo de documentos de fusión, partiendo desde cero, es realmente sencilla en OpenOffice.org.</PARA>
<PARA>OpenOffice permite la importación de datos existentes en otros formatos (Adabas, JDBC, ODBC, dBase, Texto, Hoja de Cálculo, etc), teniendo únicamente limitaciones en la importación de formularios e informes creados con programas como Access; este tipo de formularios/informes deben ser reescritos, necesitando pequeños ajustes en lo que respecta a la declaración de variables y el código referido a objetos.</PARA>
<PARA>Respecto al trabajo realizado con documentos de hojas de cálculo, se ha conseguido una alta compatibilidad en la importación/exportación desde este tipo de documentos, incluyendo gráficos y formatos predefinidos. No obstante, por ahora no hay compatibilidad directa con Corel Quattro Pro, pudiendo realizarse la conversión a través de Microsoft Excel.</PARA>
<PARA>Otros programas como el destinado a la realización de presentaciones (Impress) mantiene una compatibilidad tan alta con otras suites que prácticamente no se distingue un documento creado con uno u otro programa.</PARA>
<PARA>Al igual que StarOffice, también se han realizado pruebas de creación de nuevos documentos, mostrándose OpenOffice.org como una herramienta realmente viable.</PARA>
<PARA>Como en otros aspectos del sistema, para abordar con éxito el uso de estas nuevas herramientas ofimáticas, será necesario realizar un importante esfuerzo en formación al usuario final y personal informático, a diferentes niveles.</PARA>
</SECT2>
<SECT2>
<TITLE>Emulación de aplicaciones</TITLE>
<PARA> 
El Ministerio dispone de multitud de aplicaciones propias, desarrolladas para Windows. Estas aplicaciones no se pueden ejecutar de forma nativa en Linux; para poder hacerlo, se utiliza un emulador llamado WINE, que permite la ejecución de aplicaciones Windows dentro de Linux, y que pertenece también al mundo del software libre.</PARA>
<PARA>WINE está configurado en nuestro sistema de tal forma que no se necesitará tener instalada ninguna partición Windows en la estación de trabajo Linux. Desde las aplicaciones nativas de Windows emuladas con WINE se puede acceder a los archivos, impresoras y bases de datos en red. Se ha conseguido emular un gran número de aplicaciones de forma óptima. No obstante, hay ciertas funcionalidades que por su complejidad o su interacción con otros programas, plantean dificultades, y se necesitará ayuda de los desarrolladores para modificar pequeñas partes del código de las aplicaciones corporativas.</PARA>
<PARA>Actualmente se está estudiando la posibilidad de emular las herramientas de desarrollo, para que los desarrolladores no necesiten Windows para programar las propias aplicaciones de Windows, garantizando así el mantenimiento correcto de las aplicaciones emuladas.</PARA>
<PARA>Se ha conseguido realizar la migración de formatos de ayuda propietarios a formatos de ayuda libre, concretamente en HTML, para no depender de programas no libres y/o su emulación.</PARA>
<PARA>En un futuro habrá que definir un entorno de desarrollo nativo Linux (Kylix, Kdevelop, etc.), en el que se elija un lenguaje apropiado para este sistema operativo (Java, C, Perl, etc.). </PARA>
<PARA>El MAP aglutina departamentos que, aunque orgánicamente dependen de él, funcionalmente dependen de otros ministerios (Sanidad, Agricultura, Industria, etc.). Así, además de las aplicaciones desarrolladas por el propio departamento de desarrollo del MAP, en los pecés se ejecutan también aplicaciones desarrolladas por otros Ministerios. En este sentido se tendrá que llegar a acuerdos que tengan en cuenta la nueva plataforma basada en software libre, sobre la que se ejecutarán todas las aplicaciones.</PARA>
</SECT2>
<SECT2>
<TITLE>Instalación automática de equipos</TITLE>
<PARA>Dado el alto número de ordenadores personales de que consta la red del MAP (más de 8000), se hace imprescindible contar con un sistema de instalación automática de equipos.</PARA>
<PARA>Para este propósito, se utiliza una aplicación llamada SystemImager, que también es software libre. Mediante esta aplicación y las modificaciones que se han realizado sobre ella, se puede instalar y configurar cualquier PC del ministerio en un tiempo reducido (unos veinte minutos). Mediante los scripts que hemos creado, sólo es necesario introducir los datos de la red y el modelo del PC, y el sistema se configurará automáticamente. El proceso creará las particiones del disco duro (independientemente del tamaño de este), configurará la red, se cargarán los módulos apropiados de Hardware y se ejecutará el LILO. El ahorro de tiempo es considerable.</PARA>
<PARA>Para ello se realiza una imagen del equipo modelo (golden client), que es la que se quiere volcar al resto de equipos. Si en algún momento se modifica esta imagen (por actualizaciones de software, cambios de versiones, etc.), mediante un sencillo comando se podrá actualizar cualquier PC con esta nueva modificación. De esta forma, los equipos siempre estarán actualizados. Si por error u otra causa se eliminasen o corrompiesen archivos de la estación del usuario, éstos se podrían recuperar muy fácilmente, simplemente actualizando la máquina cliente.</PARA>
</SECT2>
<SECT2>
<TITLE>Estudio del parque de hardware del MAP</TITLE>
<PARA>Puesto que en el Ministerio de Administraciones Públicas hay un parque informático muy variado, ha sido necesario realizar un informe detallado del Hardware existente.</PARA>
<PARA>El objetivo final de esta recopilación es la creación de una maqueta que pueda funcionar en el mayor número posible de puestos. Esto debe hacerse tras comprobar que el Hardware está soportado en GNU/Linux, descartando el no compatible. La lista de compatibilidad de Hardware, se puede consultar en la URL <ULINK URL="http://www.linuxdoc.org/HOWTO/Hardware-HOWTO/"></ULINK></PARA>
<PARA>El estudio se ha realizado de dos formas: mediante unos programas tipo script que recopilan la información directamente del PC, y aprovechando la ayuda del personal informático destacado en las diferentes sedes, para los datos que no se podrían haber recogido de otra forma.</PARA>
<PARA>Los principales parámetros  que recoge este estudio son:

<ITEMIZEDLIST>
<LISTITEM>
<PARA>Velocidad del microprocesador (medida en Mhz.) para cumplir con los requisitos mínimos del proyecto.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Memoria RAM (medida en Mb.), parámetro esencial para que el rendimiento sea el mejor posible.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Modelo de tarjeta de red.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Modelo de tarjeta de vídeo.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Modelo de tarjeta de sonido.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Modelos de impresoras instaladas en local o utilizadas vía red.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Modelos de escáneres y otros periféricos.</PARA>
</LISTITEM>
</ITEMIZEDLIST>

</PARA>
<PARA>Además se incluyen otros datos que pueden ser de utilidad como:

<ITEMIZEDLIST>
<LISTITEM>
<PARA>Nombre del equipo.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Dirección IP.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Capacidad y utilización del disco duro.</PARA>
</LISTITEM>
</ITEMIZEDLIST>

</PARA>
<PARA>De esta forma se ha compilado un kernel, o núcleo del sistema operativo, optimizado para el microprocesador y con soporte para la mayor parte de tarjetas de red posibles. Las de sonido no se incluyen dentro del kernel, porque aumenta de forma considerable su tamaño. En este caso lo que se hace es cargar los módulos adecuados a cada tarjeta. En cuanto a las tarjetas de vídeo se ha creado un fichero de configuración del sistema gráfico X Window adecuado para cada una, de forma que el proceso automático de instalación se encarga de copiarlo y el puesto queda listo para funcionar.</PARA>
</SECT2>
<SECT2>
<TITLE>Monitorización automática del sistema</TITLE>
<PARA>Se ha desarrollado un proceso que permite monitorizar en tiempo real el estado de cada estación de trabajo.</PARA>
<PARA>Cada cliente Linux tiene instalado un servidor web Apache que publica una página de inicio desarrollada en PHP; ésta recoge gran cantidad de información del sistema, relativa a la configuración de la estación de trabajo, sus recursos en uso y disponibles, etc. Esta página se irá perfeccionando progresivamente a medida que se necesite obtener más información de los pecés.</PARA>
<PARA>De esta forma, el administrador podrá conocer el estado de cada PC sin necesidad de desplazarse a su ubicación física, facilitándole las tareas diarias de administración.</PARA>
</SECT2>
<SECT2>
<TITLE>Tareas en proceso</TITLE>
<PARA>Como se puede apreciar, el proyecto es muy ambicioso y complejo, y aunque se ha logrado mucho, aún queda bastante trabajo por realizar. Actualmente están en desarrollo o en fase de estudio las siguientes tareas:

<ITEMIZEDLIST>
<LISTITEM>
<PARA>Emulación de aplicaciones Access (runtime 2.0 y 97), con WINE.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Realización de tareas tipo DDE (intercambio dinámico de datos) entre aplicaciones corporativas y OpenOffice.org.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Realización de una auditoría de seguridad completa del sistema y su entorno, para subsanar posibles agujeros o errores. Además se estudiará la encriptación de las comunicaciones entre clientes y servidores mediante túneles SSH.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Refinamiento de las políticas del sistema.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Puesta en marcha de un mirror de Debian, con los paquetes que contiene la maqueta y otros que se puedan considerar necesarios, y el empaquetado de los programas que se consideren oportunos.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Se están añadiendo nuevas funcionalidades  al sistema de distribución automática para la instalación, actualización y mantenimiento del software.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Se está finalizando un sistema de instalación automática de impresoras, tanto en KDE como en WINE y OpenOffice.org, para facilitar la tarea de los administradores locales.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Prueba de hardware específico, como dispositivos USB, SCSI, escáneres, webcams, dispositivos de infrarrojos, etc.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Personalización completa del entorno de trabajo para el M.A.P: logos, mensajes de bienvenida, símbolos, etc.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Sistema para mantenimiento de configuraciones específicas de cada sede y/o cada puesto local.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Estudio sobre la nueva herramienta para crear bases de datos, como puede ser MySQL, PostgreSQL, Adabas, Oracle, etc, en sustitución de Access (usado en la actualidad).</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Análisis de nuevas funcionalidades que puedan aportar una mejora a la maqueta y al entorno de trabajo del MAP, como pueden servidores de chat, programas de mensajería, vidoeconferencia, telefonía sobre IP, weblogs, compartición de ficheros, compartición de información, etc.</PARA>
</LISTITEM>
</ITEMIZEDLIST>

</PARA>
</SECT2>
</SECT1>
<SECT1>
<TITLE>VISIÓN DE FUTURO</TITLE>
<PARA>Al ser un proyecto basado en software libre y en el cual se dispone en todo momento del código fuente de los programas y del propio sistema operativo, todo el desarrollo y las modificaciones que se vayan realizando están a disposición del MAP. En este caso por tanto queda asegurada la continuidad del proyecto, independientemente de la empresa o del equipo de trabajo que lo esté llevando a cabo.</PARA>
<PARA>Uno de los aspectos que más se debe tener en cuenta es la formación tanto de los técnicos como de los usuarios en el nuevo entorno, a nivel de sistema operativo, desktop y ofimática. La formación en el sistema operativo Linux, aunque más costosa al principio, es acumulativa, pues los conocimientos adquiridos son válidos para el futuro, no así en otros sistemas propietarios que cambian a menudo de versión y filosofía de modo de trabajo, atendiendo a veces a razones de mercado.</PARA>
<PARA>Al ser software libre basado en Debian GNU/Linux y en su sistema de actualización de software, la instalación de nuevos paquetes de software o la actualización de nuevas versiones se realiza de forma más avanzada y natural.</PARA>
<PARA>Las mejoras que se realicen sobre el sistema desarrollado, se verán reflejadas en la comunidad de software libre; y recíprocamente las que se realicen en ésta las podrá adoptar el sistema. Así, la innovación tecnológica es mutua y beneficiosa para el contínuo desarrollo de Linux.</PARA>
</SECT1>
<SECT1>
<TITLE>RECOMENDACIONES FINALES</TITLE>
<PARA>Las Administraciones Públicas deben tomar parte activa en el debate sobre las patentes de software para asegurar la libertad en el uso del mismo y evitar los monopolios que sólo empobrecen el desarrollo tecnológico. Por tanto deben limitar los efectos negativos de las leyes de propiedad intelectual (sistema de patentes),  sobre todo cuando concierne a la interoperabilidad. Deberían igualmente fortalecer los mecanismos  legales de regulación para que no se produzcan casos de monopolio flagrante y evitar las regulaciones que puedan directa o indirectamente dañar la libertad de los desarrolladores.</PARA>
<PARA>También las Administraciones Públicas deben promover y dar ejemplo en el uso de estándares abiertos y por tanto del uso del software libre que los provee. Siendo las AAPP las encargadas de ofrecer servicios públicos a los ciudadanos deben usar estándares abiertos que aseguren la interoperabilidad no sólo con los ciudadanos sino también en el intercambio de información interministerial e intergubernamental.</PARA>
<PARA>Debería evitarse el uso de formatos propietarios de documentación ligados a una determinada compañía y sistema operativo, como Office, Corel, etc. y sí formatos abiertos como LaTEX, HTML, SGML, o incluso PDF y RTF, que siendo formatos propietarios, permiten interoperabilidad.</PARA>
<PARA>Esta interoperabilidad debe garantizarse también en el caso de los servicios que se proveen en Internet, asegurando el acceso de la información y los servicios a todos los ciudadanos. A tal efecto,  existen organismos que promueven la interoperabilidad como es el W3C Consortium,  que intentan que no se produzcan casos desafortunados como el de los navegadores de software libre que cumplen y respetan los estándares y no pueden acceder a servicios que ofrece la Administración,  porque están diseñados en sistemas propietarios y que sólo funcionan bajo dichos entornos, dejando fuera a parte de la ciudadanía que quiere hacer uso de dichos servicios.</PARA>
<PARA>En lo que respecta a inversión en compra de hardware, es necesario también hacer una serie de recomendaciones para que éste sea compatible con GNU/Linux.</PARA>
<PARA>Un aspecto fundamental a la hora de planificar la optimización de los recursos dentro de la Administración Pública es tener en cuenta que no todo el hardware que se puede comprar es compatible con sistemas operativos distintos de los diseñados por Microsoft.</PARA>
<PARA>Esto se debe a que existen alianzas entre grandes empresas para ocultar a la comunidad libre los detalles técnicos de numerosos componentes hardware, guardándose esta preciada información para sus socios (partners). Lo que se consigue es que se tarde más tiempo, o incluso no se consiga, tener disponible un driver o controlador que haga que ese dispositivo funcione en un sistema operativo abierto como GNU/Linux, y solamente lo haga en sistemas propietarios.</PARA>
<PARA>En otros casos, los fabricantes reducen al mínimo la circuitería interna de un dispositivo realizando estas labores el microprocesador y el software, con la consiguiente pérdida de rendimiento y la casi total imposibilidad de producir un controlador en el mundo abierto, al ocultarse las especificaciones técnicas. Es el caso de los dispositivos llamados WinModem, algunos de ellos inservibles en GNU/Linux.</PARA>
<PARA>Si la Administración quiere apostar fuerte por el mundo del software libre no debe descuidar el tema de la compra de equipos y periféricos. Hay varias páginas web de consulta obligada antes de decidirse. </PARA>
<PARA>Aspectos fundamentales que deben considerarse en este sentido son:

<ITEMIZEDLIST>
<LISTITEM>
<PARA>Solicitar información de las características técnicas detalladas del equipo que se piensa adquirir: modelo de tarjeta de red, vídeo y sonido, puertos incorporados (USB, Firewire, inalámbricos), unidades de cinta, grabadoras de CDROM, módems (internos o externos), tarjetas RDSI, UPS, etc. Esta información técnica es proporcionada por comerciales o incluso puede ser accesible en el servidor web de la empresa proveedora.</PARA>
</LISTITEM>
<LISTITEM>
<PARA>Comprobar la compatibilidad con todo el hardware en la siguiente dirección: <ULINK URL="http://www.linuxdoc.org/HOWTO/Hardware-HOWTO/"></ULINK>. En esta URL están clasificados los dispositivos por categorías, teniendo enlaces a otras páginas donde la información es más extensa. Por ejemplo:<ULINK URL="http://www.linuxdoc.org/HOWTO/Ethernet-HOWTO.html"></ULINK> para las tarjetas de red,<ULINK URL="http://www.linuxprinting.org"></ULINK> o <ULINK URL="http://www.linuxdoc.org/HOWTO/Printing-HOWTO/"></ULINK> para las impresoras.</PARA>
</LISTITEM>
</ITEMIZEDLIST>

</PARA>
<PARA>La Administración debería promover acciones para que las empresas fabricaran hardware compatible para las diferentes plataformas software, haciendo uso de mecanismos de valoración positiva o negativa en los concursos públicos de adquisición de hardware.</PARA>
<PARA>Algunas referencias sobre estándares abiertos y patentes son:

<ITEMIZEDLIST>
<LISTITEM>
<PARA>W3C World Wide Web Consortium: <ULINK URL="http://www.w3c.org"></ULINK></PARA>
</LISTITEM>
<LISTITEM>
<PARA>Defensa de los estándares abiertos y lucha contra las patentes: <ULINK URL="http://www.eurolinux.org"></ULINK></PARA>
</LISTITEM>
</ITEMIZEDLIST>

</PARA>
</SECT1>
</CHAPTER>
</BOOK>
