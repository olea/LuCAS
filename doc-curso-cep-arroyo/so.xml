<?xml encoding="iso-8859-1"?>

<appendix id="ch-so">
    <title>Nociones mínimas del sistema operativo y de redes</title>

    <note><title>Nota</title>
      <para>
	Que este capítulo esté aquí no significa que se dedique una
	sesión a estos conceptos. Sencillamente los problemas van a ir
	presentándose, y conviene tener un material mínimo que
	consultar. 
      </para>
    </note>
<sect1 id="so-por-que">
      <title>¿Por qué este capítulo?</title>

      <para>
	En mi modesta opinión no se puede trabajar con una máquina de un
	sistema operativo 
	avanzado (GNU Linux, *BSD, Solaris, Windows NT) si no se
	distingue lo que es trabajar como 
	administrador o con una cuenta de usuario, si no se saben montar
	nuevos dispositivos, matar procesos fallidos o si un fichero puede
	ser modificado por personas no autorizadas.
      </para>
      <para>
	Todo esto nos lleva a la discusión de qué debe saber un
	usuario. Mi respuesta es que debe saber cuanto quiera saber
	(es absurdo poner techos por arriba), a
	partir de un mínimo de conocimientos que deben exigirse tras el
	proceso de formación: me parece irresponsable pensar que se van a
	utilizar los ordenadores para trabajar en clase y en las tareas
	burocráticas/administrativas y que luego no se exija un control
	de quién puede acceder a qué datos. Trabajamos con personas
	menores de edad; en tanto que personas y en tanto que menores es
	exigible la confidencialidad. Y es imprescindible
	una política de seguridad y de respaldos
	(<foreignphrase>backups</foreignphrase>)
	si se van a utilizar
	los ordenadores de una forma seria, para confeccionar y
	almacenar exámenes, para la elaboración de materiales, etc.
      </para>
      <note><title>Mi conclusión</title>
	<para>
	  Un usuario debe saber aquello que le permita asumir su
	  <emphasis>responsabilidad</emphasis> en el uso de los
	  ordenadores. 
	</para>
      </note>
      <para>
	Estoy hablando de saber <emphasis>utilizar</emphasis> el
	ordenador, no administrarlo ni administrar una red. El ordenador
	es un medio de comunicación, como el teléfono, como el coche;
	como ellos debe saberse utilizar, sin revantar el capó, sin
	saberse de memoria decenas de números de teléfono o cómo
	funcionan. 
      </para>
    </sect1>

    <!-- %%%%%%%%%%% -->
    <sect1 id="os-permisos">
      <title>¿Quién puede leer mis ficheros?</title>

      <para>
	Una cuestión previa: navegue por el árbol de ficheros y
	averigüe qué ficheros puede leer, a qué subdirectorios puede
	acceder. 
      </para>
      <para>
	¿Qué significan los datos de la <xref linkend="fig-permisos"/>?
      </para>
      <figure id="fig-permisos">
	<title>Permisos de un directorio</title>
	<screenshot>
	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="permisos_directorio.eps" format="EPS"
		scale="80"/>  
	    </imageobject>
	    <imageobject>
	      <imagedata fileref="permisos_directorio.png"
		format="PNG"/> 
	    </imageobject>
	    <textobject>
	      <phrase>Permisos de un directorio</phrase>
	    </textobject>
	    <caption><para></para>
	    </caption> 
	  </mediaobject> 
	</screenshot> 
      </figure>    
      <para>
	¿Quién es el dueño de este directorio? ¿a qué grupo pertenece?
	¿quiénes pueden visitarlo?
      </para>

      <note><title>Ejercicio</title>
	<para>
	  Váyase al directorio raíz e intente borrar el fichero
	  <filename>vmlinuz</filename> (sin miedo). ¿Por qué no puede?
	  Intente leer el contenido de 
	  <filename class="directory">/root</filename>. ¿Se puede? ¿Y
	  por qué los demás pueden leer los datos de su directorio?
	  Cámbielo para que sólo los pertenecientes a su grupo puedan
	  hacerlo.  
	</para>
      </note>
    </sect1>

    <!-- %%%%%%%% -->
    <sect1 id="os-diskette">
      <title>¿Cómo se utiliza un diskette?</title>

      <para>
	Depende del administrador del sistema que usted pueda montar o
	desmontar diskettes (no vamos a entrar aquí en cómo se
	configura esto). Vamos a suponer que se le permita montarlos
	(lo que conlleva problemas de seguridad graves) y
	que no se realice automáticamente.
      </para>
      <para>
	<emphasis>Montar</emphasis> se refiere a añadir los datos del
	nuevo disco al árbol de directorios del sistema operativo;
	desde el momento en que un diskette se monta sus datos pueden
	consultarse y/o modificarse por cualquiera con permiso para
	ello; además se guarda una imagen en
	<foreignphrase>cache</foreignphrase> para acelerar las
	lecturas y escrituras. Nunca debe sacarse un diskette sin
	haberlo desmontado previamente, porque es posible que los
	últimos datos
	todavía no se hayan escrito en el mismo.
      </para>
      <para>
	Supongamos que queremos utilizar un diskette formateado para
	Windows (existen lo que se llaman numerosos otros
	<emphasis>sistemas de ficheros</emphasis>). La orden es
	(existen formas más simples de hacerlo 
	pero dependen de que el administrador las haya preparado)
      </para>
	<screen>
	  <prompt>[Usuario@Máquina]$ </prompt><userinput>mount -t vfat /dev/fd0 /mnt/dosa</userinput>
	</screen>

      <para>
	La orden simplificada (tal como puede prepararla el
	administrador) es
      </para>
	<screen>
	  <prompt>[Usuario@Máquina]$ </prompt><userinput>mount /mnt/dosa</userinput>
	</screen>

      <para>
	El proceso inverso se conoce como <emphasis>desmontar el
	  diskette</emphasis>. Se hace así
      </para>
      <screen>
	<prompt>[Usuario@Máquina]$ </prompt><userinput>umount /mnt/dosa</userinput>
      </screen>

    </sect1>

    <!-- %%%%%%%% -->
    <sect1 id="os-cdrom">
      <title>¿Cómo se lee un cdrom?</title>

      <para>
	Supongamos un CD normal, de datos; no un (S)VCD ni DVD (tienen otros
	sistemas de ficheros) 
      </para>
      <screen>
	<prompt>[Usuario@Máquina]$ </prompt><userinput>mount -t iso9660 /dev/cdrom /cdrom</userinput>
      </screen>

      <para>o bien (simplificado)</para>
      <screen>
	<prompt>[Usuario@Máquina]$ </prompt><userinput>mount /cdrom</userinput>
      </screen>

      <para>
	Cuando acabe de usarlo, recuerde:
      </para>
      <screen>
	<prompt>[Usuario@Máquina]$ </prompt><userinput>umount /cdrom</userinput>
      </screen>

    </sect1>

    <!-- %%%%%%%% -->
    <sect1 id="os-samba">
      <title>Samba</title>

      <formalpara><title>¿Cuánto es demasiado?</title>
	<para>
	  La versión impartida del curso ha hecho un uso intensivo de
	  redes Windows y por tanto del cliente y servidor
	  <application>Samba</application>. Las circunstancias
	  <emphasis>ecológicas</emphasis> obligaban a ello: un servidor
	  GNU Linux, unas máquinas que arrancaban esporádicamente de CD,
	  en medio de una isla de ordenadores conviviendo en una red
	  Windows. Deberá considerarse este aspecto cuando se analice la
	  red en la que se vuelva a impartir este curso o uno que
	  utilice parte de este material. ¿llegará el día en que esta
	  sección pueda sustituirse por una sobre redes NFS o CODA?
	</para>
      </formalpara>

      <!-- %%%  -->
      <sect2 id="os-samba-a-pelo">
	<title>A pelo</title>

	<para>
	  Para entender las cosas lo mejor es ver como funcionan por
	  debajo. Vamos montar el ordenador de la sala de profesores
	  (supondremos que además no sabemos cómo se llama). Empezamos 
	  preguntando al que sabemos que está
	  disponible por las máquinas de la red
	</para>
	<screen>
	  <prompt>[Usuario@Máquina]$ </prompt><userinput>smbclient linux1</userinput>
	</screen>

	<para>
	  No devolverá entre otros datos el nombre de la máquina que
	  nos interesa. Ahora tenemos que ver qué recursos se han
	  exportado en <emphasis>PROFESORES1</emphasis>:
	</para>
	<screen>
	  <prompt>[Usuario@Máquina]$ </prompt><userinput>smbclient PROFESORES1</userinput>
	</screen>

	<para>
	  Vemos que está exportado el disco C bajo el nombre de "DISCO
	  C" (dése cuenta del espacio). ¿Cómo podemos montarlo? Pues
	  como siempre 
	</para>
	<screen>
	  <prompt>[Usuario@Máquina]$ </prompt><userinput>mount -t smbfs //PROFESORES1/DISCO\ C /mnt/profesores1</userinput>
	</screen>

	<para>
	  Ahora ya podemos utilizar el disco del ordenador de la sala
	  de profesores como si fuera un disco más de nuestro
	  ordenador: lo hemos incorporado a nuestro árbol de
	  directorios. 
	</para>
	<para>
	  Cuando hayamos acabado de trabajar, a desmontar el recurso:
	</para>
	<screen>
	  <prompt>[Usuario@Máquina]$ </prompt><userinput>umount /mnt/profesores1</userinput>
	</screen>


      </sect2>

      <!-- %%%  -->
      <sect2 id="os-samba-komba">
	<title>Con ayuda: komba</title>

	<para>
	  <application>komba</application> hace todo lo anterior de
	  forma automática y además permite a los usuarios normales
	  leer (no escribir) los recursos.
	</para>
	<para>
	  Komba llama a <application>konqueror</application>,  o sea
	  que ya sabemos cómo trabajar.
	</para>
      </sect2>
    </sect1>

  </appendix>


<!--  
Local variables: 
mode: xml 
encoding: iso8859-1 
sgml-parent-document: "curso-cep-arroyo.xml"
End: 
--> 
