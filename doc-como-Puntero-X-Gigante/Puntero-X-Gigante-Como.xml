<?xml version="1.0" encoding="iso-8859-1" ?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook V4.1.2//EN"
"http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd">

<article>

<articleinfo>

<title>Puntero X Gigante</title>

<author>
<firstname>J&ouml;rg Schneider, <ulink
url="mailto:joerg.schneider@ira.uka.de"
>joerg.schneider@ira.uka.de</ulink
>.
  Traducido por Iosu
Santurtún, <ulink
url="mailto:iosu@bigfoot.com"
>iosu@bigfoot.com</ulink
>.  </firstname>
</author>

<pubdate>v2, 11 de Agosto de 1997. Fecha de
la traducción 7 de Junio de 1998</pubdate>

<abstract>

<para>
Este documento describe cómo usar punteros agrandados con el sistema X
Window. 
</para>

</abstract>

</articleinfo>

<sect1>
<title>Introducción</title>

<para>
Hay numerosas razones por las que el puntero X normal es difícil de seguir
para algunas personas: 
</para>

<para>

<itemizedlist>
<listitem>

<para>
al usar un sistema X en una agenda con pantalla LCD de bajo
contraste.

</para>
</listitem>
<listitem>

<para>
al utilizar pantallas normales con alta resolución, p.e.
1600x1200.

</para>
</listitem>
<listitem>

<para>
al tratarse de impedidos visuales incluso utilizando un hardware
normal.
</para>
</listitem>

</itemizedlist>

</para>

<para>
En todos los casos ayudaría el uso de punteros de ratón agrandados.
Idealmente esta tarea la debería realizar u único programa X que
automáticamente agrandase todos los punteros del ratón. 
</para>

<para>
Por lo que yo sé, no hay una forma fácil de hacer ésto, ya que el
protocolo X no prevee examinar los punteros del ratón. Para más detalles,
véase la sección <xref linkend="dis-tec"/>
</para>

<para>
Si nos ponemos una meta menos general, sin embargo, se puede hacer algo:
</para>

<para>
Hay un conjunto de punteros estándar que se pueden encontrar en el tipo
<literal remap="tt">cursor</literal> (pruebe <literal remap="tt">xfd -fn cursor</literal> para verlos).  La mayoría de los
programas usan estos punteros y la idea clave es reemplazar estos punteros
con otros mayores. 
</para>

</sect1>

<sect1>
<title>Acerca de este documento</title>

<para>
La motivación de este mini-COMO fue un compañero de estudios con
discapacidad visual que me preguntó como agrandar el puntero de ratón bajo
un sistema X. Una vez que encontré cómo hacer aquello, escribí una versión
inicial de este documento. El conocimiento sobre el método aquí descrito
no parece ser muy general, así que decidí compartirlo y envié este
documento como un mini-COMO Linux, a pesar del hecho de que no es en
absoluto específico de Linux. Como el resto de mini-COMOs se puede
encontrar en el servidor del LDP (Linux Documentation Project)
<literal remap="tt"><ulink
url="http://sunsite.unc.edu/LDP/HOWTO/"
>http://unc.sunsite.edu/LDP/HOWTO/</ulink
></literal>.
</para>

<para>

<footnote>

<para>
N.del T. 
 Para encontrar las traducciones de los COMOs y los
mini-COMOs, se puede consultar el servidor de INSFLUG en <literal remap="tt"><ulink
url="http://www.insflug.org/"
>http://www.insflug.org</ulink
></literal>.
</para>

</footnote>
 
</para>

<para>
El original de este documento <literal remap="tt"><ulink
url="http://i11www.ira.uka.de/~schneid/X11-big-cursor/master/"
>http://i11www.ira.uka.de/&#732;schneid/X11-big-cursor/master/</ulink
></literal>
(N.del T. así como su traducción) se mantiene en formato SGML/linuxdoc. 
Esto hace posible proporcionar automáticamente versiones en los siguientes
formatos (que se pueden encontrar en el mismo lugar que el original): 
html, texto, LaTeX, DVI, PostScript, GNU info.
</para>

<para>
Shinobu Miyata <literal remap="tt"><ulink
url="mailto:shinobu@emichan.rim.or.jp"
>shinobu@emichan.rim.or.jp</ulink
></literal> ha traducido este mini-COMO al
japonés. Se puede encontrar en <literal remap="tt"><ulink
url="http://i11www.ira.uka.de/~schneid/jp/X11-big-cursor/"
>http://i11www.ira.uka.de/&#732;schneid/jp/X11-big-cursor/</ulink
></literal>
</para>

</sect1>

<sect1>
<title>Cómo se hace</title>

<para>
Siga los pasos indicados debajo. Si no quiere obtener y compilar el
paquete <literal remap="tt">bfdresize</literal>, puede saltarse los pasos 1 y 2 y descargar una
fuente aumentada en lugar de crearla. 
</para>

<para>

<orderedlist>
<listitem>

<para>
obtenga <literal remap="tt">cursor.bdf</literal>, la fuente del tipo <literal remap="tt">cursor</literal>, de alguna
distribución X, por ejemplo de <literal remap="tt"><ulink
url="ftp://ftp.x.org/pub/R6.3/xc/fonts/misc/cursor.bdf"
>ftp://ftp.x.org/pub/R6.3/xc/fonts/misc/cursor.bdf</ulink
></literal> (si no lo
encuentra allí pruebe una búsqueda <emphasis remap="it">archie</emphasis> o descárguelo de mi copia
en <literal remap="tt"><ulink
url="http://i11www.ira.uka.de/~schneid/X11-big-cursor/cursor.bdf"
>http://i11www.ira.uka.de/~schneid/X11-big-cursor/cursor.bdf</ulink
></literal>) 

</para>
</listitem>
<listitem>

<para>
obtenga, compile e instale el paquete <literal remap="tt">bdfresize</literal> de <literal remap="tt"><ulink
url="ftp://ftp.cs.titech.ac.jp/X11/contrib/Local/bdfresize-1.4.tar.Z"
>ftp://ftp.cs.titech.ac.jp/X11/contrib/Local/bdfresize-1.4.tar.Z</ulink
></literal>
(o de mi copia en <literal remap="tt"><ulink
url="http://i11www.ira.uka.de/~schneid/X11-big-cursor/bdfresize-1.4.tar.gz"
>http://i11www.ira.uka.de/~schneid/X11-big-cursor/bdfresize-1.4.tar.gz</ulink
></literal>): 


<screen>
	zcat bdfresize-1.4.tar.Z | tar xf -
	cd bdfresize-1.4
	xmkmf
	make
</screen>


En Linux probablemente tenga que usar:


<screen>
	make CCOPTIONS='-include /usr/include/bsd/bsd.h' clean all
</screen>


</para>
</listitem>
<listitem>

<para>
cree un directorio e instale el tipo agrandado <literal remap="tt">cursor</literal> en él
(factor de agrandado 2 en este ejemplo) 


<screen>
	mkdir $HOME/fonts
	bdfresize -f 2 cursor.bdf | bdftopcf &#62; $HOME/fonts/cursor2.pcf
	mkfontdir $HOME/fonts
</screen>


He preparado algunos tipos <literal remap="tt">cursor</literal> en <literal remap="tt"><ulink
url="http://i11www.ira.uka.de/~schneid/X11-big-cursor/fonts/"
>http://i11www.ira.uka.de/~schneid/X11-big-cursor/fonts/</ulink
></literal> con
los siguientes factores de aumento: 1.5, 2, 2.5, 3, 4, 5, 6, 7, 8 y 16.
Puede descargar uno de ellos y copiarlo a <literal remap="tt">$HOME/fonts</literal> si no
quiere usar bdfresize.  
</para>
</listitem>
<listitem>

<para>
modifique su <literal remap="tt">.xinitrc</literal> o <literal remap="tt">.xsession</literal>:
antes de arrancar ningún cliente (que use punteros) hay que ejecutar los
siguientes comandos:  


<screen>
	xset +fp $HOME/fonts
	xsetroot -cursor_name X_cursor
</screen>


</para>
</listitem>
<listitem>

<para>
abandone su sesión X y reinicie.
</para>
</listitem>

</orderedlist>

</para>

<para>
Eso es todo -- ahora todos los punteros del ratón deberían ser el doble de
grandes. 
</para>

</sect1>

<sect1>
<title>Notas y limitaciones</title>

<para>

<itemizedlist>
<listitem>

<para>
Los servidores X pueden tener un límite máximo en el tamaño del
puntero, sobre todo si usan una implementación hardware del puntero. Otros
no tienen tal limitación, p.e. XF86_S3 funciona incluso con un puntero de
512x512 (aunque bastante lentamente). 

</para>
</listitem>
<listitem>

<para>
El tipo agrandado <literal remap="tt">cursor</literal> debe tener el mismo nombre que el tipo
original; (el nombre de tipo debe ser cursor, el nombre del fichero no
importa) eso no es problema ya que <literal remap="tt">bdfresize</literal> no cambia el nombre del
tipo.

</para>
</listitem>
<listitem>

<para>
El directorio con el nuevo tipo <literal remap="tt">cursor</literal> debe colocarse antes que
el directorio con el tipo <literal remap="tt">cursor</literal> estándar en el <emphasis remap="it">path</emphasis> de los
tipos -- esto se lleva a cabo con <literal remap="tt">xset +fp</literal> (al contrario que con
<literal remap="tt">xset fp+</literal>). 

</para>
</listitem>
<listitem>

<para>
Los cambios en <literal remap="tt">$HOME/fonts</literal> solamente serán visibles después
después de los comandos: 


<screen>
	mkfontdir $HOME/fonts
	xset fp rehash
</screen>


y sólo en clientes X arrancados de nuevo (más exáctamente: para punteros
creados nuevamente). 

</para>
</listitem>
<listitem>

<para>
<literal remap="tt">xset +fp path</literal> puede que no funcione en un terminal X. En este
caso se puede usar un servidor de fuentes si es soportado por el terimnal
X (véase la sección <xref linkend="server"/>)  u otro método para instalar el tipo en el terminal X
(normalmente esto solo lo puede hacer el administrador del sistema). 

</para>
</listitem>
<listitem>

<para>
La misma idea se puede usar para los tipos <literal remap="tt">olcursor</literal> y
<literal remap="tt">decw$cursor</literal> y otros tipos de puntero que se puedan encontrar. 

</para>
</listitem>
<listitem>

<para>
Los tipos puntero generados por <literal remap="tt">bdfresize</literal> no son suaves,
especialmente con un factor de modificación grande. Sería agradable si
alguien pudiese crear una versión más bonita a mano, de los tamaños más
comunes. 

</para>
</listitem>

</itemizedlist>

</para>

</sect1>

<sect1 id="dis-tec">
<title>Discusión técnica</title>

<para>
Cómo escribir un programa que agrande los punteros en X automáticamente
</para>

<para>
<variablelist>

<varlistentry>
<term>solución 1</term>
<listitem>
<para>
Usar <literal remap="tt">XTestCompareCursor</literal> de la extensión <literal remap="tt">XTEST</literal>.
Para todas aquellas ventanas en las que entre el puntero del ratón,
comparar el puntero con un grupo de punteros 'conocidos' (p.e. con los del
tipo <literal remap="tt">cursor</literal>). Si se encuentra el puntero, sustituirlo con el puntero
agrandado, si no, dejarlo o sustituir un cursor estándar. Esto solo
funciona si la extensión <literal remap="tt">XTest</literal> está disponible.  
</para>
</listitem></varlistentry>
<varlistentry>
<term>solución 2</term>
<listitem>
<para>
Escribir un servidor X <emphasis remap="it">proxy</emphasis> que deje pasar las
peticiones de los clientes al servidor X real, y que intercepte todas las
peticiones correspondientes a las funciones de Xlib <literal remap="tt">XCreate*Cursor</literal>.
Las peticiones <literal remap="tt">XCreate*Cursor</literal> deberían ser modificadas para usar un
puntero mayor. 
</para>

<para>
Este servidor <emphasis remap="it">proxy</emphasis> simula una nueva pantalla, p.e. :1. Todos los
clientes que se conecten a esta pantalla (p.e <literal remap="tt">xterm -display :1</literal>) se
muestran en el servidor real (normalmente <literal remap="tt">:0</literal>) y sus punteros de ratón
son agrandados automáticamente. Los punteros de los clientes que se
conecten a <literal remap="tt">:0</literal> permanecerán sin cambios. 
</para>
</listitem></varlistentry>
</variablelist>
</para>

</sect1>

<sect1>
<title>Otras ideas para hacer el puntero del ratón más visible</title>

<para>
He aquí algunas ideas para programas sencillos que podrían hacer más fácil
el seguimiento del puntero del ratón.
</para>

<para>

<itemizedlist>
<listitem>

<para>
Cuando se pulse una determinada tecla (o combinación de teclas)
mostrar algo (un cursor grande, una ventana pequeña, una ventana con una
forma determinada) en la posición actual del puntero durante medio
segundo. 

</para>
</listitem>
<listitem>

<para>
Usar <literal remap="tt">XRecolorCursor</literal> para cambiar el color del puntero cada
décima de segundo. 

</para>
</listitem>

</itemizedlist>

</para>

<para>
Un proyecto más exigente sería la estela del ratón al estilo de windows,
por ejemplo, cuando se mueve el ratón y el puntero tiene que ser pintado
en una posición diferente, el antiguo no desaparece al momento, sino
después de un cierto retraso. Las estelas del ratón posiblemente fuera
mejor implementarlas en el propio servidor, pero también se podría hacerlo
como un cliente X, o mejor como un servidor <emphasis remap="it">proxy</emphasis> (Véase la sección
<xref linkend="dis-tec"/>).
</para>

</sect1>

<sect1>
<title>Información relacionada</title>

<sect2 id="server">
<title>Cómo usar un servidor de tipos
</title>

<para>
Un servidor de tipos es un servicio de red que proporciona un conjunto de
tipos X11 con un protocolo simple. Se le puede consultar qué tipos
proporciona y servirá el mapa de bits de un tipo determinado a petición.
</para>

<para>
Podría usarse el servidor de fuentes para proporcionar al servidor X el
tipo <literal remap="tt">cursor</literal> modificado, en lugar de decirle dónde encontrarlo en el
sistema de ficheros. 
</para>

<para>
Este sistema es especialmente apropiado si se utilizan varias máquinas que
no comparten u sistema de ficheros común o si se utilizan terminales X que
soporten el protocolo del servidor de tipos. 
</para>

<para>
Un programa de servidor de tipos y algunas herramientas asociadas viene
con la distribución <literal remap="tt">X11R5+</literal> (hasta donde yo sé). 
</para>

</sect2>

<sect2>
<title>Instalar un servidor de tipos</title>

<para>
Lea las páginas del manual <literal remap="tt">fs(1)</literal>, <literal remap="tt">fslsfonts(1)</literal> (o <literal remap="tt">xfs(1)</literal>,
<literal remap="tt">xfslsfonts(1)</literal> bajo <literal remap="tt">X11R6</literal>) e inténtelo, no es difícil. Digamos
que el servidor está funcionando en <literal remap="tt">un.ordenador.edu</literal> en el puerto
<literal remap="tt">7100</literal>. Se puede probar la instalación haciendo
</para>

<para>

<screen>
	fslsfonts -server un.ordenador.edu:7100
</screen>

</para>

<para>
Para utilizar realmente el servidor lance el comando
</para>

<para>

<screen>
	xset +fp tcp/un.ordenador.edu:7100
</screen>

</para>

<para>
que debería devolver un mensaje de error.
</para>

</sect2>

</sect1>

<sect1>
<title>Cómo conseguir la fuente bdf para algún tipo</title>

<para>
Si ha instalado un servidor de tipos, simplemente use <literal remap="tt">fstobdf</literal>, que
viene con el servidor de tipos.  Como alternativa, puede probar con
<literal remap="tt">getbdf</literal> que puede volcar cualquier tipo X11 instalado a un fichero.
</para>

</sect1>

<sect1 id="Insflug">
<title>Anexo: El INSFLUG </title>

<para>
El <emphasis remap="it">INSFLUG</emphasis> forma parte del grupo internacional <emphasis remap="it">Linux Documentation
Project</emphasis>, encargándose de las traducciones al castellano de los Howtos,
así como de la producción de documentos originales en aquellos casos en los
que no existe análogo en inglés, centrándose, preferentemente, en documentos
breves, como los <emphasis>COMOs</emphasis> y <emphasis>PUFs</emphasis> (<emphasis remap="bf">P</emphasis>reguntas de <emphasis remap="bf">U</emphasis>so
<emphasis remap="bf">F</emphasis>recuente, las <emphasis remap="it">FAQs</emphasis>. <literal remap="tt">:)</literal> ), etc.
</para>

<para>
Diríjase a la sede del Insflug para más información al respecto.
</para>

<para>
En élla encontrará siempre las <emphasis remap="bf">últimas</emphasis> versiones de las traducciones
«oficiales»:  <literal remap="tt"><ulink
url="http://www.insflug.org"
>www.insflug.org</ulink
></literal>. Asegúrese de comprobar cuál es la última
versión disponible en el Insflug antes de bajar un documento de un
servidor réplica. 
</para>

<para>
Además, cuenta con un sistema interactivo de gestión de fe de erratas y
sugerencias en línea, motor de búsqueda específico, y más servicios en los
que estamos trabajando incesantemente.
</para>

<para>
Se proporciona también una lista de los servidores réplica (<emphasis remap="it">mirror</emphasis>)
del Insflug más cercanos a Vd., e información relativa a otros recursos en
castellano.
</para>

<para>
En <literal remap="tt"><ulink
url="http://www.insflug.org/insflug/creditos.php3"
>http://www.insflug.org/insflug/creditos.php3</ulink
></literal> cuenta con una
detallada relación de las personas que hacen posible tanto esto como las
traducciones.
</para>

<para>
¡Diríjase a <literal remap="tt"><ulink
url="http://www.insflug.org/colaboracion/index.php3"
>http://www.insflug.org/colaboracion/index.php3</ulink
></literal> si desea
unirse a nosotros!.
</para>

<para>
«Cartel» Insflug, <literal remap="tt"><ulink
url="mailto:cartel@insflug.org"
>cartel@insflug.org</ulink
></literal>. 
</para>

</sect1>

</article>
