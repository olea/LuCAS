'\" t
.\" Copyright (c) 1993 Michael Haardt (michael@cantor.informatik.rwth-aachen.de)
.\" and 1994,1995 Alain Knaff (Alain.Knaff@imag.fr)
.\"
.\" This is free documentation; you can redistribute it and/or
.\" modify it under the terms of the GNU General Public License as
.\" published by the Free Software Foundation; either version 2 of
.\" the License, or (at your option) any later version.
.\"
.\" The GNU General Public License's references to "object code"
.\" and "executables" are to be interpreted as the output of any
.\" document formatting or typesetting system, including
.\" intermediate and printed output.
.\"
.\" This manual is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public
.\" License along with this manual; if not, write to the Free
.\" Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111,
.\" USA.
.\"
.\" Modified, Sun Feb 26 15:00:02 1995, faith@cs.unc.edu
.\"
.TH FD 4 "29 Enero 1995" "Linux" "Fichero especiales"
.SH NOMBRE
fd \- dispositivo de disco flexible (disquetera)
.SH CONFIGURACIÓN
Las unidades de disco flexible son dispositivos hardware cuyo número mayor es
2. Tipicalmente, pertenecen a root.floppy (es decir, usuario root,
grupo floppy) y tienen o bien el modo 0660 (la comprobación de acceso se
realiza a través de la pertenencia al grupo) o bien el
modo 0666 (cualquiera tiene acceso). Los números menorer codifican el tipo de
dispositivo, 
número de dispositivo, número de controlador. Para cada tipo de dispositivo 
(es decir, combinación de densidad y número de pistas)
hay un numero base menor.  A este número base, suma el número de dispositivo
en su controladora y 128 si el dispositivo está en el controlador secundario.
En las siguientes tablas de dispositivos, \fIn\fP representan el número de 
dispositivo.
.PP
\fBCuidado: Si usas formatos con más pistas
que las soportadas por tu dispositivo, puedes causarle daños mecánicos.\fP
Probar una vez si se soportan más pistas de las usuales 40/80 no debería
dañarlo, pero no se da ninguna garantía por ello.  No crees entradas
de dispositivos para esos formatos para prevenir su uso si no estas seguro.
.PP
Ficheros independientes del dispositivo que detectan automáticamente 
el formato y la capacidad del medio:
.PP

.TS
l l.
Nombre	Nº base menor
_
\fBfd\fP\fIn\fP 0
.TE
.PP
Ficheros de dispositivos de doble densidad y 5.25":
.PP

.TS
lw(1i) l l l l l.
Nombre	Capac.	Cil.	Sect.	Cabez.	N\º base menor
_
\fBfd\fP\fIn\fP\fBd360\fP	360K	40	9	2	4
.TE

.PP
Ficheros de dispositivos de alta densidad y 5.25":
.PP

.TS
lw(1i) l l l l l.
Nombre	Capac.	Cil.	Sect.	Cabez.	Nº base menor
_
\fBfd\fP\fIn\fP\fBh360\fP	360K	40	9	2	20
\fBfd\fP\fIn\fP\fBh410\fP	410K	41	10	2	48
\fBfd\fP\fIn\fP\fBh420\fP	420K	42	10	2	64
\fBfd\fP\fIn\fP\fBh720\fP	720K	80	9	2	24
\fBfd\fP\fIn\fP\fBh880\fP	880K	80	11	2	80
\fBfd\fP\fIn\fP\fBh1200\fP	1200K	80	15	2	8
\fBfd\fP\fIn\fP\fBh1440\fP	1440K	80	18	2	40
\fBfd\fP\fIn\fP\fBh1476\fP	1476K	82	18	2	56
\fBfd\fP\fIn\fP\fBh1494\fP	1494K	83	18	2	72
\fBfd\fP\fIn\fP\fBh1600\fP	1600K	80	20	2	92
.TE
.PP
Ficheros de dispositivos de doble densidad y 3.5":
.PP
.TS
lw(1i) l l l l l.
Nombre	Capac.	Cil.	Sect.	Cabez.	Nº base menor
_
\fBfd\fP\fIn\fP\fBD360\fP	360K	80	9	1	12
\fBfd\fP\fIn\fP\fBD720\fP	720K	80	9	2	16
\fBfd\fP\fIn\fP\fBD800\fP	800K	80	10	2	120
\fBfd\fP\fIn\fP\fBD1040\fP	1040K	80	13	2	84
\fBfd\fP\fIn\fP\fBD1120\fP	1120K	80	14	2	88

.TE
.PP
Ficheros de de dispositivos de alta densidad y 3.5":
.PP
.TS
lw(1i) l l l l l.
Nombre	Capac.	Cil.	Sect.	Cabez.	Nº base menor
_
\fBfd\fP\fIn\fP\fBH360\fP	360K	40	9	2	12
\fBfd\fP\fIn\fP\fBH720\fP	720K	80	9	2	16
\fBfd\fP\fIn\fP\fBH820\fP	820K	82	10	2	52
\fBfd\fP\fIn\fP\fBH830\fP	830K	83	10	2	68
\fBfd\fP\fIn\fP\fBH1440\fP	1440K	80	18	2	28
\fBfd\fP\fIn\fP\fBH1600\fP	1600K	80	20	2	124
\fBfd\fP\fIn\fP\fBH1680\fP	1680K	80	21	2	44
\fBfd\fP\fIn\fP\fBH1722\fP	1722K	82	21	2	60
\fBfd\fP\fIn\fP\fBH1743\fP	1743K	83	21	2	76
\fBfd\fP\fIn\fP\fBH1760\fP	1760K	80	22	2	96
\fBfd\fP\fIn\fP\fBH1840\fP	1840K	80	23	2	116
\fBfd\fP\fIn\fP\fBH1920\fP	1920K	80	24	2	100
.TE
.PP
Ficheros de dispositivos de densidad extra y 3.5":
.PP
.TS
lw(1i) l l l l l.
Nombre	Capac.	Cil.	Sect.	Cabez.	Nº base menor
_
\fBfd\fP\fIn\fP\fBE2880\fP	2880K	80	36	2	32
\fBfd\fP\fIn\fP\fBCompaQ\fP	2880K	80	36	2	36
\fBfd\fP\fIn\fP\fBE3200\fP	3200K	80	40	2	104
\fBfd\fP\fIn\fP\fBE3520\fP	3520K	80	44	2	108
\fBfd\fP\fIn\fP\fBE3840\fP	3840K	80	48	2	112
.TE
.SH DESCRIPCIÓN
Los ficheros especiales \fBfd\fP acceden a las unidades de disquete en modo
crudo.
Las siguientes llamadas 
.BR ioctl (2)
están soportadas por dispositivos \fBfd\fP:
.IP \fBFDCLRPRM\fP
borra la información del medio de una unidad (geometría del disco en la unidad).
.IP \fBFDSETPRM\fP
Establece la información del medio de una unidad. La información del medio
se perderá cuando se cambie de medio.
.IP \fBFDDEFPRM\fP
Establece la información del medio de una unidad (geometría del disco en la
unidad). La información del medio no se perderá cuando se cambie de medio.
Esto desactivará la autodetección. En orden a reactivar la autodetección,
tienes que emitir un \fBFDCLRPRM\fP .
.IP \fBFDGETDRVTYP\fP
devuelve el tipo de una unidad (parametro nombre).  Para formatos que
funcionan en varios tipos de unidad, \fBFDGETDRVTYP\fP devuelve un nombre
el cuál es apropiado para el tipo de unidad más antiguo que soporta este
formato.
.IP \fBFDFLUSH\fP
invalida el cache de buffer para la unidad dada.
.IP \fBFDSETMAXERRS\fP
ajusta el umbral de error para informar de errores, abortar la operación,
recalibrar, reinicar la unidad y leer sector a sector.
.IP \fBFDSETMAXERRS\fP
obtiene el umbral actual de error.
.IP \fBFDGETDRVTYP\fP
obtiene el nombre interno de la unidad.
.IP \fBFDWERRORCLR\fP
borra la estadística de errores de escritura.
.IP \fBFDWERRORGET\fP
lee la estadística de errores de escritura. Esto incluye el número total de
errores de escritura, la posición y disco del primer error de escritura, y la
posición y disco del último error de escritura. Los discos se identifican
mediante un número de generación el cuál se incrementa (al menos) en cada
cambio de disco.
.IP \fBFDTWADDLE\fP
Apaga el motor de la unidad por unos pocos microsegundos. Esto podría ser 
necesario para acceder a un disco cuyos sectores están muy juntos.
.IP \fBFDSETDRVPRM\fP
ajusta varios parametros de unidad.
.IP \fBFDGETDRVPRM\fP
devuelve los parámetros anteriores.
.IP \fBFDGETDRVSTAT\fP
obtiene el estado de la cache de la unidad (cambios de disco, protección de escritura)
.IP \fBFDPOLLDRVSTAT\fP
consulta a la unidad y devuelve su estado.
.IP \fBFDGETFDCSTAT\fP
obtiene el estado del controlador de la disquetera.
.IP \fBFDRESET\fP
reinicia el controlador de la disquetera bajo ciertas condiciones.
.IP \fBFDRAWCMD\fP
envía una orden directa al controlador de la disquetera.
.PP
Para una información más precisa, consultar también los ficheros de cabecera
<linux/fd.h> y <linux/fdreg.h>, así como la página de manual para
floppycontrol.
.SH OBSERVACIONES
Los diversos formatos permiten leer y escribir muchos tipos de discos.
No obstante, si un disquete está formateado con un espacio entre sectores
demasiado pequeño, el rendimiento puede caer, hasta el punto de necesitar
unos pocos segundos para acceder a una pista entera. Para prevenir esto, usar
formatos con entrelazado. No es posible leer discos que han sido formateados
usando GCR(group code recording), la cuál se usa
en computadores Apple II y Macintosh (discos de 800K). No está soportada la
lectura de disquetes con los sectores marcados físicamente, mediante un agujero
por sector. 
Esto solía ser común en los viejos disquetes de 8 pulgadas.
.SH FICHEROS
/dev/fd*
.SH AUTORES
Alain Knaff (Alain.Knaff@imag.fr), David Niemi
(niemidc@clark.net), Bill Broadhurst (bbroad@netcom.com).
.SH "VÉASE TAMBIÉN"
.BR floppycontrol (1),
.BR mknod (1),
.BR chown (1),
.BR getfdprm (1),
.BR superformat (1),
.BR mount (8),
.BR setfdprm (8)


