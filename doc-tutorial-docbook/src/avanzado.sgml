<!-- -*- sgml -*- -->

 <chapter id="avanzado">
  <title>Usando opciones más avanzadas</title>

  <para>Continuaremos haciendo cambios a nuestro documento con el
   fin de ir introduciendo características más avanzadas. El
   resultado de las mejoras que hagamos en este capítulo está en la <xref
   linkend="herramientas2"></para>

  <sect1 id="encabezado">
   <title>Sobre la <wordasword>metainformación</wordasword></title>
   <para>Además de la información propiamente dicha que brinda un
    documento, existen características importantes de éste, como lo son
    el título, los autores, la licencia de publicación o la versión,
    que reciben el nombre de
    <wordasword>metainformación</wordasword>.</para>

   <para>A continuación incluiremos tal tipo de datos para nuestro
    en nuestro ejemplo.</para>

   <indexterm>
    <primary>encabezado</primary>
   </indexterm>
   <indexterm>
    <primary>marquilla</primary>
    <secondary><sgmltag>bookinfo</sgmltag></secondary>
   </indexterm>
   <indexterm>
    <primary>marquilla</primary>
    <secondary><sgmltag>title</sgmltag></secondary>
   </indexterm>
   <indexterm>
    <primary>marquilla</primary>
    <secondary><sgmltag>subtitle</sgmltag></secondary>
   </indexterm>
   <indexterm>
    <primary>marquilla</primary>
   <secondary><sgmltag>author</sgmltag></secondary>
   </indexterm>

   <informalexample>
<programlisting><![CDATA[
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook V4.1//EN">
<book lang="es">
  <bookinfo>
    <date>17 de Junio de 2001</date>
    <title><acronym>DocBook</acronym> y
    <application>emacs</application></title>
    <subtitle>Una guía básica</subtitle>
    <releaseinfo>Documentación en progreso</releaseinfo>
    <authorgroup>
      <author>
	<firstname>Jaime Irving</firstname>
	<surname>Dávila</surname>
      </author>
    </authorgroup>
    <address>jadavila@uniandes.edu.co</address>
    <legalnotice>
      <para>Este documento se cede al dominio público.</para>
    </legalnotice>
    <revhistory>
      <revision>
	<revnumber>1.0</revnumber>
	<date>16-06-2001</date>
	<authorinitials>jid</authorinitials>
	<revremark>Documento inicial</revremark>
      </revision>
      <revision>
	<revnumber>1.1</revnumber>
	<date>17-06-2001</date>
	<authorinitials>jid</authorinitials>
	<revremark>Inclusión encabezado</revremark>
      </revision>
      <revision>
	<revnumber>1.2</revnumber>
	<date>23-09-2001</date>
	<authorinitials>jid</authorinitials>
	<revremark>Corrección de legalnotice y jpg's</revremark>
      </revision>
      <revision>
	<revnumber>1.3</revnumber>
	<date>14-04-2002</date>
	<revremark>Inclusión de listados de programas, faq y
	marquillas de importancia</revremark>
      </revision>
  </bookinfo>]]>
</programlisting>
   </informalexample>

   <para>Todo documento que se encuentre en la red debe informar quien
    ejerce sus derechos de reproducción;<footnote> <para>Esto se hace
    en caso de que se desee ejercer tal tipo de derechos. Si no se
    desea ejercer esta clase de derechos, se dice que tal obra
    pertenece al dominio público y se deberá dar información explícita
    de esto, usando la marquilla
    <sgmltag>legalnotice</sgmltag>.</para></footnote> para informar el
    titular del derecho de reproducción de una obra se utiliza la
    marquilla <sgmltag>holder</sgmltag> dentro de la marquilla
    <sgmltag>copyright</sgmltag>, de igual forma el año (o años) de su
    publicación se informa a través de la marquilla
    <sgmltag>year</sgmltag>. Adicionalmente se deben incluir las
    condiciones bajo las cuáles dicho documento se puede copiar,
    modificar y redistribuir (usando la marquilla
    <sgmltag>legalnotice</sgmltag>), en este caso dicho ejemplo se
    cede al dominio público, esto significa que usted puede modificar
    o hacer con dicho documento lo que usted quiera. Hay razones
    importantes para ceder las obras al dominio público como son
    expuestas en este escrito de <ulink
    url="http://www.tamarapatino.com/vladimir/dominio_publico.shtml"
    >Vladimir Támara</ulink>.</para>

   <indexterm>
    <primary>dominio público</primary>
   </indexterm>
   <indexterm>
    <primary>derechos de reproducción</primary>
   </indexterm>
   <indexterm>
    <primary>marquilla</primary>
    <secondary><sgmltag>copyright</sgmltag></secondary>
   </indexterm>
   <indexterm>
    <primary>marquilla</primary>
    <secondary><sgmltag>holder</sgmltag></secondary>
   </indexterm>
   <indexterm>
    <primary>marquilla</primary>
    <secondary><sgmltag>year</sgmltag></secondary>
   </indexterm>
   <indexterm>
    <primary>marquilla</primary>
    <secondary><sgmltag>legalnotice</sgmltag></secondary>
   </indexterm>

   <para>Otra marquilla importante es el historial de revisiones
    (<sgmltag>revhistory</sgmltag>) en el cual a través de las
    marquillas de <sgmltag>revision</sgmltag> se hace explícito
    quien ha hecho modificaciones
    (<sgmltag>authorinitials</sgmltag>), en que fecha se han hecho
    (<sgmltag>date)</sgmltag>, la versión de la revisión
    (<sgmltag>revnumber</sgmltag>) y una pequeña descripción de tal
    revisión (<sgmltag>revremark</sgmltag>).</para>
   
   <indexterm>
    <primary>revisiones, historial</primary>
   </indexterm>
   <indexterm>
    <primary>marquilla</primary>
    <secondary><sgmltag>revhistory</sgmltag></secondary>
   </indexterm>
   <indexterm>
    <primary>marquilla</primary>
    <secondary><sgmltag>authorinitials</sgmltag></secondary>
   </indexterm>
   <indexterm>
    <primary>marquilla</primary>
    <secondary><sgmltag>date</sgmltag></secondary>
   </indexterm>
   <indexterm>
    <primary>marquilla</primary>
    <secondary><sgmltag>revnumber</sgmltag></secondary>
   </indexterm>
   <indexterm>
    <primary>marquilla</primary>
    <secondary><sgmltag>revremark</sgmltag></secondary>
   </indexterm>

  </sect1>
  <sect1 id="referencias">
   <title>Mostrando relaciones</title> 
   
   <para>Es usual que sea necesario mostrar las relaciones existentes
    entre las diversas partes de un documento y fuentes externas como
    <acronym>Internet</acronym> a través del uso de referencias. En
    esta sección mostraremos como se resuelve dicho problema usando
    <acronym>DocBook</acronym></para>
   
   <sect2 id="referencias-doc">
    <title>Referencias dentro del mismo documento</title> 

    <para>Todas las marquillas de <acronym>DocBook</acronym> tienen el
    atributo <parameter>id</parameter>, el cual permite asignarles como
    identificador una cadena determinada. Suele ser una buena idea
    asignarles identificadores a los elementos como
    <sgmltag>book</sgmltag>, <sgmltag>chapter</sgmltag>,
    <sgmltag>sect1</sgmltag> y <sgmltag>sect2</sgmltag> con el
    objetivo de hacer referencias a dichas divisiones del documento
    posteriormente. A continuación daremos identificadores a tales
    partes de nuestro ejemplo.</para>

    <important>
     <para>El texto del identificador debe ir entre comillas y no
      puede contener caracteres propios del castellano como ñ o
      vocales con tilde</para>
    </important>

    <tip>
     <para>Para facilidad de navegación entre marquillas de
      <acronym>DocBook</acronym> es útil usa
      <menuchoice>
       <shortcut>
	<keycombo action="seq">
	 <keysym>M-C-a</keysym>
	</keycombo>
       </shortcut>
       <guimenu>Move</guimenu>
       <guimenuitem>Beginning of Element</guimenuitem>
      </menuchoice>y 
      <menuchoice><shortcut>
	<keycombo action="seq"> 
	 <keysym>M-C-e</keysym>
	</keycombo>
       </shortcut>
       <guimenu>Move</guimenu>
       <guimenuitem>End of Element</guimenuitem></menuchoice></para>
    </tip>

    <indexterm>
     <primary>navegación entre marquillas</primary>
    </indexterm>
    <indexterm>
     <primary>identificadores de marquillas</primary>
    </indexterm>

	<informalexample>
<programlisting><![CDATA[
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook V4.1//EN">
<book lang="es" id="herramientas">
  <chapter id="DocBook">
    <title><acronym>DocBook</acronym></title>
    <para></para>
    <sect1 id="historia">
      <title>Historia</title>
      <para></para>
    </sect1>
    <sect1 id="marquillas">
      <title>Marquillas</title>
      <para></para>
    </sect1>
  </chapter>
  <chapter id="emacs">
    <title><application>emacs</application></title>
    <para></para>
    <sect1 id="invocacion">
      <title>Invocación</title>
      <para></para>
    </sect1>
    <sect1 id="persistencia">
      <title>Escribiendo y guardando un archivo</title>
    </sect1>
  </chapter>
</book>
]]>
</programlisting>
    </informalexample>
    
    <para>La marquilla útil para hacer referencias es
     <sgmltag>xref</sgmltag>, simplemente en su atributo
     <parameter>linkend</parameter> se coloca el identificador del
     sitio a donde se hizo la referencia. A continuación
     presentamos un ejemplo de este tipo de situación.</para> 
    
    <indexterm>
     <primary>referencias</primary>
    </indexterm>
    <indexterm>
     <primary>marquilla</primary>
     <secondary><sgmltag>xref</sgmltag></secondary>
    </indexterm>
    
    <informalexample>
<programlisting><![CDATA[
<sect1 id="persistencia">
   <title>Escribiendo y guardando un archivo</title>

    <para>Aunque de escasa utilidad en este ámbito, pero con fines
    educativos podemos recordar <xref linkend="marquillas"/>.
    </para>
]]>
</programlisting>
    </informalexample>

    <para>Esto produciría un resultado similar al siguiente</para>
    <informalexample>
     <para>Aunque de escasa utilidad en este ámbito, pero con
      fines educativos podemos recordar la sección de nombre
      Marquillas en Capítulo 1.</para>
    </informalexample>

    <para>En un hoja <acronym>HTML</acronym> dicha referencia
     serían adicionalmente un enlace a la sección
     correspondiente.</para>
   </sect2>
   
   <sect2 id="vinculos-internet">
    <title>Vínculos con <acronym>internet</acronym></title>
    
    <para>Es usual tener que hacer vínculos con recursos que se
     encuentran en <acronym>internet</acronym> o que son archivos de
     un sitio local. En estos casos la marquilla adecuada es
     <sgmltag>ulink</sgmltag>. En caso de querer incluir una
     dirección de correo electrónico, se utiliza la
     marquilla <sgmltag>email</sgmltag>. A continuación mostramos un
     ejemplo que ilustra dicho tipo de situaciones.</para>

    <indexterm>
     <primary>enlaces a <acronym>internet</acronym></primary>
    </indexterm>
    <indexterm>
     <primary>marquilla</primary>
     <secondary><sgmltag>ulink</sgmltag></secondary>
    </indexterm>
    <indexterm>
     <primary>marquilla</primary>
     <secondary><sgmltag>email</sgmltag></secondary>
    </indexterm>

    <informalexample>
<programlisting><![CDATA[
<para>Puede conseguir información adicional de
<application>emacs</application> en este <ulink
 url="http://www.emacs.org">enlace</ulink>, o una copia del archivo
<ulink url="hola.txt">hola.txt</ulink>. En caso de dudas o
 comentarios puede enviar un <foreignphrase>email</foreignphrase> a
 <email>jadavila@uniandes.edu.co</email>.</para>]]>
</programlisting>
    </informalexample>
    
    <para>Y se ve de la siguiente forma:</para>

    <informalexample>
     <para>Puede conseguir información adicional de
      <application>emacs</application> en este <ulink
       url="http://www.emacs.org">enlace</ulink>, o una copia del
      archivo <ulink url="hola.txt">hola.txt</ulink>. En caso de
      dudas o comentarios puede enviar un
      <foreignphrase>email</foreignphrase> a
      <email>jadavila@uniandes.edu.co</email>.</para>
    </informalexample>
   </sect2>
  </sect1>
  <sect1 id="atencion-lector">
   <title>Capturando la atención del lector</title>
   <para>Existe en ciertas ocasiones la necesidad de llamar la
    atención del lector sobre cierto tipo de información que no
    corresponde al <wordasword>flujo</wordasword> de la narración que
    se sigue en un documento. La forma más común de hacer esto es a
    través de notas a pié de página, sin embargo existen otras formas
   de hacerlo que presentaremos a lo largo de esta sección. </para>
   <sect2 id="importancia">
    <title>Marquillas de importancia</title>

    <para>Dichas marquillas son usadas con el fin de resaltar o
     señalar cierto tipo de información que se encuentra en el
     documento. A continuación mostramos un ejemplo de dicha situación
     usando la marquilla <sgmltag>caution</sgmltag></para>

    <indexterm>
     <primary>importancia</primary>
    </indexterm>
    <indexterm>
     <primary>marquilla</primary>
     <secondary><sgmltag>important</sgmltag></secondary>
    </indexterm>
    <indexterm>
     <primary>marquilla</primary>
     <secondary><sgmltag>caution</sgmltag></secondary>
    </indexterm>
    <indexterm>
     <primary>marquilla</primary>
     <secondary><sgmltag>tip</sgmltag></secondary>
    </indexterm>

    <informalexample>
<programlisting><![CDATA[
<caution>
  <para>En <application>emacs</application> <keysym>C-x</keysym>
    significa que presione al mismo tiempo
    <keycap>Control</keycap> y <keycap>X</keycap></para>
</caution>
]]>
</programlisting>
    </informalexample>

    <caution>
     <para>En <application>emacs</application> <keysym>C-x</keysym>
      significa que presione al mismo tiempo
      <keycap>Control</keycap> y <keycap>X</keycap></para>
    </caution>

    <tip><para>Si usted desea colocar un determinado texto dentro de
      unas marquillas determinadas (como en el caso anterior) puede
      hacerlo marcando un bloque (para hacer esto último desde
      teclado, basta presionar <keysym>C-SPC</keysym> para marcar el
      inicio de la palabra y luego moverse al final de
      <sgmltag>para</sgmltag> usando <keysym>M-C-e</keysym>) y
      luego presionar <keycombo action="seq">
      <keysym>C-c</keysym><keysym>C-r</keysym>
      </keycombo>. Posteriormente puede seleccionar que marquilla
      desea utilizar.</para></tip>

    <para>Cabe anotar que además de <sgmltag>caution</sgmltag> existen
     marquillas como <sgmltag>tip</sgmltag> y
     <sgmltag>important</sgmltag>, a continuación presentamos un
     ejemplo de su codificación y de como lucen en la presentación
     final</para>


    <informalexample>
<programlisting><![CDATA[
<para>Esto es simplemente un párrafo</para>
<important>
  <para>Esto es algo importante</para>
</important>
<tip>
   <para>Esto es un tip</para>
</tip>]]>
</programlisting>

    </informalexample>

<para>Esto es simplemente un párrafo</para>
<important>
  <para>Esto es algo importante</para>
</important>
<tip>
   <para>Esto es un tip</para>
</tip>
   </sect2>
  
   <sect2 id="notas-pie">
    <title>Notas a pie de página</title>
    <para>Para incluir éstas basta usar
     <sgmltag>footnote</sgmltag>, como lo muestra el siguiente
     ejemplo</para>
    <indexterm>
     <primary>notas a pie de página</primary>
    </indexterm>
    <indexterm>
     <primary>marquilla</primary>
     <secondary><sgmltag>footnote</sgmltag></secondary>
    </indexterm>
    <informalexample>
<programlisting><![CDATA[
<para><firstterm linkend="doc"><acronym>DocBook</acronym></firstterm>
  es un lenguaje de marcado, que permite escribir documentación
  técnica, nacido en 1991.
  <footnote>
    <para>En caso de querer mayor información sobre la historia,
    de <acronym>DocBook</acronym> consultar 
   <ulink url="http://www.xml.com/lpt/a/1999/10/docbook/docbook-making.html"></ulink></para>
  </footnote></para>]]>
</programlisting>
    </informalexample>
    <para>que luce de la siguiente forma</para>
    <informalexample>
     <para><acronym>DocBook</acronym> es un lenguaje de marcado, que
      permite escribir documentación técnica, nacido en 1991.
      <footnote>
       <para>En caso de querer mayor información sobre la historia,
	de <acronym>DocBook</acronym> consultar 
	<ulink url="http://www.xml.com/lpt/a/1999/10/docbook/docbook-making.html"></ulink></para>
      </footnote></para>
    </informalexample>
   </sect2>
  </sect1>
  <sect1 id="glosarios-indices">
   <title>Facilitando la búsquedas al usuario</title>
   <para>Una vez un documento adquiere un cierto tamaño, es útil
   dotarlo de estructuras que permitan a los usuarios consultar
   información sobre un tema específico o consultar la definición de
   una palabra que se utiliza constantemente. En esta sección
   trataremos el tema de la creación de índices y glosarios, que son
   justo la solución a dicho problema </para>
   <sect2>
    <title>Glosarios</title>
    <para>Un glosario es una parte del documento en la cuál se dá la
     definición de algunos de los conceptos usados en él. Usualmente
     los glosarios se ubican al final del documento, por ello la
     marquilla <sgmltag>glossary</sgmltag> va usualmente después del
     último capítulo. A continuación presentamos un ejemplo de un
     glosario.</para>
   
    <indexterm>
     <primary>glosarios</primary>
    </indexterm>
    <indexterm>
     <primary>marquilla</primary>
     <secondary><sgmltag>glossary</sgmltag></secondary>
    </indexterm>
    <informalexample>
    <programlisting><![CDATA[
<glossary>
<glossentry id="doc">
<glossterm><acronym>DocBook</acronym></glossterm>
<glossdef>
<para>Lenguaje de marcado definido en
<acronym>SGML</acronym>que permite escribir documentación
técnica</para>
/glossdef>
/glossentry>
<glossentry id="em">
<glossterm>emacs</glossterm>
<glossdef>
<para>Editor de amplio uso en <acronym>unix</acronym>. Su
nombre proviene de Editor MACroS (Macros de Edición). </para>
</glossdef>
</glossentry>
</glossary>]]>
     </programlisting>
    </informalexample>
    
    <para>Aquí básicamente declaramos declaramos un glosario usando
     la marquilla <sgmltag>glossary</sgmltag> y cada una de las entradas
     de dicho glosario se declara usando
     <sgmltag>glossentry</sgmltag>. Tales entradas consisten en esencia
     de un término (<sgmltag>glossterm</sgmltag>) y una definición
     (<sgmltag>glossdef</sgmltag>). Notemos que cada una de las entradas
     de este ejemplo tienen un identificador, esto es útil en caso de
     que uno quiera remitir al glosario para la definición de algún
     término.</para>
   
    <indexterm>
     <primary>marquilla</primary>
     <secondary><sgmltag>glossentry</sgmltag></secondary>
    </indexterm>
    <indexterm>
     <primary>marquilla</primary>
     <secondary><sgmltag>glossterm</sgmltag></secondary>
    </indexterm>
    <indexterm>
     <primary>marquilla</primary>
     <secondary><sgmltag>glossdef</sgmltag></secondary>
    </indexterm>
      
    <para>Es usual denotar cuando una palabra está en un glosario o
     cuando es la primera ocurrencia de un término en una obra, para
     ello son útiles las marquillas <sgmltag>firstterm</sgmltag> y
     <sgmltag>glossterm</sgmltag> respectivamente. Dichas marquillas
     pueden contener o no un enlace a su respectiva definición,
     utilizándose para ello el atributo
     <parameter>linkend</parameter>. En este caso dicho atributo se
     hace igual al identificador correspondiente a la definición del
     término en el glosario. A continuación presentamos dos ejemplos
     de dicha situación, el primero con enlace y el segundo sin
     él.</para>
    
    <indexterm>
     <primary>marquilla</primary>
     <secondary><sgmltag>glossterm</sgmltag></secondary>
    </indexterm>
    <indexterm>
     <primary>marquilla</primary>
     <secondary><sgmltag>firstterm</sgmltag></secondary>
    </indexterm>
    <informalexample>
<programlisting><![CDATA[
<para><firstterm linkend="doc"><acronym>DocBook</acronym></firstterm>
 es un lenguaje de marcado, que permite escribir documentación
 técnica, nacido en 1991.</para>]]>
</programlisting>
      </informalexample>
   
    <informalexample>
     <programlisting><![CDATA[
<para>Para invocar a <glossterm><acronym>emacs</acronym></glossterm>,
  basta hacer lo siguiente desde una línea de comandos</para>]]>
     </programlisting>
    </informalexample>
   </sect2>
   <sect2>
    <title>Definiendo las palabras claves de un índice</title>
    <para>Un índice contiene un conjunto de referencias a las
     ocurrencias de palabras claves dentro de un documento, por ende
     el paso básico en la creación de un índice corresponde en
     señalar los sitios donde se encuentran dichas palabras a través
     de la marquilla <sgmltag>indexterm</sgmltag>, como lo muestra el
     siguiente ejemplo</para>
   
    <indexterm>
     <primary>Índice</primary>
     <secondary>palabras claves de </secondary>
    </indexterm>
    <indexterm>
     <primary>marquilla</primary>
     <secondary><sgmltag>indexterm</sgmltag></secondary>
    </indexterm>
    
    <informalexample>
<programlisting><![CDATA[
<para>A continuación mostramos una tabla con algunas de las
   marquillas más usadas.</para>
<indexterm>
   <primary>marquillas</primary>
</indexterm>]]>
</programlisting>
    </informalexample>
   
    <indexterm>
     <primary>marquilla</primary>
     <secondary><sgmltag>primary</sgmltag></secondary>
    </indexterm>
    <indexterm>
     <primary>marquilla</primary>
    <secondary><sgmltag>secondary</sgmltag></secondary>
    </indexterm>
    
   <para>Es de notar el uso de <sgmltag>primary</sgmltag> que indica
     que la primer palabra clave del índice es en este caso
     <constant>marquillas</constant>. Uno puede usar
     <sgmltag>secondary</sgmltag> en caso de querer refinar mejor la
     clasificación del índice como a continuación</para>
    <informalexample>
<programlisting><![CDATA[
...
</table>
<indexterm>
  <primary>marquilla</primary>
  <secondary>book</secondary>
</indexterm>
<indexterm>
   <primary>marquilla</primary>
   <secondary>chapter</secondary>
</indexterm>]]>
</programlisting>
   </informalexample>
     
    <tip>
     <para>Para generar una entrada de índice a partir de una palabra,
      se puede usar usar <keycombo action="seq">
       <keysym>C-c</keysym><keycap>x</keycap> </keycombo> mientras se
      selecciona una palabra (para hacer esto último desde teclado,
      basta presionar <keysym>C-SPC</keysym> y luego
      <keysym>M-C-e</keysym> para ir al final de la marquilla)</para>
    </tip>
   </sect2>
   <sect2 id="genindice">
    <title>Generando índices</title>
    <para>La generación de dichos índices se describe con detalles en
     la página <ulink
     url="http://docbook.sourceforge.net/projects/dsssl/doc/collateindex.html">Automatic
      Indexing with the DocBook DSSSL Stylesheets</ulink>. A
     continuación presentamos los pasos descritos en ella
    </para>
    
    <procedure id="collateindex">
     <indexterm>
     <primary>Índice</primary>
      <secondary>generación de</secondary>
     </indexterm>

     <step>
      <indexterm>
       <primary>collateindex.pl</primary>
      </indexterm>
      
      <highlights>
       <para>Asegúrese de tener a
	<filename>collateindex.pl</filename></para>
      </highlights>
      <para>Es necesario que verifique que tenga dicho archivo dentro
       de la ruta de su sistema, para ello digite lo siguiente desde la
       interfaz de comandos: </para>
<screen>
<prompt>[jdavila@abadon herramientas]$ </prompt><userinput>perl -S collateindex.pl </userinput>
</screen>

      <para>Si obtiene una descripción de la sintaxis de
       <filename>collateindex.pl</filename> podrá proseguir, en caso
       contrario es necesario colocar dicho archivo dentro de la ruta
       (en este caso haremos un enlace simbólico a <filename
       class="directory">/usr/local/bin</filename>). Para ello después
       de registrarse como superusuario (usando el comando
       <command>su</command> desde la interfaz de comandos) es
       necesario realizar los siguientes pasos</para>

<screen>
<prompt>[root@abadon herramientas]$ </prompt><userinput>cd /usr/share/sgml/docbook/dsssl/nwalsh-modular/bin</userinput>
<prompt>[root@abadon bin]$ </prompt><userinput>chmod +x collateindex.pl</userinput>
<prompt>[root@abadon bin]$ </prompt><userinput>ln -s collateindex.pl /usr/local/bin/collateindex.pl</userinput>
<prompt>[root@abadon bin]$ </prompt><userinput>exit</userinput>
<prompt>[jdavila@abadon herramientas]$ </prompt>
</screen>

      <important>
       <para>En mi caso las hojas de estilo <acronym>DSSSL</acronym>
	están ubicadas en <filename
	 class="directory">/usr/share/sgml/docbook/dsssl/nwalsh-modular/</filename>,
	sin embargo dependiendo de su distribución pueden estar en otro
	lugar. Averigue en que sitio se encuentran en su distribución
	usando un comando como <userinput>find / -name docbook.dsl </userinput>
       </para>
      </important>
    </step>
     
     <step>
      <highlights>
       <para>Cree una referencia hacia el índice</para>
      </highlights>
      <indexterm>
       <primary>Índice</primary>
       <secondary>inclusión en archivo principal</secondary>
      </indexterm>
      
      <para>Dentro del documento original es necesario que cree una
       entidad que haga referencia al archivo de índice que se va a
       generar. Para ello es necesario que modifique su documento que
       lucía de la siguiente forma </para>
<programlisting><![CDATA[
<!DOCTYPE Book PUBLIC "-//OASIS//DTD DocBook V4.1//EN">
<book lang="es">
<!-- Aquí viene el contenido del documento -->
...
<!-- Aquí termina el contenido del documento -->
<book>]]>
</programlisting>

      <para>por algo de la siguiente forma</para>
      
<programlisting><![CDATA[
<!DOCTYPE Book PUBLIC "-//OASIS//DTD DocBook V4.1//EN"[
<!ENTITITY genindex.sgml SYSTEM "genindex.sgml">]>
<book lang="es">
<!-- Aquí viene el contenido del documento -->
...
<!-- Aquí termina el contenido del documento -->
&genindex.sgml
<book>]]>
</programlisting>
     </step>
     <step>
      <highlights>
       <para>Cree un índice vacío</para>
      </highlights>
      <indexterm>
       <primary>Índice</primary>
       <secondary>Creación de uno vacío</secondary>
      </indexterm>
      <para>Es necesario que cree un archivo
       <filename>genindex.sgml</filename> vacío mediante el siguiente
       comando</para>
<screen>
<prompt>[jdavila@abadon herramientas]$ </prompt><userinput>perl -S collateindex.pl -N -o genindex.sgml</userinput>
</screen>
    </step>

     <step>
      <indexterm>
       <primary>Índice</primary>
       <secondary>generación de <filename>HTML.index</filename></secondary>
      </indexterm>
      <highlights>
       <para>Genere un archivo <filename>HTML.index</filename></para>
      </highlights>
      <para>El archivo <filename>HTML.index</filename> contiene
       información útil para la generación de índices, esto se puede
       hacer a través del siguiente comado</para>

<screen>
<prompt>[jdavila@abadon herramientas]$ </prompt><userinput>openjade -t sgml -d <replaceable>/usr/share/sgml/docbook/dsssl/nwalsh-modular/html/docbook.dsl</replaceable> -V html-index <replaceable>herramientas.sgml</replaceable></userinput>
</screen>
     </step>

     <step>
      <indexterm>
       <primary>ÍNdice</primary>
       <secondary>generación a partir de <filename>HTML.index</filename></secondary>
      </indexterm>
      <highlights>
       <para>Genere el archivo
	<filename>genindex.sgml</filename></para>
      </highlights>
      <para>Para generar el archivo de índice basta usar un comando
       como el siguiente</para>
<screen><prompt>[jdavila@abadon herramientas]$ </prompt><userinput>perl -S collateindex.pl -o genindex.sgml HTML.index</userinput></screen>
     </step>

     <step>
      <highlights>
       <para>Genere la salida deseada</para>
      </highlights>
      <para>Ahora puede generar la salida deseada (por ejemplo
       <acronym>HTML</acronym> o <acronym>ps</acronym>) cómo es
       descrito en la <xref linkend="gen-doc"></para>
     </step>
    </procedure>
   </sect2>
  </sect1>
  <sect1 id="interes">
   <title>Dando información adicional</title>
   
   <para>Una vez escrito un documento, es útil incluirle anexos en los
    cuales se profundiza algunos de los temas tratados en la
    estructura principal. A continuación presentamos dos anexos que
    serán parte de nuestro pequeño documento.</para>
   <sect2 id="programas">
    <title>Incluyendo listados de programas</title>
    <indexterm>
     <primary>programas</primary>
     <secondary>listado de</secondary>
    </indexterm>
    <para>En nuestro pequeño documento vamos a incluir un apéndice con
     un listado del archivo <filename>hola.txt</filename>, para ello
     basta que usemos las marquillas
     <sgmltag>programlisting</sgmltag>. Es usual además que dichas
     listados vayan incluidas dentro de ejemplos, para lo cuál es útil
     usar la marquilla <sgmltag>example</sgmltag> o
     <sgmltag>informalexample</sgmltag>. A continuación presentamos un
     ejemplo usado en este documento y como es mostrado.</para>

    <indexterm>
     <primary>marquilla</primary>
     <secondary><sgmltag>informalexample</sgmltag></secondary>
    </indexterm>
    <indexterm>
     <primary>marquilla</primary>
     <secondary><sgmltag>appendix</sgmltag></secondary>
    </indexterm>
    <indexterm>
     <primary>marquilla</primary>
     <secondary><sgmltag>example</sgmltag></secondary>
    </indexterm>
    <indexterm>
     <primary>marquilla</primary>
     <secondary><sgmltag>programlisting</sgmltag></secondary>
    </indexterm>

    <informalexample>
<programlisting><![CDATA[
<appendix id="archivo-hola">
  <title>El archivo <filename>hola.txt</filename></title>
  <para>Por motivos de referencia incluímos el contenido del
  archivo <filename>hola.txt</filename></para>

  <informalexample>
<programlisting>
Hola Mundo
</programlisting>
  </informalexample>
</appendix>
]]>
</programlisting>
    </informalexample>

    <informalexample>
<programlisting>
Hola Mundo
</programlisting>
    </informalexample>

    <caution>
     <para>Note que la marquilla <sgmltag>programlisting</sgmltag>
      está justificada a la izquierda, es necesario hacer esto pues los
      espacios dentro de <sgmltag>programlisting</sgmltag> son
      significativos. </para>
    </caution>

    <para>En caso de querer incluir un listado que incluya caracteres
     como &lt; o &amp;, el contenido dentro de
     <sgmltag>programlisting</sgmltag> se incluye dentro de
     <acronym>CDATA</acronym>, como se muestra a continuación </para>
    <indexterm>
     <primary>programas</primary>
     <secondary>listado textual de</secondary>
    </indexterm>

    <informalexample>
<programlisting>
   &lt;informalexample>
&lt;programlisting&lt;![CDATA[
Hola &lt;emphasis>Mundo&lt;/emphasis>
]]&gt;
&lt;/programlisting>
   &lt;/informalexample>     
</programlisting>
    </informalexample>

    <informalexample>
<programlisting><![CDATA[
Hola <emphasis>Mundo</emphasis>
]]></programlisting>
    </informalexample>

   </sect2>

   <sect2>
    <title>Preguntas Frecuentes</title>

    <indexterm>
     <primary>FAQ</primary>
    </indexterm>
    <indexterm>
     <primary>Preguntas Frecuentes</primary>
    </indexterm>

    <para>La sección de preguntas frecuentes o <acronym>faq</acronym>
     (<foreignphrase>Frequently Asked Questions</foreignphrase>) es
     quizás una de las más populares y leídas dentro de un documento
     técnico. A continuación presentamos un ejemplo de esto, como un
     apéndice de <filename>herramientas.sgml</filename> </para>

    <indexterm>
     <primary>marquilla</primary>
     <secondary><sgmltag>qandset</sgmltag></secondary>
    </indexterm>
    <indexterm>
     <primary>marquilla</primary>
     <secondary><sgmltag>qandaentry</sgmltag></secondary>
    </indexterm>
    <indexterm>
     <primary>marquilla</primary>
     <secondary><sgmltag>question</sgmltag></secondary>
    </indexterm>
    <indexterm>
     <primary>marquilla</primary>
     <secondary><sgmltag>answer</sgmltag></secondary>
    </indexterm>

    <informalexample>
<programlisting><![CDATA[
<appendix id="faq">
  <title>Preguntas Frecuentes</title>
  <qandaset defaultlabel="number">
    <qandaentry>
      <question>
        <para>¿Qué es <acronym>DocBook</acronym>?</para>
      </question>
      <answer>
        <para>Es un lenguaje de marcado útil para escribir
         documentación técnica.</para>
      </answer>
    </qandaentry>
  </qandaset>
</appendix>
]]>
</programlisting>
    </informalexample>

    <qandaset defaultlabel="number">
     <qandaentry>
      <question>
       <para>¿Qué es <acronym>DocBook</acronym>?</para>
      </question>
       <answer>
       <para>Es un lenguaje de marcado útil para escribir
	documentación técnica.</para>
	</answer>
     </qandaentry>
    </qandaset>
    <tip>
     <para>En caso de querer cambiar la numeración de las preguntas
       frecuentes, se utiliza el atributo <systemitem
       role="attrib">defaultlabel</systemitem>. Las posibles opciones
      para dicho atributo son <systemitem
       role="value">number</systemitem>, <systemitem
       role="value">qanda</systemitem> y <systemitem
       role="value">none</systemitem>.</para>
    </tip>

   </sect2>
  </sect1>
  <sect1 id="herramientas2">
   <title>Segundo listado de
   <filename>herramientas.sgml</filename></title>
   <programlisting>&herramientas2.sgml;</programlisting>
  </sect1>
 </chapter>
<!-- Local Variables: -->
<!-- sgml-parent-document: "dbktut.sgml" -->
<!-- End: -->