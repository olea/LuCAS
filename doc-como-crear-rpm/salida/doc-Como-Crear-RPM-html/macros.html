<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Capítulo 5. Macros del Sistema</title><link rel="stylesheet" href="docus.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.65.1"><meta name="keywords" content="RPM, FEDORA, GARSAN, COMO, CREAR"><link rel="home" href="index.html" title="Cómo Crear RPMs"><link rel="up" href="index.html" title="Cómo Crear RPMs"><link rel="previous" href="compilar.html" title="Capítulo 4. Compilación"><link rel="next" href="ejemplos-specs.html" title="Capítulo 6. Ejemplos de .spec de aplicaciones."></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Capítulo 5. Macros del Sistema</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="compilar.html"><img src="./stylesheet-images/prev.png" alt="Anterior"></a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ejemplos-specs.html"><img src="./stylesheet-images/next.png" alt="Siguiente"></a></td></tr></table><hr></div><div class="chapter" lang="es"><div class="titlepage"><div><div><h2 class="title"><a name="macros"></a>Capítulo 5. Macros del Sistema</h2></div></div><div></div></div><p>Los macros son muy útiles al momento de hacer un paquete RPM ya que
    nos ahorran trabajo.</p><p>Por ejemplo, si tenemos que escribir el nombre de la aplicación varias
    veces podemos usar el macro name:</p><pre class="screen"><b class="userinput"><tt>
%{name}
    </tt></b></pre><p>O podemos definir nuestros macros con variables que se usan varias
    veces en nuestro .spec; esto de hace en el principio de nuestro .spec</p><pre class="screen"><b class="userinput"><tt>
%define _kde_applnk     /usr/share/applnk

Name    :   amsn
Version :   0_90
Release :   1.garsan
Group   :   Internet
Summary :   Clon de Messenger
Source	:   %{name}-%{version}.tar.gz
URL: http://amsn.sf.net
Copyright : GPL
BuildRoot:  %{_tmppath}/%{name}-root
BuildRequires: tcl-devel imlib-devel tk-devel
Requires: tcl tk imlib
    </tt></b></pre><p>Con las primeras lineas que tienen "%define" estamos indicando que macro
    definimos, por ejemplo estamos especificando que "_kde_applnk" corresponde a
    "/usr/share/applnk" y lo usamos como "%{_kde_applnk}"</p><pre class="screen"><b class="userinput"><tt>
mkdir -p $RPM_BUILD_ROOT%{_kde_applnk}
    </tt></b></pre><p>Algunas macros mas usadas en el empaquetado de RPMs son las
    siguientes:</p><p>Macros para directorios del sistema</p><pre class="screen"><b class="userinput"><tt>
	MACRO		DIRECTORIO
--------------------------------------------------
	%{_sysconfdir}	/etc/
	%{_bindir}	/usr/bin/
	%{_libdir}	/usr/lib/
	%{_datadir}	/usr/share/
	%{_mandir}	/usr/share/man/
	%{_includedir}	/usr/include/
	%{_infodir}	/usr/share/info/
	%{_localstatedir}	/var/
	%{_libexecdir}	/usr/lib/exec/
	%{_prefix}	/usr/
	%{_sbindir}	/usr/sbin/
    </tt></b></pre><p>Macros para comandos del sistema</p><pre class="screen"><b class="userinput"><tt>
	MACRO		COMANDO
--------------------------------------------------
	%{__cat}	/bin/cat
	%{__perl}	/usr/bin/perl
	%{__rm}		/bin/rm
	%{__make}	/usr/bin/make
	%{__install}	/usr/bin/install
	%{__mkdir}	/bin/mkdir
	%{__mv}		/bin/mv
	%{__cp}		/bin/cp
	%configure	./configure
	%makeinstall	make install
    </tt></b></pre></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="compilar.html"><img src="./stylesheet-images/prev.png" alt="Anterior"></a> </td><td width="20%" align="center"><a accesskey="u" href="index.html"><img src="./stylesheet-images/up.png" alt="Subir"></a></td><td width="40%" align="right"> <a accesskey="n" href="ejemplos-specs.html"><img src="./stylesheet-images/next.png" alt="Siguiente"></a></td></tr><tr><td width="40%" align="left" valign="top">Capítulo 4. Compilación </td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="./stylesheet-images/home.png" alt="Inicio"></a></td><td width="40%" align="right" valign="top"> Capítulo 6. Ejemplos de .spec de aplicaciones.</td></tr></table></div></body></html>
