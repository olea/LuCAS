<html><head><title>Instalar pcl-cvs</title><link rel=next href="Usar-pcl-cvs.html">
<link rel=up href="pcl-cvs----Una-interfaz-de-Emacs-para-CVS.html">
</head>
<body>
<p>
Node:<a name="Instalar-pcl-cvs.html">Instalar pcl-cvs</a>,
Next:<a rel=next href="Usar-pcl-cvs.html">Usar pcl-cvs</a>,
Up:<a rel=up href="pcl-cvs----Una-interfaz-de-Emacs-para-CVS.html">pcl-cvs -- Una interfaz de Emacs para CVS</a>
<hr><br>

<h3>Instalar pcl-cvs</h3>

<p>Si no está acostumbrado a trastear con la instalación de Emacs ni con
asuntos relacionados con el mantenimiento de sitios el proceso de
instalación de pcl-cvs puede parecerle un tanto intimidatorio.  Quizá
le ayude algo de información acerca de cómo funciona Emacs.

<p>La mayoría de las prestaciones de alto nivel de Emacs están escritas en
un lenguaje llamado "Emacs Lisp" (Emacs en sí es esencialmente un
intérprete de este lenguaje).  La gente añade nuevas funcionalidades a
Emacs distribuyendo archivos de código en Emacs Lisp. <code>pcl-cvs</code>
está escrito en este lenguaje y depende de una librería de útiles
funciones Emacs Lisp genéricas que se conoce como <dfn>Elib</dfn> (también
escrita en parte por Per Cederqvist, pero distribuida de manera
independiente a pcl-cvs).

<p>Elib no se incluye en la distribución estándar de Emacs (al menos no en
la del Emacs de la FSF; desconozco si ocurre lo mismo con XEmacs), por
lo que tendrá que descargarla e instalarla usted mismo antes de que
pueda utilizar pcl-cvs.  Puede hacerse con ella en
<a href="ftp://ftp.lysator.liu.se/pub/emacs/elib-1.0.tar.gz">ftp://ftp.lysator.liu.se/pub/emacs/elib-1.0.tar.gz</a>.  Las
instrucciones de instalación se encuentran en el mismo paquete.

<p>Una vez se ha instalado Elib ya estamos listos para compilar e instalar
pcl-cvs.  Estas instrucciones son aplicables tanto a la versión 1.05
como a la serie 2.x (aunque debería comprobar los archivos NEWS e
INSTALL de las distribuciones más recientes para ver qué ha cambiado).

<p>Pare empezar desempaquete pcl-cvs (yo estoy usando la versión 1.05 pero
podría tratarse perfectamente de la 2.9.6)

<pre>floss$ zcat pcl-cvs-1.05.tar.gz | tar xvf -
pcl-cvs-1.05/
pcl-cvs-1.05/README
pcl-cvs-1.05/NEWS
pcl-cvs-1.05/INSTALL
pcl-cvs-1.05/ChangeLog
pcl-cvs-1.05/pcl-cvs.el
pcl-cvs-1.05/pcl-cvs.texinfo
pcl-cvs-1.05/compile-all.el
pcl-cvs-1.05/pcl-cvs-lucid.el
pcl-cvs-1.05/pcl-cvs-startup.el
pcl-cvs-1.05/pcl-cvs.info
pcl-cvs-1.05/Makefile
pcl-cvs-1.05/texinfo.tex
</pre>

<p>y sitúese en el nivel más alto del directorio que contiene las fuentes:

<pre>floss$ cd pcl-cvs-1.05/
</pre>

<p>Aquí se le proporciona un Makefile.  De acuerdo con las instrucciones
del archivo INSTALL tiene que editar unas cuantas rutas en la parte
superior del Makefile y ejecutar luego:

<pre>floss$ make install
</pre>

<p>Si eso funciona, fantástico.  No obstante, esto a veces puede resultar en
un error (aunque el propio código de pcl-cvs es muy portable los
procedimientos para su instalación a veces no lo son tanto).  De
encontrarse con un error haga esto:

<pre>floss$ make clean
floss$ make
</pre>

<p>Si todo va bien estas órdenes llevan a cabo una parte significativa de
la instalación compilando a "byte-code" todos los archivos Emacs
Lisp. (Al compilar a "byte-code" convierte un archivo de código Emacs
Lisp perfectamente legible, un archivo .el, en una representación más
compacta y eficiente, un archivo .elc.  Emacs puede cargar y ejecutar
los archivos .elc con un mejor rendimiento que los archivos .el).

<p>Continuaré como si la compilación a "byte-code" se hubiese llevado a
cabo con éxito.  Si no ha sido así no se preocupe: los archivos .elc son
un lujo, no una necesidad.  Mejoran ligeramente el rendimiento pero
puede correr pcl-cvs directamente desde los archivos .el sin problemas.

<p>Si el "make install" falló el siguiente paso es colocar el Emacs Lisp
(.el o .elc) en un directorio donde Emacs pueda cargarlo
automáticamente.  Emacs tiene un directorio designado en el sistema para
el Lisp instalado localmente.  Para encontrar ese directorio (habrá un
archivo llamado <code>default.el</code> en él) mire en los siguientes lugares
por este orden:

<ol type=1 start=1>
</p><li>/usr/share/emacs/site-lisp/
<li>/usr/local/share/emacs/site-lisp/
<li>/usr/lib/emacs/site-lisp/
<li>/usr/local/lib/emacs/site-lisp/
</ol>

<p>En cuanto haya encontrado su directorio site-lisp copie todos los
archivos Lips en él (puede necesitar ser root para hacer esto):

<pre>floss# cp -f *.el *.elc /usr/share/emacs/site-lisp/
</pre>

<p>El último paso es comunicarle a Emacs los puntos de entrada a pcl-cvs
(siendo el principal la función cvs-update) para que sea capaz de cargar
el código de pcl-cvs bajo demanda.  Como Emacs siempre lee el archivo
default.el cuando arranca ahí es donde necesitará listar los puntos de
entrada a pcl-cvs.

<p>Por suerte pcl-cvs ya viene con el contenido necesario para default.el. 
Simplemente coloque el contenido de pcl-cvs-startup.el en default.el (o
quizá en su .emacs si sólo lo instala para usted) y reinicie Emacs.

<p>Quizá quiera copiar también los archivos .info a su árbol info y añadir
pcl-cvs al índice de contenidos del archivo dir.

</body></html>

