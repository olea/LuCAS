<html><head><title>admin</title><link rel=next href="annotate.html">
<link rel=previous href="add.html">
<link rel=up href="Ordenes-y-Opciones.html">
</head>
<body>
<p>
Node:<a name="admin.html">admin</a>,
Next:<a rel=next href="annotate.html">annotate</a>,
Previous:<a rel=previous href="add.html">add</a>,
Up:<a rel=up href="Ordenes-y-Opciones.html">Ordenes y Opciones</a>
<hr><br>

<h3>admin</h3>

<p>Synopsis:&nbsp;admin&nbsp;[OPCIONES]&nbsp;[FICHEROS]

<ul>
<li>Nombres alternativos - adm, rcs
<li>Requiere - Copia de trabajo, repositorio
<li>Cambios - Repositorio
</ul>

<p>Este mandato es una interfaz a las distintas tareas de administración
- especialmente, tareas aplicables a ficheros RCS individuales en
el repositorio, como cambiar la clave de sustitución o cambiar
un mensaje de registro después de que haya sido entregado.

<p>Aunque admin se comporta recursivamente, si no hay ficheros dados como
argumentos, normalmente usted querrá nombrarlos explícitamente. 
Es muy raro que un mandato admin suelto tenga sentido cuando se aplica
a todos los ficheros en un proyecto, o incluso un directorio. De este
modo, cuando las siguientes explicaciones se refieran al "fichero",
quere decir el fichero o (raramente) los ficheros pasados como
argumentos al mandato admin.

<p>Si hay un grupo de sistema llamado <code>cvsadmin</code> en la máquina del
repositorio, sólo los miembros de este grupo pueden ejecutar admin
(con la excepción de la orden <code>cvs&nbsp;admin&nbsp;-k</code>, que siempre
se permite). Así, usted puede impedir admin para todos los usuarios
configurando el grupo para no tener usuarios.

<p>Opciones:

<ul>

<li>-AFICHERO_VIEJO - (En desuso) Adjunta la lista de accesos RCS del
FICHERO_VIEJO  a la lista de accesos del fichero que es el argumento
de admin. CVS no tiene en cuenta las listas de acceso RCS, así
que esta opción es inútil.

<li>-a USUARIO1 [,USUARIO2...] - (En desuso) Adjunta los usuarios en la
lista separada por comas a la lista de acceso del fichero. Como -A,
esta opción es inútil en CVS.

<li>-bREV - Especifica la revisión de la rama por omisión del fichero
(usualmente el tronco) a REV. No necesita normalmente esta opción,
pero podría usarla para volver a una versión de un vendedor
si está usando ramas de vendedores. No debe haber espacio entre
la opción -b y su argumento.

<li>-cPREFIJO_DE_COMENTARIO - (En desuso) Especifica la cabecera de comentario
del fichero a PREFIJO_DE_COMENTARIO. El encabezamiento del comentario no se
usa por CVS ni incluso por recientes versiones de RCS; así, esta
opción es inútil y se incluye sólo por compatibilidad
retrospectiva.

<li>-eUSUARIO1[,USUARIO2...] - (En desuso) Quita los nombres de usuario que
aparecen en la lista separada por comas de la lista de acceso del fichero
RCS. Como -a y -A, esta opción es ya inútil en CVS.

<li>-i o -I - Estas dos han caído tan en desuso que ni siquiera voy
a contarle qué hacían. (Ver el manual Cederqvist si siente
curiosidad).

<li>-kMODO - Especifica la clave de sustitución por omisión del fichero a
MODO. Esta opción se comporta como la opción -k para añadir, sólo
le proporciona una manera de cambiar el modo de un fichero después de
que haya sido añadido. (Ver la sección <a href="Claves-de-Sustitucion--Claves-RCS-.html">Claves de Sustitucion (Claves RCS)</a> más adelante en el capítulo para ver modos válidos). 
No debe haber espacio entre -k y su argumento.

<li>-L - Configura el candado a <code>strict</code>. (Ver -l abajo.)

<li>-l[REV] - Cierra la revisión del fichero a REV. Si REV es omitido,
cierra la última revisión en la rama por omisión (usualmente el
tronco). Si REV es una rama, cierra la última revisión de la rama.

<p>La intención de esta opción es proporcionarle un modo de hacer
<dfn>obtenciones reservadas</dfn>, donde sólo un usuario a la vez puede
estar editando un fichero. No estoy seguro de lo útil que es esto
realmente, pero si quiere probarlo, debe probablemente hacerlo en
conjunción con el script <code>rcslock.pl</code> en el directorio de la
distribución <code>contrib/</code>. Ver comentarios en este fichero para
obtener más información. Entre otras cosas, estos comentarios indican
que el bloqueo debe ser configurado a <code>strict</code>. (Ver -L.) No
hay espacio entre -l y su argumento.

</p><li>-mREV:MENSAJE - Cambia el registro de mensajes para la revisión REV
a MENSAJE. Muy útil - junto con -k, esta es probablemente la opción
de administración más usada. No hay espacio entre la opción y los
argumentos o alrededor de las comas entre dos argumentos. De hecho,
MENSAJE puede contener espacios dentro (en tal caso, recuerde rodearlo
por comillas para que el shell sepa que todo ello es una sola cosa).

<li>-NNOMBRE[:[REV]] - Igual que -n, excepto que fuerza el remplazo de cualquier
asignamiento existente del nombre simbólico NOMBRE, en vez de salir
con un error.

<li>-nNOMBRE[:[REV]] - Éste es un interfaz genérico a asignar, renombrar y
borrar etiquetas. No hay razón, que yo sepa, de preferirlo al
mandato tag y las variadas opciones disponibles ahí (-d, -r,
-b, -f, y esas). Recomiendo usar, en cambio, el mandato tag. El NOMBRE y
la REVisión opcional pueden ser combinadas de las siguientes formas:

<ul>

<li>Si sólo se da el argumento NOMBRE, el nombre simbólico (etiqueta)
llamado NOMBRE se borra.

<li>Si NOMBRE: se da pero no REV, NOMBRE se asigna a la última revisión
en la rama por omisión (usualmente el tronco).

<li>Si NOMBRE:REV se da, el NOMBRE se asigna a esa revisión. REV puede
ser un nombre simbólico en sí mismo, en este caso se
traduce a un número de revisión primero (puede ser un número
de rama).

<li>Si REV es un número de rama y le sigue un punto (<code>.</code>), NOMBRE
se adjunta a la revisión más alta de esa rama. Si REV es simplemente
$, NOMBRE se adjunta a los números de revisión encontrados en las
cadenas de claves en los ficheros de trabajo.

<p>En todos los casos donde NOMBRE se asigna, CVS sale con un error si
había una etiqueta llamada NOMBRE en el fichero (pero vea -N). No
hay espacios entre -n y sus argumentos.

</ul>

</p><li>-oRANGO - Borra las revisiones especificadas por RANGO (también
conocido como "anticuar", de ahí la -o). El rango puede ser
especificado de uno de las siguientes modos:

<ul>
<li>REV1::REV2 - Colapsa todas las revisiones intermedias entre REV1 y
REV2, de modo que el historial de revisiones vaya directamente de
REV1 a REV2. Después de esto, cualquier revisión entre las dos
ya no existirá, y habrá un salto discontinuo en la secuencia de
números de revisiones.

<li>::REV - Colapsa todas las revisiones entre el principio de la
rama de REVisión (que puede ser el principio del tronco) y la
REVisión, no inclusive, por supuesto. REV es la primera revisión
de esta línea.

<li>REV:: - Colapsa todas las revisiones entre REV y el final de su
rama (que puede ser el tronco). REV es entonces la última revisión
de esta línea.

<li>REV - Borra la revisión REV (-o1.8 sería equivalente a
-o1.7::1.9).

<li>REV1:REV2 - Borra las revisiones de REV1 a REV2, incluídas. 
Deben estar en la misma rama. Después de esto, no puede recuperar
REV1, REV2, o cualquier otra de las revisiones entre ellas.

<li>:REV - Borra las revisiones entre el comienzo de la rama (o tronco)
a REV, incluída. (Ver el aviso precedente.)

<p>Note que las revisiones que se borran pueden tener ramas o bloqueos. 
Si cualquiera de las revisiones tiene nombres simbólicos adjuntos,
deberá borrarlos primero con tag -d o admin -n. (De hecho, ahora mismo
CVS sólo protege contra el borrado de revisiones con nombres
simbólicos si está usando una de las sintaxis ::, pero las
sintaxis con coma tal vez cambien pronto a este comportamiento también).

<p>En vez de usar esta opción para deshacer una entrega mala, puede
entregar una nueva revisión de deshaga el cambio erróneo. No hay
espacios entre -o y sus argumentos.

</ul>

</p><li>-q - Dice a CVS que se ejecute silenciosamente - no se imprimen
mensajes de diagnóstico (simplemente como la opción global -q).

<li>-sESTADO[:REV] - Configura el atributo de estado de la revisión
REV a ESTADO. Si REV se omite, la última revisión en la rama
por omisión (usualmente el tronco) se usa. Si REV es una etiqueta
de rama o número, se usa la última revisión de esta rama.

<p>Cualquier cadena de letras o números es aceptable para ESTADO;
unos estados comúnmente usados son Exp para Experimental, Stab para
Estable y Rel para Lanzamiento. (De hecho, CVS ajusta el estado a Exp
cuando un fichero se crea). 
Note que CVS usa el estado "dead" para sus propios propósitos, así
que no lo especifique.

<p>Los estados se muestran en la salida de registro de CVS y en las
claves RCS $Log y $State en los ficheros. No hay espacio entre -s
y sus argumentos.

</p><li>-t[FICHERO_DESC] - Remplaza la descripción (mensaje de creación)
para el fichero con contenidos FICHERO_DESC, o lo lee de la entrada
estándar si no se especifica FICHERO_DESC.

<p>Esta útil opción, desafortunadamente, no funciona actualmente
en CVS cliente/servidor. Además, si lo itenta en cliente/servidor
y omite FICHERO_DESC, cualquier descripción existente para el
fichero es cortada y remplazada por una cadena vacía. Si
necesita reescribir la descripción de un fichero, hágalo
bien usando sólo CVS local en la misma máquina que el
repositorio o -t-CADENA (ver adelante). No hay espacio entre -t
y su argumento. FICHERO_DESC puede no comanzar con guión (<code>-</code>).

</p><li>-t-CADENA - Como -t, excepto que CADENA es tomada directamente como
la nueva descripción. CADENA puede contener espacios, en cuyo
caso debe rodearla por comillas. A diferencia de la otra sintaxis para
-t, esta funciona tanto en cliente/servidor como localmente.

<li>-U - Configura el bloqueo a no-estricto. (Ver opciones -l y -L,
discutidas anteriormente.)

<li>-u[REV] - Libera la revisión REV. (Ver -l). Si se omite REV, CVS
libera el último bloqueo mantenido por el solicitante. Si algún
otro que el dueño de un bloqueo lo rompe, un mensaje
por correo electrónico se envía al dueño original del
bloqueo. El contenido de este mensaje se solicita en la entrada
estándar de la persona que rompe el bloqueo. No hay espacio entre
-u y su argumento.

<li>-VNÚMERO_DE_VERSIÓN_CVS - (En desuso) Esto solía ser un modo
de pedir a CVS producir ficheros RCS aceptables para versiones
anteriores de RCS. Ahora el formato RCS usado por CVS está quedándose
lejos del formato RCS usado por RCS, así que la opción es inútil. 
Especificarla acaba en un error.

<li>-xSUFIJO - (En desuso) Teóricamente, esto le da un modo de especificar
el sufijo de los nombres de fichero RCS. Sin embargo, CVS y las herramientas
relacionadas dependen todos del sufijo por omisión (,v), así que esta
opción no hace nada.

</ul>

</body></html>

