<?xml version="1.0" encoding="iso-8859-1" ?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook V4.1.2//EN"
"http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd">

<article>

<articleinfo>

<title>Trucos y consejos para Linux</title>

<author>
<firstname>Vince Reed, <ulink
url="mailto:reedv@rpi.edu"
>reedv@rpi.edu</ulink
>
Traducido por Javier Gracia, 2:343/143</firstname>
</author>

<pubdate>v0.1, 30 August 1994</pubdate>

<abstract>

<para>
Este documento describe ideas para ahorrar tiempo y técnicas para hacer de
linux un sistema mas fácil de configurar y de usar. Todo lo incluido aqui
es demasiado general como para ser incluido en cualquiera de los otros
Howtos. 
</para>

</abstract>

</articleinfo>

<sect1>
<title>Introducción</title>

<para>
Bienvenido al Linux Tips HOWTO, un lugar donde encontrar rápidas
respuestas a preguntas no cubiertas en howtos mas específicos sobre linux. 
En el Tips Howto, también encontrarás pequeñas y elegantes artimañas para
hacer el uso y administración de un sistema Linux todavia mas fácil. No
obstante, como esta es sólo la segunda versión del Tips Howto, el número
de ayudas es aún muy pequeño. La próxima versión no tiene porque ser así,
no obstante... Por favor, enviarme vuestras ideas para ser incluidas en
futuros howtos. Gracias por adelantado ! 
</para>

<para>
Vince Reed, <literal remap="tt">reedv@rpi.edu</literal>, Mantenedor del Linux TIPS HOWTO
</para>

</sect1>

<sect1>
<title>Ayudas Cortas</title>

<sect2>
<title>Mover directorios entre sistemas de ficheros. </title>

<para>
(Alan Cox, 
<literal remap="tt"><ulink
url="mailto:A.Cox@swansea.ac.uk"
>A.Cox@swansea.ac.uk</ulink
></literal>)
</para>

<para>
Forma rápida de mover un árbol entero de ficheros de un disco a otro:
</para>

<para>

<screen>
(cd /origen/directorio; tar cf - . ) | (cd /dest/directorio; tar xvfp -)
</screen>

</para>

</sect2>

<sect2>
<title>Parche para el GNU, Ted Stern, <literal remap="tt">stern@amath.wwashington.edu</literal></title>

<para>
Para cambiar el comportamiento del VPATH. (Make 3.70)
</para>

<para>
No sé si mucha gente tiene este problema, pero hay una característica del
GNU make versión 3.70 que no me gusta. VPATH actúa raramente si le das un
path absoluto. Existe un patch extremadamente sólido que arregla esto, el
cual se puede obtener de Paul D. Smith, <literal remap="tt">psmith@wellfleet.com</literal>. Él
también pone la documentación y el patch después de cada revisión del GNU
make en el servidor de newsgroups al cual tengo acceso. 
</para>

</sect2>

<sect2>
<title>Cómo puedo hacer que el sistema no ejecute el fsck en cada
arranque? Dale Lutz, <literal remap="tt">dal@wimsey.com</literal></title>

<para>
<emphasis>¿Cómo hago para que e2fsck no chequee mi disco cada vez que arranco?</emphasis>
</para>

<para>
Cuando recompilas el kernel, el sistema de ficheros se marca como "sucio"
y por eso el disco es chequeado en cada arranque. La solución es ejecutar
: 
</para>

<para>

<screen>
  rdev -R /zImage 1
</screen>

</para>

<para>
Esto arregla el kernel para que no se siga creyendo que el sistema de
ficheros está "sucio". 
</para>

<para>
Nota : Si usas lilo, entonces añade sólo-lectura al setup del linux en tu
fichero de configuracion del lilo (normalmente <literal remap="tt">/etc/lilo.conf</literal>) 
</para>

</sect2>

<sect2>
<title>Cómo evitar fsck's causados por "device busy" al arrancar. Jon
Tombs, <literal remap="tt">jon@gtex02.us.es</literal></title>

<para>
Si usualmente sufres errores de "device busy" al apagar , que dejan al
sistema de ficheros con la necesidad de un fsck al arrancar, aquí tienes
un arreglo simple :
</para>

<para>
Añade la siguiente linea al fichero /etc/brc o /sbin/brc
</para>

<para>

<screen>
mount -o remount,ro /mount.dir
</screen>

</para>

<para>
para todos tus sistemas de ficheros montados excepto <literal remap="tt">/</literal>, antes de
la llamada para desmontar -a. Esto significa que si, por alguna razón,
shutdown falla al matar todos los procesos y desmontar los discos, éstos
estarán igualmente limpios al arrancar. Me ahorra un montón de tiempo al
arrancar. 
</para>

</sect2>

<sect2>
<title>Cómo imprimir una página con margen para hacer agujeros. Mike Dickey, <literal remap="tt">mdickey@thorplus.lib.purdue.edu</literal></title>

<para>

<screen>
#!/bin/sh
# /usr/local/bin/print
# una muestra de impresión simple, para permitirnos
# perforar lo obtenido y poder archivarlo:
cat $1 | pr -t -o 5 -w 85 | lpr
</screen>

</para>

</sect2>

<sect2>
<title>Un método para buscar a través de árboles de ficheros una expresión
regular dada, Raul Deluth Miller, <literal remap="tt">rockwell@nova.umd.edu</literal></title>

<para>
He llamado a este script 'forall'. Se usa así :
</para>

<para>

<screen>
forall /usr/include grep -i ioctl
forall /usr/man grep ioctl
</screen>

</para>

<para>
Aquí está <literal remap="tt">forall</literal>:
</para>

<para>

<screen>
#!/bin/sh
if [ 1 = `expr 2 \&#62; $#` ]
then
echo Usage: $0 dir cmd [optargs]
exit 1
fi
dir=$1
shift
find $dir -type f -print | xargs "$@"
</screen>

</para>

</sect2>

<sect2>
<title>Un script para limpiar después de usar programas que crean ficheros
temporales y de backup, Barry Tolnas, <literal remap="tt">tolnas@nestor.engr.utk.edu</literal></title>

<para>
Aquí tenéis un sencillo script que desciente recursivamente un directorio
borrando ficheros de auto-grabado y backup de emacs, ficheros .o, y
ficheros .log de TeX. También comprime ficheros .tex y ficheros README. 
Yo lo llamo ``<literal remap="tt">squeeze</literal>'' en mi sistema. 
</para>

<para>

<screen>
#!/bin/sh
#SQUEEZE borra ficheros inutiles, y comprime ficheros .tex y README 
#By Barry tolnas, tolnas@sun1.engr.utk.edu
#
echo squeezing $PWD
find  $PWD \( -name \*~ -or -name \*.o -or -name \*.log -or -name \*\#\) exec rm -f {} \;
find $PWD \( -name \*.tex -or -name \*README\* -or -name \*readme\* \) - exec gzip -9 {} \;
</screen>

</para>

</sect2>

</sect1>

<sect1>
<title>Ayudas Detalladas</title>

<sect2>
<title>Compartiendo particiones de swap entre Linux y Windows. Tony Acero,
<literal remap="tt">ace3@midway.uchicago.edu</literal></title>

<para>

<orderedlist>
<listitem>

<para>
Formatea la partición como una partición dos, y crea el fichero de
swap del Windows en ella, pero no ejecutes windows todavía. (Hay que
mantener el fichero de swap completamente vacío de momento, para poder
comprimirlo bien). 

</para>
</listitem>
<listitem>

<para>
Arranca linux y graba la partición en un fichero.  Por ejemplo, si
la partición es <literal remap="tt">/dev/hda8</literal>: 


<screen>
dd if=/dev/hda8 of=/etc/dosswap
</screen>


</para>
</listitem>
<listitem>

<para>
Comprime el fichero de swap del dos; como es virtualmente todo
ceros, se comprimirá muy bien


<screen>
gzip -9 /etc/dosswap
</screen>

</para>
</listitem>
<listitem>

<para>
Añade lo siguiente al fichero <literal remap="tt">/etc/rc</literal> para preparar e
instalar el espacio de swap sobre Linux : 

XXXXX es el numero de bloques en la particion de swap


<screen>
mkswap /dev/hda8 XXXXX
swapon -av
</screen>


Asegúrate de añadir una entrada para la partición de swap en el fichero
<literal remap="tt">/etc/fstab</literal>


</para>
</listitem>
<listitem>

<para>
Si tu paquete <literal remap="tt">init/reboot</literal> soporta <literal remap="tt">/etc/brc</literal> o
<literal remap="tt">/sbin/brc</literal> añade lo siguiente a <literal remap="tt">/etc/brc</literal>, si no, haz lo
mismo a mano cuando quieras arrancar dos u os/2 y quieras convertir la
partición de swap a la versión dos/windows: 


<screen>
swapoff -av
zcat /etc/dosswap.gz | dd of=/dev/hda8 bs=1k count=100
</screen>


</para>
</listitem>

</orderedlist>

</para>

<para>
Ten en cuenta que esto sólo escribe los 100 primeros bloques en la
partición. He averiguado empíricamente que esto es suficiente. 
</para>

<para>
<emphasis>¿Cuáles son las ventajas y las desventajas de hacer esto?</emphasis> 
</para>

<para>
<emphasis>Ventajas</emphasis>: Ahorras una substancial cantidad de espacio en el disco.
</para>

<para>
<emphasis>Desventajas</emphasis>: Si el paso 5 no es automático, tienes que hacerlo a
mano, y enlentece el proceso de rearrancar unos nanosegundos :-) 
</para>

</sect2>

<sect2>
<title>Cómo configurar xdm's chooser para seleccionar host. Arrigo Triculzi, <literal remap="tt">a.triulzi@ic.ac.uk</literal></title>

<para>

<orderedlist>
<listitem>

<para>
Edita el fichero que arranca xdm, (lo mas probable
<literal remap="tt">/etc/rc/rc.6</literal> o <literal remap="tt">/etc/rc.local</literal>) para que contenga las
siguientes líneas en la sección de <literal remap="tt">startup</literal>: 


<screen>
/usr/bin/X11/xdm
exec /usr/bin/X11/X -indirect hostname
</screen>



</para>
</listitem>
<listitem>

<para>
Edita <literal remap="tt">/usr/lib/X11/xdm/Xservers</literal> y comenta la línea que
arranca el servidor en el terminal. p.ej, que comienza por <literal remap="tt">0:</literal>

</para>
</listitem>
<listitem>

<para>
Rearranca la máquina y ya está todo.

</para>
</listitem>

</orderedlist>

</para>

<para>
He añadido éste porque cuando estuve, desesperadamente, intentando
configurarlo para mi propia subnet, me llevó sobre una semana solventar
todos los problemas. 
</para>

<para>
Advertencia: con viejas SLS (1.1.1) por alguna razón puedes dejar un
<literal remap="tt">-nodaemon</literal> después de la línea de xdm. esto NO funciona para versiones
posteriores. 
</para>

</sect2>

</sect1>

<sect1>
<title>La traducción</title>

<para>
La presente traducción ha sido realizada por Javier Gracia, <literal remap="tt">FidoNet: 2:343/143</literal>, componente del <emphasis>INSFLUG</emphasis>. 
</para>

<para>
En caso de querer colaborar en las diversas traducciones que se están
llevando a cabo, ponte en contacto con: 
</para>

<para>

<itemizedlist>
<listitem>

<para>
Francisco José Montilla, <literal remap="tt"><ulink
url="mailto:pacopepe@insflug.org"
>pacopepe@insflug.org</ulink
></literal> para
el <emphasis>INSFLUG</emphasis>:  <literal remap="tt"><ulink
url="http://www.insflug.org"
>www.insflug.org</ulink
></literal> para colaboración en la traducción y autoría
de COMOs, FAQs (PUFs en castellano). 

</para>
</listitem>
<listitem>

<para>
<emphasis>LuCas</emphasis>, traducción de las guías (documentos extensos, libros): 
<literal remap="tt"><ulink
url="http://lucas.ctv.es"
>lucas.ctv.es</ulink
></literal>, Juan
José Amor, <literal remap="tt"><ulink
url="mailto:jjamor@ls.fi.upm.es"
>jjamor@ls.fi.upm.es</ulink
></literal>, <literal remap="tt">2:341/12.19</literal>

</para>
</listitem>

</itemizedlist>

</para>

</sect1>

<sect1 id="Grupos">
<title>Anexo: El INSFLUG </title>

<para>
El <emphasis>INSFLUG</emphasis> forma parte del grupo internacional <emphasis remap="it">Linux
Documentation Project</emphasis>, encargándose de las traducciones al castellano de
los Howtos (Comos), así como la producción de documentos originales en
aquellos casos en los que no existe análogo en inglés. 
</para>

<para>
En el <emphasis remap="bf">INSFLUG</emphasis> se orienta preferentemente a la traducción de
documentos breves, como los <emphasis>COMOs</emphasis> y <emphasis>PUFs</emphasis> (<emphasis remap="bf">P</emphasis>reguntas de
<emphasis remap="bf">U</emphasis>so <emphasis remap="bf">F</emphasis>recuente, las <emphasis remap="it">FAQs</emphasis>. <literal remap="tt">:)</literal> ), etc. 
</para>

<para>
Diríjase a la sede del INSFLUG para más información al respecto.
</para>

<para>
En la sede del INSFLUG encontrará siempre las <emphasis remap="bf">últimas</emphasis> versiones de
las traducciones:  <literal remap="tt"><ulink
url="www.insflug.org"
>www.insflug.org</ulink
></literal>. Asegúrese de comprobar cuál es la última
versión disponible en el Insflug antes de bajar un documento de un
servidor réplica. 
</para>

<para>
Se proporciona también una lista de los servidores réplica (<emphasis remap="it">mirror</emphasis>)
del Insflug más cercanos a Vd., e información relativa a otros recursos en
castellano. 
</para>

<para>
Francisco José Montilla, <literal remap="tt"><ulink
url="mailto:pacopepe@insflug.org"
>pacopepe@insflug.org</ulink
></literal>. 
</para>

</sect1>

</article>
