<?xml version="1.0" encoding="iso-8859-1" ?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook V4.1.2//EN"
"http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd">

<article>

<articleinfo>

<title>Serie COMO de Linux</title>

<author>
<firstname>por Greg Hankins, <ulink
url="mailto:greg.hankins@cc.gatech.edu"
>greg.hankins@cc.gatech.edu</ulink
>
 Traducido por Jesús Jiménez Sánchez, <ulink
url="mailto:jesus.jimenez@writeme.com"
>jesus.jimenez@writeme.com</ulink
></firstname>
</author>

<pubdate>v1.9, 2 Enero 1997, traducción del 2 Junio 1997</pubdate>

<abstract>

<para>
 Este documento describe cómo configurar los dispositivos de comunicación
serie en una máquina Linux.
</para>

</abstract>

</articleinfo>

<sect1>
<title>Introducción</title>

<para>
Este es el Serie COMO de Linux. Todo sobre cómo configurar módems y
terminales bajo Linux, algunos trucos de serie, y soluciones a problemas.
Este COMO está dirigido a Linux funcionando bajo un hardware basado en un
x86, aunque debe funcionar en otras arquitecturas. 
</para>

<sect2>
<title>Copyright</title>

<para>
El Serial HOWTO de Linux es copyright (C) 1993 - 1997 de Greg Hankins. 
Los documentos HOWTO de Linux pueden ser reproducidos y distribuidos total
o parcialmente, en cualquier medio físico o electrónico, con tal que esta
nota de copyright esté en todas las copias. La redistribución comercial es
permitida y se anima a ello; de cualquier modo, al autor le <emphasis>gustaría</emphasis>
que se le notificase este tipo de distribuciones. 
</para>

<para>
Todas las traducciones, trabajos derivados, o trabajos agregados
incorporando cualquier documento HOWTO de Linux deben estar bajo las
condiciones de esta nota de copyright. Es decir, no puede producir un
trabajo derivado de un HOWTO e imponer restricciones adicionales en su
distribución. Excepciones a estas reglas pueden ser garantizadas bajo
ciertas condiciones; por favor, contacte con el coordinador de los HOWTOs
de Linux en la dirección que se da después. 
</para>

<para>
En breve, queremos promover la diseminación de esta información a través
de todos los canales posibles. De todas maneras, deseamos retener el
copyright de los HOWTOs, y nos <emphasis>gustaría</emphasis> que se nos notificase
cualquier plan de redistribución de los HOWTOs. 
</para>

<para>
Para cualquier consulta, por favor, contacte con Greg Hankins, el
coordinador de los HOWTOs de Linux, en <literal remap="tt"><ulink
url="mailto:gregh@sunsite.unc.edu"
>gregh@sunsite.unc.edu</ulink
></literal> a
través del correo electrónico. 
</para>

</sect2>

<sect2>
<title>Nuevas versiones de este documento</title>

<para>
Las nuevas versiones de Serial HOWTO (versión en inglés
<footnote>

<para>
Ver sección 
<xref linkend="Grupos"/> para las traducciones
al Castellano
</para>

</footnote>
) 
se pueden conseguir en
</para>

<para>

<itemizedlist>
<listitem>

<para>
<literal remap="tt"><ulink
url="ftp://sunsite.unc.edu:/pub/Linux/docs/HOWTO/Serial-HOWTO"
>ftp://sunsite.unc.edu:/pub/Linux/docs/HOWTO/Serial-HOWTO</ulink
></literal>
</para>
</listitem>

</itemizedlist>

</para>

<para>
y servidores espejo (<emphasis remap="it">mirror sites</emphasis>). Existen otros formatos, así como
PostScript y DVI en el directorio <literal remap="tt">other-formats</literal>. El Serial-HOWTO
también está disponible en
</para>

<para>

<itemizedlist>
<listitem>

<para>
<literal remap="tt"><ulink
url="http://sunsite.unc.edu/LDP/HOWTO/Serial-HOWTO.html"
>http://sunsite.unc.edu/LDP/HOWTO/Serial-HOWTO.html</ulink
></literal>
</para>
</listitem>

</itemizedlist>

</para>

<para>
y se enviará a <literal remap="tt"><ulink
url="news:comp.os.linux.answers"
>comp.os.linux.answers</ulink
></literal> mensualmente. 
</para>

</sect2>

<sect2>
<title>Realimentación</title>

<para>
Por favor, envíeme cualquier pregunta, comentario, sugerencia, o material
adicional. Siempre estoy ansioso de oír lo que opinan sobre el HOWTO.
¡También estoy atento a mejoras!. Dígame exactamente qué es lo que no
entiende, o que debe aclararse. Puede contactar conmigo en <literal remap="tt"><ulink
url="mailto:greg.hankins@cc.gatech.edu"
>greg.hankins@cc.gatech.edu</ulink
></literal> vía email. Todas las cartas serán
contestadas, aunque puede llevarme una semana o así, dependiendo de lo
ocupado que esté. Tengo muchas cartas de <literal remap="tt">root</literal> y sitios
desconfigurados. Por favor, envíeme el correo como una persona real, y
asegúrese de que su sistema de correo funcione, así podré contestarle. Si
no le respondo en dos semanas, por favor, vuelva a enviarme la carta de
nuevo. 
</para>

<para>
También puede contactar conmigo en:  Greg Hankins
 College of
Computing
 801 Atlantic Drive
 Atlanta, GA
30332-0280
 a través del correo lento, y en <literal remap="tt"><ulink
url="http://www.cc.gatech.edu/staff/h/Greg.Hankins"
>http://www.cc.gatech.edu/staff/h/Greg.Hankins</ulink
></literal>
</para>

<para>
Por favor, incluya el número de versión de el Serial HOWTO cuando escriba,
esta es la versión 1.9. 
</para>

</sect2>

<sect2>
<title>Renuncia de responsabilidad</title>

<para>
Los resultados pueden variar. Las respuestas dadas puede que no funcionen
en todos los sistemas y con todas las configuraciones posibles. 
</para>

</sect2>

</sect1>

<sect1>
<title>Hardware serie soportado</title>

<para>
Se sabe que Linux funciona con el siguiente hardware serie.
</para>

<sect2>
<title>Placas serie normales de PC</title>

<para>

<itemizedlist>
<listitem>

<para>
placas serie estándar de PC (COM1 - COM4), a los cuales los
dispositivos serie externos (módems, ratón serie, etc, ...) pueden ser
conectados. 

</para>
</listitem>
<listitem>

<para>
módems internos de PC estándar (COM1 - COM4)

</para>
</listitem>
<listitem>

<para>
Quickpath Systems Port-Folio 550e (IRQs permitidas 3, 4, 5,
9, 10, 11, 12, y 15)
</para>
</listitem>

</itemizedlist>

</para>

<para>
Nota: debido a conflictos de dirección, no puede usar COM4 y la placa de
vídeo IBM8514 simultáneamente. Esto es debido a un error en la placa
IBM8514. 
</para>

</sect2>

<sect2>
<title>Módems Plug and Play (PnP)</title>

<para>
Los módems PnP funcionan con Linux. Sin embargo, recomiendo que no se usen
porque son complejos. Existen un par de cosas que puede probar: 
</para>

<para>

<itemizedlist>
<listitem>

<para>
Intente desconectar la característica PnP en la BIOS de su
ordenador y módem.
</para>
</listitem>
<listitem>

<para>
Arranque Win95, configure el módem, y vea si la configuración
permanece cuando arranque Linux. Si no, entonces:
</para>
</listitem>
<listitem>

<para>
Arranque Win95, configure el módem, y entonces haga un
<emphasis>arranque en caliente</emphasis> de Linux, así se preservará la
configuración. Puede hacer esto con el cargador <literal remap="tt">loadlin</literal>.
</para>
</listitem>
<listitem>

<para>
Consiga las herramientas de PnP en <literal remap="tt"><ulink
url="http://www.redhat.com/linux-info/pnp"
>http://www.redhat.com/linux-info/pnp</ulink
></literal>.
</para>
</listitem>
<listitem>

<para>
Y, por supuesto, puede adquirir un módem de verdad.
</para>
</listitem>

</itemizedlist>

</para>

</sect2>

<sect2>
<title>Placas serie multipuerto no-inteligentes (con UARTs
8250/16450/16550A) </title>

<para>

<itemizedlist>
<listitem>

<para>
AST FourPort y clónicas (4 puertos)
</para>
</listitem>
<listitem>

<para>
Accent Async-4 (4 puertos)
</para>
</listitem>
<listitem>

<para>
Arnet Multiport-8 (8 puertos)
</para>
</listitem>
<listitem>

<para>
Bell Technologies HUB6 (6 puertos)
</para>
</listitem>
<listitem>

<para>
Boca BB-1004 (4 puertos), BB-1008 (8 puertos), BB-2016 (16
puertos)
</para>
</listitem>
<listitem>

<para>
Boca IOAT66 (6 puertos)
</para>
</listitem>
<listitem>

<para>
Boca 2by4 (4 puertos serie, 2 puertos paralelos)
</para>
</listitem>
<listitem>

<para>
Computone ValuePort V4-ISA (compatible AST FourPort)
</para>
</listitem>
<listitem>

<para>
Digi PC/8 (8 puertos)
</para>
</listitem>
<listitem>

<para>
GTEK BBS-550 (8 puertos)
</para>
</listitem>
<listitem>

<para>
Longshine LCS-8880, Longshine LCS-8880+ (compatible AST FourPort)
</para>
</listitem>
<listitem>

<para>
Moxa C104, Moxa C104+ (compatible AST FourPort)
</para>
</listitem>
<listitem>

<para>
PC-COMM (4 puertos)
</para>
</listitem>
<listitem>

<para>
SIIG I/O Expander 2S IO1812 (4 puertos)
</para>
</listitem>
<listitem>

<para>
STB-4COM (4 puertos)
</para>
</listitem>
<listitem>

<para>
Twincom ACI/550
</para>
</listitem>
<listitem>

<para>
Usenet Serial Board II (4 puertos)
</para>
</listitem>

</itemizedlist>

</para>

<para>
En general, Linux soportará cualquier placa que use una UART 8250, 16450,
16550, 16550A (o compatible), o un módem interno que emule una de las
UARTs anteriores. 
</para>

<para>
Nota: el BB-1004 y BB-1008 no soporta líneas DCD y RI, y no se pueden usar
para recibir llamadas. Funcionan bien en otras tareas. 
</para>

</sect2>

<sect2>
<title>Placas serie multipuerto inteligentes</title>

<para>

<itemizedlist>
<listitem>

<para>
Comtrol RocketPort (36MHz ASIC; 4, 8, 16 ó 32 puertos)

contacto: <literal remap="tt"><ulink
url="mailto:info@comtrol.com"
>info@comtrol.com</ulink
></literal> o <literal remap="tt"><ulink
url="http://www.comtrol.com"
>http://www.comtrol.com</ulink
></literal>
 estado del controlador:
soportado por Comtrol
 localización del controlador: <literal remap="tt"><ulink
url="ftp://tsx-11.mit.edu/pub/linux/packages/comtrol"
>ftp://tsx-11.mit.edu/pub/linux/packages/comtrol</ulink
></literal>

</para>
</listitem>
<listitem>

<para>
Computone IntelliPort II (16MHz 80186; 4, 8 ó 16 puertos),

IntelliPort II EXpandable (20MHz 80186; 16 - 64 puertos)

contacto: Michael H. Warfield, <literal remap="tt"><ulink
url="mailto:mhw@wittsend.atl.ga.us"
>mhw@wittsend.atl.ga.us</ulink
></literal>
 estado del controlador:
pre-ALPHA

</para>
</listitem>
<listitem>

<para>
Cyclades Cyclom-Y (UARTs CD1400 de Cirrus Logic; 8 - 32
puertos),
 Cyclom-Z (25MHz MIPS R3000; 8 - 128 puertos)

contacto: <literal remap="tt"><ulink
url="mailto:sales@cyclades.com"
>sales@cyclades.com</ulink
></literal> o <literal remap="tt"><ulink
url="http://www.cyclades.com"
>http://www.cyclades.com</ulink
></literal>
 estado del controlador:
soportado por Cyclades

localización del controlador: <literal remap="tt"><ulink
url="ftp://ftp.cyclades.com/pub/cyclades"
>ftp://ftp.cyclades.com/pub/cyclades</ulink
></literal> e incluido en el
núcleo del Linux desde la versión 1.1.75

</para>
</listitem>
<listitem>

<para>
Digi PC/Xi (12.5MHz 80186; 4, 8, ó 16 puertos),
 PC/Xe
(12.5/16MHz 80186; 2, 4, u 8 puertos),
 PC/Xr (16MHz IDT3041; 4 u
8 puertos),
 PC/Xem (20MHz IDT3051; 8 - 64 puertos)

contacto: <literal remap="tt"><ulink
url="mailto:sales@dgii.com"
>sales@dgii.com</ulink
></literal> o <literal remap="tt"><ulink
url="http://www.dgii.com"
>http://www.dgii.com</ulink
></literal>
 estado del controlador:
soportado por Digi
 localización del controlador: <literal remap="tt"><ulink
url="ftp://ftp.dgii.com/drivers/linux"
>ftp://ftp.dgii.com/drivers/linux</ulink
></literal> e incluido en el núcleo de
Linux desde la versión 2.0

</para>
</listitem>
<listitem>

<para>
Digi COM/Xi (10MHz 80188; 4 u 8 puertos)
 contacto: Simon
Park, <literal remap="tt"><ulink
url="mailto:si@wimpol.demon.co.uk"
>si@wimpol.demon.co.uk</ulink
></literal>
 estado del controlador:
ALPHA
 nota: Simon está a menudo desconectado del correo durante
meses debido a su trabajo. Mark Hatle, <literal remap="tt"><ulink
url="mailto:fray@krypton.mankato.msus.edu"
>fray@krypton.mankato.msus.edu</ulink
></literal> se ha ofrecido voluntario
cortésmente para tener el controlador disponible por si usted lo necesita. 

</para>
</listitem>
<listitem>

<para>
Equinox SuperSerial Technology (30MHz ASIC; 2 - 128
puertos)
 contacto: <literal remap="tt"><ulink
url="mailto:sales@equinox.com"
>sales@equinox.com</ulink
></literal> or <literal remap="tt"><ulink
url="http://www.equinox.com"
>http://www.equinox.com</ulink
></literal>

estado del controlador: soportado por Equinox
 localización del
controlador: <literal remap="tt"><ulink
url="ftp://ftp.equinox.com/library/sst"
>ftp://ftp.equinox.com/library/sst</ulink
></literal>

</para>
</listitem>
<listitem>

<para>
GTEK Cyclone (16C654 UARTs; 6, 16 y 32 puertos),
 SmartCard
(24MHz Dallas DS80C320; 8 puertos),
 BlackBoard-8A (16C654 UARTs;
8 puertos),
 PCSS (15/24MHz 8032; 8 puertos)
 contacto:
<literal remap="tt"><ulink
url="mailto:spot@gtek.com"
>spot@gtek.com</ulink
></literal> o
<literal remap="tt"><ulink
url="http://www.gtek.com"
>http://www.gtek.com</ulink
></literal>
 estado del controlador:
soportado por GTEK
 localización del controlador: <literal remap="tt"><ulink
url="ftp://ftp.gtek.com/pub"
>ftp://ftp.gtek.com/pub</ulink
></literal>

</para>
</listitem>
<listitem>

<para>
Hayes ESP (8 - 64 puertos)
 contacto: Andrew J. Robinson,
<literal remap="tt"><ulink
url="mailto:arobinso@nyx.net"
>arobinso@nyx.net</ulink
></literal>
o <literal remap="tt"><ulink
url="http://www.nyx.net/&#732;arobinso"
>http://www.nyx.net/&#732;arobinso</ulink
></literal>
 estado del
controlador: BETA

localización del controlador: <literal remap="tt"><ulink
url="http://www.nyx.net/&#732;arobinso"
>http://www.nyx.net/&#732;arobinso</ulink
></literal> e incluido en el
núcleo del Linux desde la versión 2.1.15

</para>
</listitem>
<listitem>

<para>
Maxpeed SS (Toshiba; 4, 8 y 16 puertos)
 contacto:
<literal remap="tt"><ulink
url="mailto:info@maxpeed.com"
>info@maxpeed.com</ulink
></literal>
o <literal remap="tt"><ulink
url="http://www.maxpeed.com"
>http://www.maxpeed.com</ulink
></literal>
 estado del controlador:
soportado por Maxpeed
 localización del controlador: <literal remap="tt"><ulink
url="ftp://maxpeed.com/pub/ss"
>ftp://maxpeed.com/pub/ss</ulink
></literal>

</para>
</listitem>
<listitem>

<para>
Moxa C218 (12MHz 80286; 8 puertos),
 Moxa C320 (40MHz
TMS320; 8 - 32 puertos)
 contacto: <literal remap="tt"><ulink
url="mailto:info@moxa.com.tw"
>info@moxa.com.tw</ulink
></literal> o
<literal remap="tt"><ulink
url="http://www.moxa.com.tw"
>http://www.moxa.com.tw</ulink
></literal>
 estado del controlador:
soportado por Moxa
 localización del controlador: <literal remap="tt"><ulink
url="ftp://ftp.moxa.com.tw/drivers/c218-320/linux"
>ftp://ftp.moxa.com.tw/drivers/c218-320/linux</ulink
></literal>

</para>
</listitem>
<listitem>

<para>
SDL RISCom/8 (CD180 de Cirrus Logic; 8 puertos)
 contacto:
<literal remap="tt"><ulink
url="sales@sdlcomm.com"
>sales@sdlcomm.com</ulink
></literal> or
<literal remap="tt"><ulink
url="http://www.sdlcomm.com"
>http://www.sdlcomm.com</ulink
></literal>
 estado del controlador:
soportado por SDL
 localización del controlador: <literal remap="tt"><ulink
url="ftp://ftp.sdlcomm.com/pub/drivers"
>ftp://ftp.sdlcomm.com/pub/drivers</ulink
></literal>

</para>
</listitem>
<listitem>

<para>
Omega COMM-8 (8 puertos)
 contacto: Vance Petree,
<literal remap="tt"><ulink
url="mailto:vpetree@infi.net"
>vpetree@infi.net</ulink
></literal>

</para>
</listitem>
<listitem>

<para>
Specialix SIO (20MHz Zilog Z280; 4 - 32 puertos),
 XIO
(25MHz Zilog Z280; 4 - 32 puertos)
 contacto: Simon Allen,
<literal remap="tt"><ulink
url="mailto:simonallen@cix.compulink.co.uk"
>simonallen@cix.compulink.co.uk</ulink
></literal>
 estado del
controlador: BETA
 localización del controlador: <literal remap="tt"><ulink
url="ftp://sunsite.unc.edu/pub/Linux/kernel/patches/serial"
>ftp://sunsite.unc.edu/pub/Linux/kernel/patches/serial</ulink
></literal>

</para>
</listitem>
<listitem>

<para>
Stallion EasyIO-4 (4 puertos), EasyIO-8 (8 puertos), y

EasyConnection (8 - 32 puertos) - cada uno con UARTs CD1400 de Cirrus
Logic,
 Stallion (8MHz 80186 CPU; 8 o 16 puertos),
 Brumby
(10/12 MHz 80186 CPU; 4, 8 o 16 puertos),
 ONboard (16MHz 80186
CPU; 4, 8, 12, 16 o 32 puertos),
 EasyConnection 8/64 (25MHz 80186
CPU; 8 - 64 puertos)
 contacto: <literal remap="tt"><ulink
url="mailto:sales@stallion.com"
>sales@stallion.com</ulink
></literal> o
<literal remap="tt"><ulink
url="http://www.stallion.com"
>http://www.stallion.com</ulink
></literal>
 estado del controlador:
soportado por Stallion
 localización del controlador: <literal remap="tt"><ulink
url="ftp://ftp.stallion.com/drivers/ata5/Linux"
>ftp://ftp.stallion.com/drivers/ata5/Linux</ulink
></literal> e incluido en el
núcleo del Linux desde la versión 1.3.27 
</para>
</listitem>

</itemizedlist>
 
</para>

<para>
 Una revisión de
los productos de Comtrol, Cyclades, Digi y Stallion fue imprimida en Junio
de 1995 en la distribución de <emphasis>Linux Journal</emphasis>. El artículo está
disponible en <literal remap="tt"><ulink
url="http://www.ssc.com/lj/issue14"
>http://www.ssc.com/lj/issue14</ulink
></literal>. 
</para>

</sect2>

<sect2>
<title>Hardware serie no soportado</title>

<para>
Los módems que afirman ser ``Winmodems'', por ejemplo el USR Sporster Winmodem
e IBM Aptiva MWAVE, <emphasis>no</emphasis> están soportados por Linux.  Estos módems usan
diseños propietarios que requieren controladores especiales de Windows.
Evite este tipo de módems. Además, evite los módems que requieran los
controladores Rockwell RPI por las mismas razones. 
</para>

<para>
Las placas serie inteligentes que requieran controladores no disponibles
para Linux tampoco funcionarán . 
</para>

</sect2>

</sect1>

<sect1>
<title>¿Cuáles son los nombres de los puertos serie?</title>

<para>
Un puerto de E/S es un modo de conseguir que los datos entren y salgan de
un ordenador. Existen muchos tipos de puertos de E/S como los puertos
serie, puertos paralelos, controladores de disqueteras, placas ethernet,
etc. Trataremos con puertos serie ya que los módems y los terminales son
dispositivos serie. Cada puerto serie debe tener una dirección de E/S, y
una interrupción (IRQ). 
</para>

<para>
Estos son los cuatro puertos serie correspondientes a COM1 - COM4: 
</para>

<para>

<screen>
 
/dev/cua0, /dev/ttyS0 (COM1) direccion 0x3f8 IRQ 4
/dev/cua1, /dev/ttyS1 (COM2) direccion 0x2f8 IRQ 3 
/dev/cua2, /dev/ttyS2 (COM3) direccion 0x3e8 IRQ 4 
/dev/cua3, /dev/ttyS3 (COM4) direccion 0x2e8 IRQ 3 
</screen>
 
</para>

<para>
Si Linux no detecta ningún puerto serie cuando arranca, entonces asegúrese
de que el soporte de comunicaciones serie está compilado y activo en el
núcleo.
</para>

<para>
Los dispositivos <literal remap="tt">/dev/ttyS</literal><emphasis>N</emphasis> son para conexiones de entrada y
los dispositivos <literal remap="tt">/dev/cua</literal><emphasis remap="it">N</emphasis> son para conexiones de salida.
<emphasis>N</emphasis> es el número del puerto serie. 
</para>

<para>
En este documento me referiré a COM1 como <literal remap="tt">ttyS0</literal>, COM2 como
<literal remap="tt">ttyS1</literal>, COM3 como <literal remap="tt">ttyS2</literal>, y COM4 como <literal remap="tt">ttyS3</literal>. Si me refiero a
un dispositivo específico en <literal remap="tt">/dev</literal>, siempre lo precederé de
<literal remap="tt">/dev</literal> para evitar confusiones. Nótese que por defecto estos
dispositivos tienen IRQs que se solapan. No puede usar todos los
puertos con la configuración por defecto, debe reasignar IRQs diferentes.
Vea la sección <xref linkend="irqaddr"/> para configurar las IRQs.
</para>

<para>
En algunas instalaciones se crean dos dispositivos extras,
<literal remap="tt">/dev/modem</literal> para el módem y <literal remap="tt">/dev/mouse</literal> para el ratón. Los
dos son enlaces simbólicos al dispositivo <literal remap="tt">/dev/cua</literal><emphasis>N</emphasis>
apropiado que usted especificó durante la instalación (a menos que tenga
un bus mouse, entonces <literal remap="tt">/dev/mouse</literal> apuntará al dispositivo del bus
mouse).
</para>

<para>
Existen algunas discusiones sobre los méritos de <literal remap="tt">/dev/mouse</literal> y
<literal remap="tt">/dev/modem</literal>. Yo estoy <emphasis>totalmente</emphasis> en contra del uso de estos
enlaces. En particular, si está planeando usar su módem para recibir
llamadas puede tener problemas debido a que los ficheros de bloqueo puede
que no funcionen correctamente si usa <literal remap="tt">/dev/modem</literal>. Úselos si lo
desea, pero <emphasis>asegúrese de que apuntan al dispositivo correcto</emphasis>. Sin
embargo, si mueve o borra este enlace, algunas aplicaciones (<literal remap="tt">minicom</literal>
por ejemplo) pueden necesitar una reconfiguración.
</para>

<sect2>
<title>Números de dispositivo mayor y menor de los puertos serie en
<literal remap="tt">/dev</literal></title>

<para>

<screen>
/dev/ttyS0 mayor 4, menor 64	/dev/cua0 mayor 5, menor 64
/dev/ttyS1 mayor 4, menor 65	/dev/cua1 mayor 5, menor 65
/dev/ttyS2 mayor 4, menor 66	/dev/cua2 mayor 5, menor 66
/dev/ttyS3 mayor 4, menor 67	/dev/cua3 mayor 5, menor 67
</screen>

</para>

<para>
Nótese que todas las distribuciones deben traer estos dispositivos
correctamente creados. Puede comprobarlo escribiendo: 
</para>

<para>

<screen>
linux% ls -l /dev/cua*
linux% ls -l /dev/ttyS*
</screen>

</para>

<sect3 id="dev">
<title>Creación de dispositivos en <literal remap="tt">/dev</literal></title>

<para>
Si le falta un dispositivo, tendrá que crearlo con el comando <literal remap="tt">mknod</literal>.
Por ejemplo, suponga que necesita crear un dispositivo para <literal remap="tt">ttyS0</literal>: 
</para>

<para>

<screen>
linux# mknod -m 666 /dev/cua0 c 5 64
linux# mknod -m 666 /dev/ttyS0 c 4 64
</screen>

</para>

<para>
Puede usar el script <literal remap="tt">MAKEDEV</literal>, que está en <literal remap="tt">/dev</literal>. Esto
simplifica la creación de dispositivos. Por ejemplo, si necesita crear el
dispositivo para <literal remap="tt">ttyS0</literal> puede escribir: 
</para>

<para>

<screen>
linux# cd /dev
linux# ./MAKEDEV ttyS0
</screen>

</para>

<para>
Esto dirige la creación de dispositivos para entrada y salida, y debería
establecer los permisos adecuados. 
</para>

</sect3>

</sect2>

<sect2>
<title>Notas sobre placas multipuerto no-inteligentes</title>

<para>
Los dispositivos que su placa multipuerto usa dependen del tipo de placa
que tenga. Estas están listadas con detalle en <literal remap="tt">rc.serial</literal> que
viene con el programa <literal remap="tt">setserial</literal>. Recomiendo conseguir la última
versión de <literal remap="tt">setserial</literal> si está intentando usar placas multipuerto.
Seguramente necesitará crear estos dispositivos. Puede usar el comando
<literal remap="tt">mknod</literal>, o el script <literal remap="tt">MAKEDEV</literal>. Los dispositivos para placas
multipuerto se crean sumando ``64 + número de puerto''. Así, si quiere
crear un dispositivo para <literal remap="tt">ttyS17</literal>, debe escribir: 
</para>

<para>

<screen>
linux# mknod -m 666 /dev/cua17 c 5 81
linux# mknod -m 666 /dev/ttyS17 c 4 81
</screen>

</para>

<para>
Note que ``64 + 17 = 81''. Si usa el script <literal remap="tt">MAKEDEV</literal>, puede escribir: 
</para>

<para>

<screen>
linux# cd /dev
linux# ./MAKEDEV ttyS17
</screen>

</para>

<para>
Nota: el manual SIIG en el listado de IO1812 para COM5-COM8 es erróneo.
Debería ser COM5=0x250, COM6=0x258, COM7=0x260, y COM8=0x268. 
</para>

<para>
Nota: El Registro de Estado de Interrupción de la Digi PC/8 es en 0x140. 
</para>

<para>
Nota: para una AST Fourport, puede necesitar especificar <literal remap="tt">skip_test</literal> en
<literal remap="tt">rc.serial</literal>. 
</para>

</sect2>

<sect2>
<title>Notas sobre placas multipuerto inteligentes</title>

<para>
Lea la información que viene con el controlador. Estas placas usan
dispositivos especiales, y no los estándar. Esta información varía
dependiendo de su hardware. 
</para>

</sect2>

</sect1>

<sect1>
<title>Programas interesantes que debería conocer</title>

<sect2>
<title>¿Qué es <literal remap="tt">getty</literal>?</title>

<para>
<literal remap="tt">getty</literal> es un programa que controla el proceso de login cuando se
conecta a una máquina Unix. Puede necesitar <literal remap="tt">getty</literal> si quiere que sea
posible llamar a su máquina Linux con un módem. No necesita <literal remap="tt">getty</literal> si
lo único que quiere es llamar con su modem. Existen tres versiones que son
normalmente usadas con Linux: <literal remap="tt">getty_ps</literal>, <literal remap="tt">mgetty</literal> y <literal remap="tt">agetty</literal>. La
sintaxis de estos programas difieren, así que asegúrese de comprobar que
está usando la sintaxis correcta para el <literal remap="tt">getty</literal> que esté usando. 
</para>

<sect3>
<title>Acerca de <literal remap="tt">getty_ps</literal></title>

<para>
	
</para>

<para>
Esta versión de <literal remap="tt">getty</literal> fue originalmente escrita por Paul Sutcliffe
Jr., <literal remap="tt">paul@devon.lns.pa.us</literal>. Muchas distribuciones vienen
con el paquete <literal remap="tt">getty_ps</literal> instalado. El paquete <literal remap="tt">getty_ps</literal>
contiene dos programas. <literal remap="tt">getty</literal> se usa para la consola, y
dispositivos de terminal - y <literal remap="tt">uugetty</literal> se usa para los módems. Yo
uso esta versión de <literal remap="tt">getty</literal>, así que me concentraré en el paquete
<literal remap="tt">getty_ps</literal> en este COMO.
</para>

</sect3>

<sect3>
<title>Acerca de <literal remap="tt">mgetty</literal></title>

<para>
<literal remap="tt">mgetty</literal> es una versión de <literal remap="tt">getty</literal> escrita por Gert D&ouml;ring,
<literal remap="tt"><ulink
url="mailto:gert@greenie.muc.de"
>gert@greenie.muc.de</ulink
></literal>, para ser usada con el módem.  Además de
permitir acceso telefónico, <literal remap="tt">mgetty</literal> también da soporte de FAX con
<literal remap="tt">sendfax</literal>, que acompaña a <literal remap="tt">mgetty</literal>. La documentación de <literal remap="tt">mgetty</literal>
es bastante buena, y no necesita ningún suplemento.  Por favor, diríjase a
ella para las instrucciones de instalación.  Puede encontrar la última
información sobre <literal remap="tt">mgetty</literal> en <literal remap="tt"><ulink
url="http://www.leo.org/&#732;doering/mgetty/"
>http://www.leo.org/&#732;doering/mgetty/</ulink
></literal>. 
</para>

</sect3>

<sect3>
<title>Acerca de <literal remap="tt">agetty</literal></title>

<para>
<literal remap="tt">agetty</literal> es la tercera variación de <literal remap="tt">getty</literal>. Fue originalmente
escrita por W.Z. Venema, <literal remap="tt">wietse@wzv.win.tue.nl</literal>. Es una simple, y
completamente funcional, implementación de <literal remap="tt">getty</literal> que va mejor con las
consolas virtuales o los terminales que con los módems. 
</para>

</sect3>

</sect2>

<sect2>
<title>¿Qué es <literal remap="tt">setserial</literal>?</title>

<para>
<literal remap="tt">setserial</literal> es un programa que le permite ver y modificar los distintos
atributos de un dispositivo serie, incluyendo las direcciones de los
puertos, las interrupciones, y otras opciones de los puertos serie. Fue
inicialmente escrito por Rick Sladkey, y fue bastante modificado por Ted
T'so, <literal remap="tt">tytso@mit.edu</literal>, que actualmente lo mantiene. Puede saber que
versión tiene ejecutando <literal remap="tt">setserial</literal> sin argumentos. Recomiendo
conseguir la última versión de algún servidor FTP de Linux. 
</para>

<para>
Cuando su sistema Linux arranca, sólo son configurados <literal remap="tt">ttyS&lcub;0-3&rcub;</literal>,
usando las IRQs 3 y 4 por defecto. Por eso, si tiene cualquier otro puerto
serie en otras placas o si <literal remap="tt">ttyS&lcub;0-3&rcub;</literal> tiene una IRQ no estándar,
<emphasis>debe</emphasis> usar este programa para configurar esos puertos serie. Para la
lista completa de opciones, consulte la página man. 
</para>

</sect2>

</sect1>

<sect1 id="dialout">
<title>¿Cómo puedo llamar con mi módem?</title>

<sect2>
<title>Requerimientos de hardware</title>

<para>
Primero, asegúrese de que tiene el cable correcto. El módem requiere un
cable directo, sin pins cruzados. Cualquier tienda de informática puede
tenerlo. Asegúrese de tener el género correcto. Si está usando el puerto
serie DB25, siempre debe ser el DB25 macho. No lo confunda con el puerto
paralelo, que es el DB25 hembra. Conecte su módem a uno de los puertos
serie. Consulte el manual de su módem para saber cómo hacerlo si necesita
ayuda. 
</para>

<sect3>
<title>Notas sobre módems internos</title>

<para>
Para un módem interno, no necesitará un cable. Un módem interno no
necesita un puerto serie, tiene uno interno. Todo lo que necesita hacer es
configurarlo para usar una interrupción que no esté siendo usada, y
configurar la dirección de E/S del puerto. Consulte el manual de su módem
si se atasca. Además, vea la sección <xref linkend="irqaddr"/> si necesita ayuda para elegir las
interrupciones y las direcciones. 
</para>

<para>
En en algunas placas madres tendrá que desconectar el puerto serie que el
módem está suplantando para evitar conflictos. Esto se puede hacer con los
puentes o en la configuración de la BIOS, dependiendo de su placa madre.
Consulte el manual de su placa madre. 
</para>

<para>
Debido a un error en la placa de vídeo IBM8514, puede tener problemas si
quiere poner su módem interno en <literal remap="tt">ttyS3</literal>. Si Linux no detecta su módem
interno en <literal remap="tt">ttyS3</literal>, puede usar <literal remap="tt">setserial</literal> y el módem funcionará
bien. Los módems internos conectados en <literal remap="tt">ttyS&lcub;0-2&rcub;</literal> no deben tener
ningún problema para ser detectados. Linux no efectúa ninguna
autoconfiguración en <literal remap="tt">ttyS3</literal> debido a este error en la placa de vídeo. 
</para>

</sect3>

</sect2>

<sect2>
<title>Hablando con el módem</title>

<para>
Use <literal remap="tt">kermit</literal> o algún otro programa simple de comunicaciones para probar
la configuración, antes de meterse en programas de comunicación más
complejos. (Por razones legales, <literal remap="tt">kermit</literal> no se distribuye en las
distribuciones comerciales. Puede encontrar la última versión de
<literal remap="tt">kermit</literal> en <literal remap="tt"><ulink
url="ftp://sunsite.unc.edu/pub/Linux/apps/comm"
>ftp://sunsite.unc.edu/pub/Linux/apps/comm</ulink
></literal> y servidores
espejo). Por ejemplo, digamos que su módem está en <literal remap="tt">ttyS3</literal>, y su
velocidad es 38400 bps. Puede hacer lo siguiente: 
</para>

<para>

<screen>
linux# kermit
C-Kermit 5A(188), 23 Nov 92, POSIX
Type ? or HELP for help
C-Kermit&#62;set line /dev/cua3
C-Kermit&#62;set speed 38400
/dev/cua3, 38400 bps
C-Kermit&#62;c
Connecting to /dev/cua3, speed 38400.
The escape character is Ctrl-\ (ASCII 28, FS)
Type the escape character followed by C to get back,
or followed by ? to see other options.
ATV1
OK
&#60;ctrl&#62;-\-C
(Back at linux)
C-Kermit&#62;quit
linux#
</screen>

</para>

<para>
Si su módem responde a los comandos <literal remap="tt">AT</literal>, puede suponer que está
funcionando correctamente en lo que respecta a Linux. Intente llamar a
otro módem. Si no le gusta <literal remap="tt">kermit</literal>, pruebe uno de los programas de
comunicaciones más avanzados. Mire en la sección <xref linkend="comms"/> sobre programas de comunicaciones si
necesita una guía. 
</para>

<para>
Cuando llame con su módem, configure la velocidad a la más alta que éste
soporte. Las versiones de Linux con una versión de <literal remap="tt">libc</literal> superior a
5.x tienen soporte para velocidades de hasta 115200 bps. <literal remap="tt">libc</literal>
normalmente está en <literal remap="tt">/lib</literal>, así que mire allí para saber que versión
tiene. Si Linux no reconoce una velocidad de 57600 ó 115200 bps, entonces
debe usar el programa <literal remap="tt">setserial</literal> para configurar el puerto serie a una
velocidad mayor.  Vea la sección <xref linkend="spdhi"/> para saber cómo hacer esto.
Después, configure la velocidad a 38400 bps en el programa de
comunicaciones. 
</para>

</sect2>

<sect2>
<title>Configuración del módem para llamar</title>

<para>
Si sólo va a hacer llamadas, puede configurar el módem como quiera.  Si
tiene la intención de usar el módem para recibir llamadas, <emphasis>debe</emphasis>
configurar el módem a la misma velocidad a la que quiera que funcione
<literal remap="tt">getty</literal>. Es decir, si quiere usar <literal remap="tt">getty</literal> a 38400 bps, ponga la
velocidad a 38400 bps cuando configure el módem. Esto se hace para
prevenir desajustes entre el ordenador y el módem. En general, la
configuración de fábrica, que activa la corrección de errores y el control
de flujo por hardware, es la mejor configuración para hacer llamadas,
consulte el manual de su módem para activar estas opciones. 
</para>

<para>
A mi me gusta ver los códigos resultantes, por eso activo <literal remap="tt">Q0</literal> -
devuelve los códigos resultantes. Para activar esto en mi módem, tengo que
preceder el nombre de registro con el comando <literal remap="tt">AT</literal>.  Usando <literal remap="tt">kermit</literal>
u otro programa de comunicaciones, conéctelo al módem y escriba:
<literal remap="tt">ATQ0</literal>. 
</para>

<para>
También me gusta ver lo que escribo, por eso activo <literal remap="tt">E1</literal> - activa el
eco de comandos. Si su módem tiene capacidad de compresión de datos,
probablemente quiera activarlo.  Consulte el manual de su módem para más
ayuda, y una lista de opciones completa. Si su módem puede grabar la
configuración activa, asegúrese de guardarla (se suele hacer con
<literal remap="tt">AT&amp;W</literal>, pero varia entre los fabricantes de módems), si no
tendrá que configurar los registros cada vez que active el módem, o lo
reinicie. 
</para>

</sect2>

<sect2>
<title>Control de flujo por hardware</title>

<para>
Si su módem soporta el control de flujo por hardware (RTS/CTS), le
recomiendo que lo use. Esto es particularmente importante para módems que
soporten la compresión de datos. Primero, tendrá que activar el control de
flujo RTS/CTS del puerto serie. Es mejor hacerlo en el arranque, en el
fichero <literal remap="tt">/etc/rc.d/rc.local</literal> o <literal remap="tt">/etc/rc.d/rc.serial</literal>.
¡Asegúrese de que estos ficheros son llamados desde el fichero principal
<literal remap="tt">rc.sysinit</literal>!. Necesita hacer lo siguiente para cada puerto serie en
que quiera activar el control de flujo por hardware: 
</para>

<para>

<screen>
stty crtscts &#60; /dev/cuaN
</screen>

</para>

<para>
También debe activar el control de flujo RTS/CTS en el módem.  Consulte el
manual de su módem para saber cómo hacerlo, ya que varía entre fabricantes
de módems. Asegúrese de guardar la configuración del módem si éste soporta
el almacenamiento del perfil.
</para>

</sect2>

</sect1>

<sect1>
<title>¿Cómo puedo llamar y recibir llamadas con mi módem usando <literal remap="tt">getty_ps</literal>?</title>

<para>
Consiga que su módem llame correctamente. Si no ha leído la sección <xref linkend="dialout"/>, <emphasis>¡léala ahora!</emphasis>.
Contiene información de configuración <emphasis>muy</emphasis> importante. No necesita
leer esta sección si lo único que quiere hacer es llamar con el módem. 
</para>

<sect2>
<title>Configuración del módem para llamar y recibir llamadas</title>

<para>
Para llamar y recibir llamadas, <emphasis>tiene</emphasis> que configurar el módem de un
cierto modo (de nuevo, usando los comandos <literal remap="tt">AT</literal> del módem): 
</para>

<para>

<screen>
E1	activa el eco de comandos
Q0	devuelve los codigos resultantes
V1	habilita el codigo de resultados largos (texto)
S0=0	nunca contesta (uugetty hace esto con la opcion WAITFOR)
</screen>

</para>

<para>
Si no configura esto correctamente, la cadena <literal remap="tt">INIT</literal> de su fichero de
configuración puede fallar, echando a perder el proceso completo.  Pero,
más sobre ficheros de configuración después ... 
</para>

<para>

<screen>
&amp;C1	DCD se activa solamente despues de conectar
&amp;S0	DSR siempre esta activo
DTR activa/desactiva el reinicio del modem (depende del fabricante - RTFM)
</screen>

</para>

<para>
Esto afecta a lo que hace su módem cuando inicia o finaliza una llamada. 
</para>

<para>
Si su módem no puede almacenar el perfil, puede usar la cadena <literal remap="tt">INIT</literal>
de su fichero de configuración. Véalo más adelante.  Algunos módems tienen
interruptores DIP que afectan a la configuración de los registros.
Asegúrese de que estén configurados correctamente. 
</para>

<para>
He iniciado una colección de configuraciones para diferentes tipos de
módems. Hasta ahora sólo tengo unos pocos, si desea enviarme una
configuración que funcione, por favor, ¡hágalo!.  Puede conseguirla en
<literal remap="tt"><ulink
url="ftp://ftp.cc.gatech.edu/pub/people/gregh/modem-configs"
>ftp://ftp.cc.gatech.edu/pub/people/gregh/modem-configs</ulink
></literal>. 
</para>

<para>
Nota: para conseguir que mi módem USR Courier V.34 se reinicie
correctamente cuando se desactiva el DTR, he tenido que activar
<literal remap="tt">&amp;D2</literal> y <literal remap="tt">S13=1</literal> (esto activa el bit 0 del registro S13).  Se ha
confirmado que esto funciona igualmente en módems USR Sportster V.34. 
</para>

<para>
Nota: algunos módems Supra tratan el DCD de modo diferente a otros módems.
Si está usando un Supra, pruebe a poner <literal remap="tt">&amp;C0</literal> y <emphasis>no</emphasis>
<literal remap="tt">&amp;C1</literal>. También debe poner <literal remap="tt">&amp;D2</literal> para manejar el DTR
correctamente. 
</para>

</sect2>

<sect2>
<title>Instalación de <literal remap="tt">getty_ps</literal></title>

<para>
Consiga la última versión en <literal remap="tt"><ulink
url="ftp://sunsite.unc.edu:/pub/Linux/system/Serial"
>sunsite.unc.edu:/pub/Linux/system/Serial</ulink
></literal>.  Por defecto,
<literal remap="tt">getty_ps</literal> se configura para usar la norma FSSTND (<emphasis remap="bf">F</emphasis>ile<emphasis remap="bf">S</emphasis>ystem
<emphasis remap="bf">ST</emphasis>a<emphasis remap="bf">ND</emphasis>ard) de Linux, lo cual significa que los binarios estarán
en <literal remap="tt">/sbin</literal>, y los ficheros de configuración se llamarán
<literal remap="tt">/etc/conf.&lcub;uu&rcub;getty.ttyS</literal><emphasis>N</emphasis>.  ¡Esto no está claro en la
documentación!. También se espera que los ficheros de bloqueo estén en
<literal remap="tt">/var/lock</literal>. Asegúrese de que existe el directorio
<literal remap="tt">/var/lock</literal>. 
</para>

<para>
Si no quiere usar la norma FSSTND, los binarios pueden ir en
<literal remap="tt">/etc</literal>, los ficheros de configuración pueden ir en
<literal remap="tt">/etc/default/&lcub;uu&rcub;getty.ttyS</literal><emphasis>N</emphasis>, y los ficheros de bloqueo
pueden ir en <literal remap="tt">/usr/spool/uucp</literal>. Recomiendo hacer las cosas de esto
modo si está usando UUCP, porque UUCP puede tener problemas si mueve los
ficheros de bloqueo a donde no los busca. 
</para>

<para>
<literal remap="tt">getty_ps</literal> también puede usar <literal remap="tt">syslogd</literal> para guardar los mensajes.
Vea las páginas man de <literal remap="tt">syslogd(1)</literal> y <literal remap="tt">syslog.conf(5)</literal> para
configurar <literal remap="tt">syslogd</literal>, si no lo tiene funcionando todavía. Los mensajes
se guardan con prioridad LOG_AUTH, los errores usan LOG_ERR, y la
depuración usa LOG_DEBUG. Si no quiere usar <literal remap="tt">syslogd</literal> puede editar
<literal remap="tt">tune.h</literal> en los ficheros fuente de <literal remap="tt">getty_ps</literal> para usar otro fichero
de almacenamiento en su lugar, llamado <literal remap="tt">/var/adm/getty.log</literal> por
defecto. 
</para>

<para>
Decida si quiere usar la norma FSSTND y la capacidad syslog. También puede
elegir una combinación de ambos. Edite los ficheros <literal remap="tt">Makefile</literal>,
<literal remap="tt">tune.h</literal> y <literal remap="tt">config.h</literal> para reflejar sus decisiones. Después compile
e instale siguiendo las instrucciones incluidas en el paquete. 
</para>

<para>
A partir de este punto, todas las referencias a <literal remap="tt">getty_ps</literal> se referirán
a <literal remap="tt">getty_ps</literal>. Las referencias a <literal remap="tt">uugetty</literal> se referirán a
<literal remap="tt">uugetty</literal> que viene con el paquete <literal remap="tt">getty_ps</literal>.  Estas instrucciones
no funcionarán en <literal remap="tt">mgetty</literal> o <literal remap="tt">agetty</literal>. 
</para>

</sect2>

<sect2>
<title>Configurando <literal remap="tt">uugetty</literal></title>

<para>
Para recibir llamadas y llamar con su módem, vamos a usar <literal remap="tt">uugetty</literal>.
<literal remap="tt">uugetty</literal> hace importantes comprobaciones de los ficheros de bloqueo.
Actualice <literal remap="tt">/etc/gettydefs</literal> para incluir las entradas de los módems
si todavía no están allí (nótese que cada entrada apunta a otra, esto no
es para velocidades fijas - las líneas en blanco son necesarias entre cada
entrada): 
</para>

<para>

<screen>
# Entradas del modem
38400# B38400 CS8 # B38400 SANE -ISTRIP HUPCL #@S @L @B login: #19200

19200# B19200 CS8 # B19200 SANE -ISTRIP HUPCL #@S @L @B login: #9600

9600# B9600 CS8 # B9600 SANE -ISTRIP HUPCL #@S @L @B login: #2400

2400# B2400 CS8 # B2400 SANE -ISTRIP HUPCL #@S @L @B login: #1200

1200# B1200 CS8 # B1200 SANE -ISTRIP HUPCL #@S @L @B login: #300

300# B300 CS8 # B300 SANE -ISTRIP HUPCL #@S @L @B login: #38400
</screen>

</para>

<para>
Si tiene un módem de 9600 bps o más rápido con compresión de datos, puede
bloquear la velocidad del puerto serie y permitir que el módem controle
las transiciones a otras velocidades. Entonces, en vez de la serie
descendente de líneas listadas antes, <literal remap="tt">/etc/gettydefs</literal> sólo
necesita contener una línea para el módem: 
</para>

<para>

<screen>
# velocidad fijada a 38400
F38400# B38400 CS8 # B38400 SANE -ISTRIP HUPCL #@S @L @B login: #F38400

# velocidad fijada a 19200
F19200# B19200 CS8 # B19200 SANE -ISTRIP HUPCL #@S @L @B login: #F19200

# velocidad fijada a 9600
F9600# B9600 CS8 # B9600 SANE -ISTRIP HUPCL #@S @L @B login: #F9600
</screen>

</para>

<para>
Si tiene configurado su modem con control de flujo por hardware RTS/CTS,
puede añadir <literal remap="tt">CRTSCTS</literal> a las entradas: 
</para>

<para>

<screen>
# velocidad fijada a 38400 con control de flujo por hardware
F38400# B38400 CS8 CRTSCTS # B38400 SANE -ISTRIP HUPCL CRTSCTS #@S @L @B login: #F38400

# velocidad fijada a 19200 con control de flujo por hardware
F19200# B19200 CS8 CRTSCTS # B19200 SANE -ISTRIP HUPCL CRTSCTS #@S @L @B login: #F19200

F9600# B9600 CS8 CRTSCTS # B9600 SANE -ISTRIP HUPCL CRTSCTS #@S @L @B login: #F9600
</screen>

</para>

<para>
Si quiere, puede hacer que <literal remap="tt">uugetty</literal> escriba cosas interesantes en el
mensaje de login. En los ejemplos, tenemos el nombre del sistema, la línea
serie, y la velocidad actual en bps. Puede añadir otras cosas: 
</para>

<para>

<screen>
       @B    Velocidad actual en bps (calculada en el momento que se lee @B).
       @D    Fecha actual, en MM/DD/AA.
       @L    Linea serie a la cual está conectado getty.
       @S    Nombre del sistema.
       @T    Hora actual, en HH:MM:SS (24 horas).
       @U    Numero de usuarios actualmente conectados. Esto es, el numero
             de entradas en el fichero /etc/utmp que tienen un campo ut_name
             no nulo.
       @V    Valor de VERSION, dado en el fichero de opciones por defecto.
       Para que se vea el carácter '@', use '\@' o '@@'.
</screen>

</para>

<para>
Después, asegúrese de que tiene un dispositivo de entrada y otro de salida
para el puerto serie en que esté el módem. Si tiene el módem en
<literal remap="tt">ttyS3</literal>, necesitará los dispositivos <literal remap="tt">/dev/cua3</literal> y
<literal remap="tt">/dev/ttyS3</literal>. Si no tiene los dispositivos adecuados, vea la
sección <xref linkend="dev"/>
para saber como crearlos. 
</para>

</sect2>

<sect2>
<title><literal remap="tt">uugety</literal> a medida</title>

<para>
Existen un montón de parámetros que puede configurar para cada puerto.
Están implementados en distintos ficheros de configuración para cada
puerto. El fichero <literal remap="tt">/etc/conf.uugetty</literal> será usado por <emphasis>cada</emphasis>
ejecución de <literal remap="tt">uugetty</literal>, y <literal remap="tt">/etc/conf.uugetty.ttyS</literal><emphasis>N</emphasis> será
usado solamente para ese puerto. Se pueden encontrar ejemplos de ficheros
de configuración por defecto en los ficheros fuentes de <literal remap="tt">getty</literal>, que
viene con la mayoría de las distribuciones de Linux. Debido a lo que
ocupan, no lo vamos a listar aquí. Nótese que si está usando una versión
antigua de <literal remap="tt">getty</literal> (anterior a la 2.0.7e), o no está usando FSSTND,
entonces el fichero por defecto debe ser
<literal remap="tt">/etc/default/uugetty.ttyS</literal><emphasis>N</emphasis>. Mi fichero
<literal remap="tt">/etc/conf.uugetty.ttyS3</literal> es como sigue: 
</para>

<para>

<screen>
# ejemplo de fichero de configuracion de uugetty para un modem compatible 
# Hayes para permitir las conexiones a traves de módem 
# 
# fichero de bloqueo alternativo a comprobar ... si este fichero de bloqueo
# existe, entonces uugetty se ejecuta de nuevo y el modem se reinicia
ALTLOCK=cua3
ALTLINE=cua3
# línea a inicializar
INITLINE=cua3
# tiempo para desconectar si está inactivo ...
TIMEOUT=60
# cadena de inicializacion del modem ...
# formato: &#60;esperado&#62; &#60;enviado&#62; ... (secuencia de chat)
INIT="" AT\r OK\r\n
WAITFOR=RING
CONNECT="" ATA\r CONNECT\s\A
# esta linea configura el tiempo de espera antes de enviar el mensaje de login
DELAY=1
#DEBUG=010
</screen>

</para>

<para>
Añada la siguiente línea a <literal remap="tt">/etc/inittab</literal>, así <literal remap="tt">uugetty</literal> se
ejecutará en el puerto serie (sustituyéndolo por la información correcta
para su entorno - localización del fichero de configuración, puerto,
velocidad, y tipo de terminal por defecto): 
</para>

<para>

<screen>
S3:456:respawn:/sbin/uugetty -d /etc/default/uugetty.ttyS3 ttyS3 F38400 vt100
</screen>

</para>

<para>
Vuelva a ejecutar <literal remap="tt">init</literal>: 
</para>

<para>

<screen>
linux# init q
</screen>

</para>

<para>
En el parámetro de velocidad de <literal remap="tt">/etc/inittab</literal>, debe poner la
velocidad en bps más alta que soporte su módem. Ya que <literal remap="tt">uugetty</literal> no
soporta velocidades de 57600 ó 115200 bps, debe usar el programa
<literal remap="tt">setserial</literal> para configurar el puerto serie a una velocidad
superior. Vea la sección <xref linkend="spdhi"/> para saber cómo hacer esto.
Entonces, ponga 38400 bps en <literal remap="tt">/etc/inittab</literal>. 
</para>

<para>
Ahora Linux vigilará el puerto serie por posibles conexiones.  Llame desde
otro sitio y conéctese a su sistema Linux. 
</para>

<para>
<literal remap="tt">uugetty</literal> tiene muchas opciones, vea la página man de <literal remap="tt">getty(1m)</literal>
para una descripción completa. Además de otras cosas hay una
característica de planificación y otra de rellamada. 
</para>

</sect2>

</sect1>

<sect1>
<title>¿Cómo puedo tener un terminal conectado a mi PC?</title>

<para>
Las instrucciones de esta sección sirven para la conexión de terminales,
así como otros ordenadores a un puerto serie de su sistema Linux. 
</para>

<sect2>
<title>Hardware requerido</title>

<para>
Asegúrese de tener el cable correcto. Un cable de módem nulo comprado en
cualquier tienda de informática puede valer. ¡Pero debe ser un cable de
<emphasis>modem nulo</emphasis>!. Muchas tiendas de informática venden este tipo de cable
como cable serie de impresora. Asegúrese de estar usando el puerto serie,
el DB25 o el DB9 macho, y no el puerto paralelo (DB25 hembra o
Centronics). 
</para>

<para>
Para un conector DB25, necesita como mínimo:
</para>

<para>
DB25 macho en el PC			DB25 en el Terminal
TxD   Transmision de datos  2 --&#62; 3	RxD   Recepcion de datos
RxD   Recepcion de datos    3 &#60;-- 2	TxD   Transmision de datos
SG    Tierra		    7 --- 7	SG    Tierra
</para>

<para>
Si quiere tener señales de sincronización del hardware, debe tener
un cable completo de módem nulo:
</para>

<para>
DB25 macho del PC			DB25 del terminal
TxD  Transmision de datos   2 --&#62; 3	RxD  Recepcion de datos
RxD  Recepcion de datos     3 &#60;-- 2	TxD  Transmision de datos
RTS  Peticion de envio      4 --&#62; 5	CTS  Listo para envio
CTS  Listo para envio       5 &#60;-- 4	RTS  Peticion de envio
DSR  Modem listo	    6
			    |
DCD  Deteccion de portadora 8 &#60;-- 20	DTR  Terminal listo
SG   Tierra		    7 --- 7     SG   Tierra
				  6	DSR  Modem listo
				  |
DTR  Terminal listo	   20 --&#62; 8	DCD  Deteccion de portadora
</para>

<para>
Si tiene un conector DB9 en el puerto serie, intente lo siguiente:
</para>

<para>
DB9 del PC				DB25 del terminal
RxD  Recepcion de datos     2 &#60;-- 2	TxD  Transmision de datos
TxD  Transmision de datos   3 --&#62; 3	RxD  Recepcion de datos
SG   Tierra 		    5 --- 7	SG   Tierra
</para>

<para>
Alternativamente, un cable completo DB9-DB25 de módem nulo:
</para>

<para>
DB9 del PC				DB25 del terminal
RxD  Recepcion de datos     2 &#60;-- 2	TxD  Transmision de datos
TxD  Transmision de datos   3 --&#62; 3	RxD  Recepcion de datos
				  6	DSR  Modem listo
				  |
DTR  Terminal listo	    4 --&#62; 8	DCD  Deteccion de portadora
GND  Tierra		    5 --- 7	GND  Tierra
DCD  Deteccion de portadora 1
			    |
DSR  Modem listo	    6 &#60;-- 20	DTR  Terminal listo
RTS  Peticion de envio	    7 --&#62; 5	CTS  Listo para envio
CTS  Listo para envio	    8 &#60;-- 4	RTS  Peticion de envio
(RI  Indicador de llamada   9, no se necesita)
</para>

<para>
(Efectivamente, ¡los pins 2 y 3 <emphasis>realmente</emphasis> tienen significados
opuestos en los conectores DB9 a los que tienen en los conectores DB25!)
</para>

<para>
Si no está usando un cable completo de módem nulo, deberá hacer el
siguiente truco: en la parte del conector que va al ordenador, conecte
juntos RTS y CTS, y además conecte juntos DSR, DCD y DTR. De este modo,
cuando el ordenador busque una cierta señal de sincronismo, la cogerá (de
él mismo). 
</para>

<para>
Ahora que tiene el tipo de cable adecuado, conecte el terminal al
ordenador. Si puede, dígale al terminal que ignore las señales de control
de módem. Pruebe a configurar el terminal a 9600 bps, 8 bits de datos, 1
bit de parada y sin bit de paridad. 
</para>

</sect2>

<sect2>
<title>Configurando <literal remap="tt">getty</literal></title>

<para>
Añada las siguientes entradas en <literal remap="tt">/etc/gettydefs</literal> para usar
<literal remap="tt">getty</literal> en su terminal, si todavía no están allí: 
</para>

<para>

<screen>
# Entrada para un terminal no-inteligente a 38400 bps
DT38400# B38400 CS8 CLOCAL # B38400 SANE -ISTRIP CLOCAL #@S @L login: #DT38400

# Entrada para un terminal no-inteligente a 19200 bps
DT19200# B19200 CS8 CLOCAL # B19200 SANE -ISTRIP CLOCAL #@S @L login: #DT19200

# Entrada para un terminal no-inteligente a 9600 bps
DT9600# B9600 CS8 CLOCAL # B9600 SANE -ISTRIP CLOCAL #@S @L login: #DT9600
</screen>

</para>

<para>
Si lo desea, puede hacer que <literal remap="tt">getty</literal> imprima cosas interesantes en el
mensaje de login. En los ejemplos, imprime el nombre del sistema y la línea
serie. Puede añadir más cosas: 
</para>

<para>

<screen>
@B    Velocidad actual en bps (calculada en el momento que se lee @B).
@D    Fecha actual, en MM/DD/AA.
@L    Linea serie a la cual esta conectado getty.
@S    Nombre del sistema.
@T    Hora actual, en HH:MM:SS (24 horas).
@U    Numero de usuarios actualmente conectados. Esto es, el numero
      de entradas en el fichero /etc/utmp que tienen un campo ut_name
      no nulo.
@V    Valor de VERSION, dado en el fichero de opciones por defecto.
Para que se vea el caracter '@', use '\@' o '@@'.

</screen>

</para>

<para>
Asegúrese de que no existe un fichero de configuración de <literal remap="tt">getty</literal> o
<literal remap="tt">uugetty</literal> para el puerto serie al que está conectado el terminal
(<literal remap="tt">/etc/default/&lcub;uu&rcub;getty.ttyS</literal><emphasis>N</emphasis> o
<literal remap="tt">/etc/conf.&lcub;uu&rcub;getty.ttyS</literal><emphasis>N</emphasis>), ya que probablemente esto
interferirá si ejecuta <literal remap="tt">getty</literal> en un terminal. Borre el fichero si
existe.
</para>

<para>
Edite el fichero <literal remap="tt">/etc/inittab</literal> para ejecutar <literal remap="tt">getty</literal> en un
puerto serie (substituya la información por la correcta para su entorno -
puerto, velocidad, y tipo de terminal por defecto): 
</para>

<para>

<screen>
S1:456:respawn:/sbin/getty ttyS1 DT9600 vt100
</screen>

</para>

<para>
Vuelva a ejecutar <literal remap="tt">init</literal>:
</para>

<para>

<screen>
linux# init q 
</screen>

</para>

<para>
Ahora, debería estar viendo una petición de login en el terminal.  Debe
pulsar return para conseguir la atención del terminal. 
</para>

</sect2>

<sect2>
<title>Notas sobre cómo configurar un PC como terminal</title>

<para>
Mucha gente configura otros PCs como terminales conectados a un sistema
Linux. Por ejemplo, un viejo 8088 u 80286 es perfecto para este propósito.
Todo lo que necesita es un disco de arranque de DOS que contenga una
versión de DOS apropiada para un terminal-PC, y un programa de
comunicaciones para ejecutar en el terminal-PC. 
</para>

<para>
<literal remap="tt">kermit</literal> funciona muy bien para esto. Puede encontrar versiones
precompiladas de <literal remap="tt">kermit</literal> para casi todos los SO que existen en
<literal remap="tt"><ulink
url="ftp://watsun.cc.columbia.edu/pub/ftp/kermit"
>ftp://watsun.cc.columbia.edu/pub/ftp/kermit</ulink
></literal>. Otros programas
de comunicaciones populares de DOS, como <literal remap="tt">Telix</literal> y <literal remap="tt">procomm</literal>
funcionan igual de bien. Asegúrese de introducir la información del puerto
serie en la configuración de comunicaciones del terminal-PC. 
</para>

</sect2>

</sect1>

<sect1 id="irqaddr">
<title>¿Puedo usar más de dos dispositivos serie?</title>

<para>
No necesita leer esta sección, a menos que quiera usar tres o más
dispositivos serie... (suponiendo que tiene una placa multipuerto). 
</para>

<para>
Suponiendo que tiene otro puerto serie sin usar, sí, puede. El número de
puertos serie que puede usar está limitado por el número de interrupciones
(IRQs) y direcciones de puertos de E/S que tengamos disponibles. Esto no
es una limitación de Linux, es una limitación del bus del PC. Cada
dispositivo serie debe tener asignado una interrupción propia y una
dirección. Un dispositivo serie puede ser un puerto serie, un módem
interno, o una placa serie multipuerto. 
</para>

<para>
Las placas serie multipuerto están especialmente diseñadas para tener
múltiples puertos serie que comparten la misma IRQ. Linux obtiene los
datos de ellos usando una dirección de E/S para cada puerto de la placa. 
</para>

<sect2>
<title>Eligiendo las interrupciones de los dispositivos serie</title>

<para>
El PC normalmente viene con <literal remap="tt">ttyS0</literal> y <literal remap="tt">ttyS2</literal> en la IRQ 4, y
<literal remap="tt">ttyS1</literal> y <literal remap="tt">ttyS4</literal> en la IRQ 3. Puede saber que IRQs están usándose
viendo <literal remap="tt">/proc/interrupts</literal>. Para usar más de dos dispositivos serie,
debe reasignar las interrupciones. Una buena elección es reasignar una
interrupción del puerto paralelo. El PC normalmente viene con IRQ 5 e IRQ
7 configuradas como interrupciones para los puertos paralelos, pero poca
gente usa dos puertos paralelos. Puede reasignar una de las interrupciones
a un dispositivo serie, y aún usar felizmente un puerto paralelo. 
Necesitará el programa <literal remap="tt">setserial</literal> para hacer esto. Además, tendrá que
jugar con los puentes de su placa, vea los documentos de su placa. Ponga
los puentes para la IRQ que quiera para cada puerto. 
</para>

<para>
Necesitará configurar algunas cosas, ya que hay una, y solamente una
interrupción para cada dispositivo serie. Así es como tengo mi
configuración en <literal remap="tt">/etc/rc.d/rc.local</literal> - debe hacerlo donde quiera
que tenga su fichero de inicialización: 
</para>

<para>

<screen>
/sbin/setserial /dev/cua0 irq 3	     # mi raton serie
/sbin/setserial /dev/cua1 irq 4	     # mi terminal Wyse no-inteligente
/sbin/setserial /dev/cua2 irq 5	     # mi modem Zoom
/sbin/setserial /dev/cua3 irq 9	     # mi modem USR
</screen>

</para>

<para>
Asignación estándar de IRQ:
</para>

<para>
              IRQ  0    Reloj en el canal 0
              IRQ  1    Teclado
              IRQ  2    Cascada para el controlador 2 
              IRQ  3    Puerto serie 2
              IRQ  4    Puerto serie 1
              IRQ  5    Puerto paralelo 2
              IRQ  6    Disquetera
              IRQ  7    Puerto paralelo 1
              IRQ  8    Reloj de tiempo real (24 horas)
              IRQ  9    Redireccionada a IRQ 2
              IRQ 10    no asignada
              IRQ 11	no asignada
              IRQ 12	no asignada
              IRQ 13    Coprocesador matematico
              IRQ 14    Controlador de disco duro 1
              IRQ 15    Controlador de disco duro 2
</para>

<para>
No existen realmente un Modo Correcto de hacer las cosas cuando se eligen
las interrupciones. Sólo asegúrese de que no las está usando la placa
madre, o cualquier otra placa. 2, 3, 4, 5, ó 7 son buenas elecciones. 
``no asignada'' significa que actualmente nada estándar usa estas IRQs.
Nótese también que la IRQ 2 es la misma que la IRQ 9. Puede llamarlo 2 ó
9, el controlador serie lo entenderá. Si tiene una placa serie con un
conector de 16 bits, también puede usar las IRQ 10, 11, 12 ó 15.  
</para>

<para>
¡Sólo asegúrese de no usar las IRQs 0, 1, 6, 8, 13 ó 14!. Estas son usadas
por la placa madre. La hará muy desgraciada si coge sus IRQs. Cuando lo
haga, compruebe otra vez <literal remap="tt">/proc/interrupts</literal> y asegúrese de que no
haya conflictos. 
</para>

</sect2>

<sect2>
<title>Configurando las direcciones de los dispositivos serie</title>

<para>
El siguiente paso es configurar la dirección del puerto. Vea el manual de
su placa para configurar los puentes. Como las interrupciones, puede haber
sólo un dispositivo serie en cada dirección. Los puertos suelen venir
configurados de la siguiente manera: 
</para>

<para>

<screen>
ttyS0 direccion 0x3f8
ttyS1 direccion 0x2f8
ttyS2 direccion 0x3e8
ttyS3 direccion 0x2e8
</screen>

</para>

<para>
Elija la dirección que desee para cada dispositivo serie que tenga y
configure los puentes en concordancia. Tengo mi módem en <literal remap="tt">ttyS3</literal>, el
ratón en <literal remap="tt">ttyS0</literal>, y el terminal en <literal remap="tt">ttyS2</literal>. 
</para>

<para>
Cuando arranque de nuevo, Linux debería ver los puertos serie en las
direcciones en las que lo ha definido. La IRQ que Linux ve puede que no
corresponda a la IRQ que ha configurado con los puentes. No se preocupe
por esto. Linux no hace ninguna detección de IRQ mientras arranca, porque
la detección de IRQ no es fiable y puede ser falsa. Use <literal remap="tt">setserial</literal>
para decirle a Linux que IRQ está usando el puerto. Puede ver
<literal remap="tt">/proc/ioports</literal> para saber que direcciones del puerto de E/S está
usando Linux después de arrancar. 
</para>

</sect2>

</sect1>

<sect1 id="spdhi">
<title>¿Cómo puedo configurar el puerto serie para velocidades altas? ¿qué
velocidad debo usar con mi módem?</title>

<para>
Esta sección le ayudará a calcular la velocidad a usar cuando use su módem
con un programa de comunicaciones, o con un programa <literal remap="tt">getty</literal>. 
</para>

<para>

<itemizedlist>
<listitem>

<para>
Si tiene algo más lento que un módem de 9600 bps (V.32), configure
la velocidad a la más alta que su módem soporte. Por ejemplo 300 bps
(V.21/Bell 103), 1200 bps (V.22/Bell 212A), ó 2400 bps (V.22bis). 

</para>
</listitem>
<listitem>

<para>
Si tiene un módem de 9600 bps (V.32), con compresión de datos
V.42bis, ponga la velocidad a 38400 bps .  La compresión V.42bis tiene una
velocidad <emphasis>teórica</emphasis> de 4:1, es decir ``4 * 9600 = 38400''. 

</para>
</listitem>
<listitem>

<para>
Si tiene un módem de 14400 bps (V.32bis), con compresión de datos
V.42bis, use <literal remap="tt">setserial</literal> con el parámetro <literal remap="tt">spd_hi</literal> para configurar
el puerto serie a 57600 bps (4 * 14400 = 57600). 

Use el parámetro <literal remap="tt">spd_hi</literal> si tiene un módem a 28800 ó 33600 bps (V.FC o
V.34) (4 * 28800 = 115200). 

Después, use la velocidad de 38400 bps en su programa de comunicaciones, o
en <literal remap="tt">/etc/inittab</literal>. Esta es ahora la velocidad más alta que ha
configurado. Asegúrese de tener UARTs 16550A. 

Si su versión de libc es por lo menos 5.x, debe haber velocidades llamadas
57600 y 115200. <literal remap="tt">libc</literal> está en <literal remap="tt">/lib</literal>, así que mire allí para
saber que versión tiene. Puede usar esto directamente (sin usar
<literal remap="tt">setserial</literal>), si sus aplicaciones han sido compiladas para usarlas.
Existen muchas distribuciones por ahí, así que lo mejor que puede hacer es
probar las velocidades más altas si tiene una versión reciente de una
distribución Linux. 
</para>
</listitem>

</itemizedlist>

</para>

<para>
Compruebe primero la configuración de <literal remap="tt">setserial</literal> en la línea de
comandos, y después cuando esté funcionando, póngalo en
<literal remap="tt">/etc/rc.d/rc.serial</literal> o <literal remap="tt">/etc/rc.d/rc.local</literal>, yo he puesto
<literal remap="tt">ttyS3</literal> a 115200 bps escribiendo: 
</para>

<para>

<screen>
/sbin/setserial /dev/cua3 spd_vhi
</screen>

</para>

<para>
Asegúrese de estar usando un path válido para <literal remap="tt">setserial</literal>, y un nombre
válido para el dispositivo. Puede comprobar la configuración de un puerto
serie ejecutando: 
</para>

<para>

<screen>
setserial -a /dev/cuaN
</screen>

</para>

</sect1>

<sect1 id="comms">
<title>Programas de comunicaciones y utilidades</title>

<para>
Una vez que todo esté funcionando, puede querer echar un vistazo a
programas más avanzados. Todos están asequibles en los servidores
habituales de FTP, si no vienen ya con su distribución. 
</para>

<para>

<itemizedlist>
<listitem>

<para>
<literal remap="tt">ecu</literal> - un programa de comunicaciones
</para>
</listitem>
<listitem>

<para>
<literal remap="tt">minicom</literal> - programa de comunicaciones parecido a <literal remap="tt">telix</literal>
</para>
</listitem>
<listitem>

<para>
<literal remap="tt">procomm</literal> - programa de comunicaciones con zmodem parecido a <literal remap="tt">procomm</literal>
</para>
</listitem>
<listitem>

<para>
<literal remap="tt">seyon</literal> - programa de comunicaciones basado en X
</para>
</listitem>
<listitem>

<para>
<literal remap="tt">xc</literal> - paquete de comunicaciones xcomm
</para>
</listitem>

</itemizedlist>

</para>

<para>
Estos programas ofrecen más herramientas que <literal remap="tt">kermit</literal> solo, incluyendo
agenda telefónica, auto-marcado y cosas por el estilo. 
</para>

<para>

<itemizedlist>
<listitem>

<para>
Otros programas muy útiles son <literal remap="tt">term</literal> y <literal remap="tt">SLirP</literal>. Ofrecen
funcionalidad TCP/IP usando una cuenta de la shell. 

</para>
</listitem>
<listitem>

<para>
<literal remap="tt">screen</literal> es otro programa multi-sesión. Se comporta igual que las
consolas virtuales. 

</para>
</listitem>
<listitem>

<para>
<literal remap="tt">callback</literal> es un programa que hace que su módem le llame al lugar
de donde usted le ha llamado. 

</para>
</listitem>
<listitem>

<para>
<literal remap="tt">getty+fax</literal> controla las cosas del FAX, y provee un <literal remap="tt">getty</literal>
alternativo. 

</para>
</listitem>
<listitem>

<para>
<literal remap="tt">ZyXEL</literal> es un programa de control para los módems ZyXEL U-1496.
Controla las llamadas entrantes, llamadas de respuesta de seguridad,
enviar FAX, y funciones de buzón de voz. 

</para>
</listitem>
<listitem>

<para>
El software de SLIP y PPP se puede encontrar en <literal remap="tt"><ulink
url="ftp://sunsite.unc.edu/pub/Linux/system/Network/serial"
>ftp://sunsite.unc.edu/pub/Linux/system/Network/serial</ulink
></literal>. 

</para>
</listitem>
<listitem>

<para>
Se puede encontrar otras cosas en <literal remap="tt"><ulink
url="ftp://sunsite.unc.edu/pub/Linux/system/Serial"
>ftp://sunsite.unc.edu/pub/Linux/system/Serial</ulink
></literal> y <literal remap="tt"><ulink
url="ftp://sunsite.unc.edu/pub/Linux/apps/comm"
>ftp://sunsite.unc.edu/pub/Linux/apps/comm</ulink
></literal> o uno de los muchos
servidores espejo. Estos son los directorios donde se están manteniendo
los programas serie. 

</para>
</listitem>

</itemizedlist>

</para>

</sect1>

<sect1>
<title>Trucos serie y misceláneas</title>

<para>
 
</para>

<para>
Aquí vienen algunos trucos serie que puede encontrar útiles ...
</para>

<sect2>
<title><literal remap="tt">kermit y zmodem</literal></title>

<para>
Para usar zmodem con <literal remap="tt">kermit</literal>, añada lo siguiente a <literal remap="tt">.kermc</literal>: 
</para>

<para>

<screen>
define rz !rz &#60; /dev/cuaN &#62; /dev/cuaN
define sz !sz \%0 &#62; /dev/cuaN &#60; /dev/cuaN
</screen>

</para>

<para>
Asegúrese de poner el puerto correcto en el que está el módem.  Después,
para usarlo, solamente escriba <literal remap="tt">rz</literal> o <literal remap="tt">sz
&lt;nombre_de_fichero&gt;</literal> en la línea de comandos de <literal remap="tt">kermit</literal>. 
</para>

</sect2>

<sect2>
<title>Activando los tipos de terminal automágicamente</title>

<para>
Para activar automágicamente un tipo de terminal cuando se conecte,
añádalo al fichero <literal remap="tt">/etc/inittab</literal>. Si tengo un terminal vt100 en
<literal remap="tt">ttyS1</literal>, debo añadir ``vt100'' al comando <literal remap="tt">getty</literal>: 
</para>

<para>

<screen>
S1:456:respawn:/sbin/getty ttyS1 DT9600 vt100
</screen>

</para>

<para>
También puede conseguir <literal remap="tt">tset</literal> en <literal remap="tt"><ulink
url="ftp://sunsite.unc.edu:/pub/Linux/system/Terminal-management"
>ftp://sunsite.unc.edu:/pub/Linux/system/Terminal-management</ulink
></literal> o
en un servidor espejo. Vea los documentos que vienen con <literal remap="tt">tset</literal> para
aprender como usarlo. <literal remap="tt">tset</literal> puede establecer las características de un
terminal cuando usted se conecte, y no depende de ninguna opción por
defecto. 
</para>

</sect2>

<sect2>
<title><literal remap="tt">ls</literal> en color en conexiones serie</title>

<para>
Si <literal remap="tt">ls</literal> está causando problemas en la emulación del terminal con la
opción de color, desconéctela. <literal remap="tt">ls --color</literal>, y <literal remap="tt">ls --colour</literal> usan
las características de color. Algunas instalaciones tienen <literal remap="tt">ls</literal>
preparado para usar el color por defecto. Busque en <literal remap="tt">/etc/profile</literal>
y <literal remap="tt">/etc/csh.cshrc</literal> alias de <literal remap="tt">ls</literal>.  También puede ponerle el
alias <literal remap="tt">ls --no-color</literal> a <literal remap="tt">ls</literal>, si no quiere cambiar la configuración
por defecto del sistema. 
</para>

</sect2>

<sect2>
<title>Imprimiendo en una impresora conectada a un terminal</title>

<para>
	
</para>

<para>
Hay un programa llamado <literal remap="tt">vtprint</literal> que hace esto, escrito por Garrett
D'Amore, <literal remap="tt">garrett@sdsu.edu</literal>. Está disponible en <literal remap="tt"><ulink
url="ftp://ftp.sdsu.edu/pub/vtprint"
>ftp://ftp.sdsu.edu/pub/vtprint</ulink
></literal>, y en <literal remap="tt"><ulink
url="http://www.sdsu.edu/&#732;garrett"
>http://www.sdsu.edu/&#732;garrett</ulink
></literal>. Lo siguiente ha sido
extraído del fichero <literal remap="tt">README</literal> que viene con el programa: 
</para>

<para>
<quote
>vtprint es un programa que permite a los usuarios imprimir desde un
anfitrión Unix remoto a una impresora conectada a un terminal local o
emulador, lo cual es perfecto para imprimir ficheros en casa, etc. (Sólo
con ficheros de texto, creo.) </quote
>
</para>

</sect2>

<sect2>
<title>¿Puede linux configurar los dispositivos serie automágicamente?</title>

<para>
Sí. Para conseguir que Linux detecte y configure los dispositivos serie
automáticamente al arrancar, añada la línea: 
</para>

<para>

<screen>
/sbin/setserial /dev/cuaN auto_irq skip_test autoconfig
</screen>

</para>

<para>
al fichero <literal remap="tt">/etc/rc.d/rc.local</literal> o <literal remap="tt">/etc/rc.d/rc.serial</literal>. 
Haga esto para cada puerto serie que quiera que se autoconfigure. 
Asegúrese de poner un nombre de dispositivo que realmente exista en su
máquina. 
</para>

<sect3>
<title>Notas sobre placas multipuerto</title>

<para>
Para direcciones de placas, e IRQs, mire en <literal remap="tt">rc.serial</literal> que viene con
el programa <literal remap="tt">setserial</literal>. Trae muchos detalles sobre placas multipuerto,
incluyendo las direcciones de E/S y los nombres de los dispositivos. 
</para>

</sect3>

</sect2>

</sect1>

<sect1>
<title>Un paso más ...</title>

<para>
Esta sección no necesita ser leída, pero puede ayudarle a comprender algo
mejor el Unix, y el mundo de las telecomunicaciones. 
</para>

<sect2>
<title>¿Qué son los ficheros de bloqueo?</title>

<para>
Un fichero de bloqueo es simplemente un fichero que dice que dispositivo
se está usando. Están en <literal remap="tt">/usr/spool/uucp</literal>, o <literal remap="tt">/var/lock</literal>.
Los ficheros de bloqueo en Linux se llaman <literal remap="tt">LCK..</literal><emphasis>nombre</emphasis>, donde
<emphasis>nombre</emphasis> puede ser un nombre de dispositivo, o un nombre de un sitio
UUCP. Ciertos procesos crean estos bloqueos para así poder tener acceso
exclusivo a un dispositivo, por ejemplo, si llama con su módem, aparecerá
un bloqueo para que otros procesos sepan que alguien está usando
actualmente el módem. Los bloqueos principalmente contienen el PID del
proceso que tiene bloqueado el dispositivo. Muchos programas comprueban si
un dispositivo está bloqueado, e intentan determinar si ese bloqueo es
todavía válido buscando en la tabla de procesos el que tiene bloqueado el
dispositivo. Si el bloqueo es válido, el programa se cerrará (o debería
cerrarse). Si no, algunos programas borran el bloqueo viejo, y usan el
dispositivo, creando su propio bloqueo. Otros programas solamente se
cierran y dicen que el dispositivo está usándose. 
</para>

</sect2>

<sect2>
<title>``baudios'' Vs. ``bps''</title>

<para>
``baudios'' y ``bps'' son, quizás, unos de los términos peor usados
en el campo de los ordenadores y telecomunicaciones. Mucha gente usa
estos términos indiferentemente, ¡cuando de hecho no son lo mismo!.
</para>

<para>
<variablelist>

<varlistentry>
<term>baudios</term>
<listitem>
<para>
La velocidad en baudios es una medida de cuantas veces por
segundo cambia una señal, por ejemplo una señal enviada por un módem
(<emphasis remap="bf">mo</emphasis>ulador-<emphasis remap="bf">dem</emphasis>odulador). Es decir, una velocidad de 1200 baudios
implica que una señal cambia cada 833 microsegundos. Las velocidades de
los módems normales son 50, 75, 110, 300, 600, 1200, y 2400. La mayoría de
los módems rápidos van a 2400 baudios. Debido a limitaciones del ancho de
banda en las líneas telefónicas de voz, las velocidades superiores a 2400
baudios son difíciles de alcanzar, y sólo funcionan en líneas telefónicas
de alta calidad.  Se pueden codificar varios bits por baudio, para
conseguir velocidades que excedan la velocidad del baudio. Se llama
``baudio'' en honor a Emile Baudot, inventor de la impresora asíncrona del
telégrafo (teletipo). 
</para>
</listitem></varlistentry>
<varlistentry>
<term>bps</term>
<listitem>
<para>
La velocidad en bps es una medida de cuantos bits por segundo
son transmitidos. Las velocidades en bps de los módem normales son 50, 75,
110, 300, 1200, 2400, 9600, ... 115200. Usando módems con compresión
V.42bis (compresión máxima 4:1), son posibles velocidades
<emphasis>teóricas</emphasis> de hasta 115200 bps. Esto es lo que la mayoría de la
gente quiere decir cuando mal usan la palabra ``baudios''. 
</para>
</listitem></varlistentry>
</variablelist>	
</para>

<para>
Así, si módems de alta velocidad están funcionando a 2400 baudios, ¿cómo
pueden enviar 14400 bps?. Los módems alcanzan una velocidad en bps mayor
que la velocidad en baudios codificando varios bits en cada cambio de
señal, o cambio de fase. De este modo, cuando 2 o más bits son codificados
por baudio, la velocidad en bps supera a la velocidad en baudios. Si su
módem se conecta a 14400 bps, estará enviando 6 bits en cada cambio de
fase, a 2400 baudios. 
</para>

<para>
¿Cómo empezó esta confusión?. Bien, volviendo a cuando los módems lentos
eran módems de alta velocidad, la velocidad en bps realmente era igual a
la velocidad en baudios. Un bit podía ser codificado por cambio de fase.
La gente podía usa bps y baudios intercambiándolos, porque eran el mismo
número. Por ejemplo, un módem de 300 bps también tenía una velocidad de
300 baudios. Todo esto cambió cuando llegaron los módems más rápidos, y la
velocidad en bits superó a la velocidad en baudios. 
</para>

</sect2>

<sect2 id="uart">
<title>¿Qué son las UARTs? ¿Cómo afectan al rendimiento?</title>

<para>
Las UARTs (<emphasis remap="bf">U</emphasis>niversal <emphasis remap="bf">A</emphasis>syncronous <emphasis remap="bf">R</emphasis>eceiver <emphasis remap="bf">T</emphasis>ransmitter)
son circuitos integrados de la placa serie del PC.  Su propósito es
convertir los datos a bits, enviarlos a la línea serie, y después
reconstruir los datos en el otro terminal. Las UARTs tratan los datos en
bloques del tamaño de un byte, que además es, convenientemente, el tamaño
de los caracteres ASCII. 
</para>

<para>
Digamos que tiene un terminal conectado a su PC. Cuando escriba un
carácter, el terminal da el carácter a su transmisor (también una UART).
El transmisor envía ese byte a la línea serie, un bit cada vez, a una
determinada velocidad. En el otro PC, la UART que recibe, coge todos los
bits, reconstruye el byte y lo coloca en el búfer. 
</para>

<para>
Existen dos tipos diferentes de UARTs. Probablemente ha oído algo sobre
las UARTs no inteligentes - la 8250 y 16450, y las UARTs FIFO - la 16550A.
Para entender las diferencias, examinemos primero qué ocurre cuando una
UART ha enviado o recibido un byte. 
</para>

<para>
La UART no puede hacer nada con los datos por sí misma, sólo los envía y
los recibe. La CPU recibe una interrupción del dispositivo serie cada vez
que se recibe o envía un byte. Entonces la CPU mueve el byte recibido
desde el búfer de la UART a algún lugar de la memoria, o le da a la UART
otro byte a enviar. Las UARTs 8250 y 16450 sólo tienen un búfer de 1 byte.
Esto significa, que cada vez que se envía o recibe 1 byte, se interrumpe a
la CPU.  A velocidades bajas, está bien. Pero, a velocidades de
transferencia alta, la CPU está demasiado ocupada tratando con la UART, y
no le deja tiempo de atender otras tareas. En algunos casos, la CPU no
puede atender la interrupción a tiempo, y se sobreescribe el byte, debido
a que llegan demasiado rápido. 
</para>

<para>
Ahí es cuando son útiles las UARTs 16550A. Estos integrados tienen un
búfer FIFO de 16 bytes. Esto significa que pueden recibir o transmitir
hasta 16 bytes antes de tener que interrumpir a la CPU.  La CPU no sólo
puede esperar, sino que puede entonces transferir los 16 bytes de una sola
vez. Aunque es raro que el umbral de interrupción esté a 16, esto es una
ventaja significante frente a las otras UARTs, que sólo tienen un búfer de
1 byte. La CPU recibe menos interrupciones, y está libre para hacer otras
cosas. No se pierden datos, y todo el mundo es feliz. (También existe una
UART 16550, pero es tratada como un 16450 ya que no funciona bien.) 
</para>

<para>
En general, las UARTs 8250 y 16450 deben valer para velocidades de hasta
38400 bps. A velocidades mayores que 38400 bps, puede empezar a tener
pérdida de datos. Otros sistemas operativos de PC (definición usada aquí
vagamente) como DOS no son multitarea, por eso deben ser capaces de
habérselas mejor con 8250 ó 16450. Por eso es por lo que algunas personas
no sufren pérdidas de datos, hasta que cambian a Linux. 
</para>

<para>
Las placas sin UART y las multipuerto inteligentes usan integrados DSP
para hacer las tareas de búfer y control adicional, esto libera mucho más
la CPU. Por ejemplo, las placas Cyclades Cyclom y Stallion EasyIO usan una
UART Cirrus Logic CD1400, y muchas placas usan CPUs 80186 o incluso CPUS
RISC especiales, para controlar la E/S serie. 
</para>

<para>
Tenga en mente que este tipo de UART no inteligentes no son malas,
simplemente no son buenas para velocidades altas. No debe tener problemas
conectando un terminal, o un ratón a estas UARTs. Pero, para un módem de
alta velocidad, la 16550A es imprescindible. 
</para>

<para>
Puede comprar placas serie con la UART 16550A por un poco más de dinero,
solamente pregunte al vendedor que tipo de UART tiene la placa. O si
quiere actualizar su placa, simplemente compre el chip 16550A y
reemplácelo por su UART 16450. Son compatibles patilla a patilla. Algunas
placas traen la UART en zócalo para este propósito, si no, puede soldarlo.
Nótese que probablemente se ahorrará un montón de problemas consiguiendo
una placa nueva, si tiene el dinero, cuestan menos de 5000 ptas. 
</para>

</sect2>

<sect2>
<title>¿Cuál es la diferencia real entre los dispositivos
<literal remap="tt">/dev/cua</literal><emphasis>N</emphasis> Y <literal remap="tt">/dev/ttyS</literal><emphasis>N</emphasis>? </title>

<para>
La única diferencia es el modo en que se abren los dispositivos. Los
dispositivos para recibir llamadas <literal remap="tt">/dev/ttyS</literal><emphasis>N</emphasis> se abren en
modo bloqueante, hasta que se haya detectado la portadora (CD)  (esto es,
alguien conecta). Así, cuando alguien quiere usar el dispositivo
<literal remap="tt">/dev/cua</literal><emphasis>N</emphasis>, no hay conflictos con un programa que esté
vigilando el dispositivo <literal remap="tt">/dev/ttyS</literal><emphasis>N</emphasis> (a menos que alguien
esté conectado, por supuesto). 
</para>

<para>
Las múltiples entradas <literal remap="tt">/dev</literal>, permiten operaciones sobre el mismo
dispositivo físico con diferentes características de operación.  También
permite a los programas <literal remap="tt">getty</literal> estándar coexistir con cualquier otro
programa serie, sin que <literal remap="tt">getty</literal> tenga que ser reajustado con bloqueos
de ningún tipo. Es especialmente útil ya que los ficheros de bloqueo de
los núcleos Unix estándar, y los bloqueos de UUCP son de aviso y no de
obligatoriedad. 
</para>

</sect2>

</sect1>

<sect1>
<title>Eliminando problemas</title>

<sect2>
<title>Me dice: ``line <emphasis>NNN</emphasis> of inittab invalid''</title>

<para>
Asegúrese de estar usando la sintaxis correcta para su versión de
<literal remap="tt">init</literal>. Las diferentes versiones de <literal remap="tt">init</literal> que hay por ahí usan
sintaxis diferentes en el fichero <literal remap="tt">/etc/inittab</literal>.  Asegúrese de
estar usando la sintaxis correcta para su versión de <literal remap="tt">getty</literal>. 
</para>

</sect2>

<sect2>
<title>Cuando intento llamar, dice: ``/dev/cua<emphasis>N</emphasis>: Device or resource
busy'' (dispositivo o recurso ocupado) </title>

<para>
Este problema puede surgir cuando DCD o DTR no están activados
correctamente. DCD sólo debe activarse cuando haya una conexión en curso
(ej: alguien ha llamado a este sistema), no cuando <literal remap="tt">getty</literal> esté
vigilando el puerto. Compruebe el módem para asegurarse de que está
configurado para activar DCD sólo cuando haya una conexión. DTR debe estar
activo siempre que alguien esté usando, o vigilando la línea, como
<literal remap="tt">getty</literal>, <literal remap="tt">kermit</literal>, o algún otro programa de comunicaciones. 
</para>

<para>
Otra causa común de los errores de ``device busy'' (dispositivo ocupado),
es que haya configurado el puerto serie con una interrupción que ya esté
siendo usada. Cuando cada dispositivo se inicializa, le pide permiso a
Linux para usar las interrupciones hardware.  Linux sigue la pista de a
quién se le ha asignado cada interrupción, y si la interrupción ya está
siendo usada será imposible que el dispositivo se inicialice
correctamente. El dispositivo realmente no tiene muchas formas de avisarle
de que esto está ocurriendo, excepto que cuando intente usarlo, dará un
mensaje de error ``device busy''.  Compruebe las interrupciones de todas
las placas (serie, ethernet, SCSI, etc). Busque conflictos de IRQ. 
</para>

</sect2>

<sect2>
<title>Me dice: ``Id S<emphasis>N</emphasis> respawning too fast: disabled for 5 minutes''</title>
<para>
(Id S<emphasis>N</emphasis> reiniciado demasiado rápido: desconectado durante 5 minutos) Asegúrese de que el módem está configurado correctamente. Mire los
registros <literal remap="tt">E</literal> y <literal remap="tt">Q</literal>.
Esto puede ocurrir cuando el módem está negociando con <literal remap="tt">getty</literal>.
Asegúrese de estar llamando correctamente a <literal remap="tt">getty</literal> desde
<literal remap="tt">/etc/inittab</literal>. Si usa una sintaxis o nombre de dispositivo
incorrectos puede causar graves problemas. Esto también puede ocurrir cuando esté fallando la inicialización de
<literal remap="tt">uugetty</literal>.
</para>
</sect2>

<sect2>
<title>Los dispositivos serie son lentos, o los dispositivo serie sólo
pueden enviar en una dirección</title>

<para>
 	
</para>

<para>
Probablemente tenga un conflicto de IRQ. Asegúrese de que no se están
compartiendo IRQs. Compruebe todas las placas (serie, ethernet, SCSI,
etc). Asegúrese de que los puentes, y los parámetros de <literal remap="tt">setserial</literal> son
los correctos en todos los dispositivos serie.  Revise también
<literal remap="tt">/proc/ioports</literal> y <literal remap="tt">/proc/interrupts</literal> por si hubiera
conflictos. 
</para>

</sect2>

<sect2>
<title>Mi módem se bloquea después de colgar, o <literal remap="tt">uugetty</literal> no se reinicia.</title>

<para>
	
</para>

<para>
Esto puede ocurrir cuando no se reinicia el módem al desactivar el DTR. He
visto que los LEDs RD y SD de mi módem se vuelven locos cuando esto
ocurre. Debe tener el módem reiniciado. Muchos módems compatible Hayes
hacen esto con <literal remap="tt">&amp;D3</literal>, pero en mi USR Courier, he tenido que poner
<literal remap="tt">&amp;D2</literal> y <literal remap="tt">S13=1</literal>. Mire en el manual de su módem. 
</para>

</sect2>

<sect2>
<title>Tengo un terminal conectado al PC, pero después de escribir un
nombre de registro, sólo se bloquea</title>

<para>

<itemizedlist>
<listitem>

<para>
Si está usando <literal remap="tt">getty</literal>:  Probablemente no tendrá puesto
<literal remap="tt">CLOCAL</literal> en ninguna línea de <literal remap="tt">/etc/gettydefs</literal> para el terminal,
y probablemente no está usando un cable completo de módem nulo. Necesita
<literal remap="tt">CLOCAL</literal>, el cual le dice a Linux que ignore las señales del control
del módem.  Debería parecerse a esto: 


<screen>
# 38400 bps, entrada para un Terminal no inteligente
DT38400# B38400 CS8 CLOCAL # B38400 SANE -ISTRIP CLOCAL #@S @L login: #DT38400

# 19200 bps, entrada para un Terminal no inteligente
DT19200# B19200 CS8 CLOCAL # B19200 SANE -ISTRIP CLOCAL #@S @L login: #DT19200

# 9600 bps, entrada para un Terminal no inteligente
DT9600# B9600 CS8 CLOCAL # B9600 SANE -ISTRIP CLOCAL #@S @L login: #DT9600
</screen>


Después, elimine el proceso <literal remap="tt">getty</literal> con el comando <literal remap="tt">kill</literal> y se
generará un proceso nuevo con la nueva entrada. 

</para>
</listitem>
<listitem>

<para>
Si está usando <literal remap="tt">agetty</literal>:  Añada el parámetro <literal remap="tt">-L</literal> a la línea
de <literal remap="tt">agetty</literal> en <literal remap="tt">/etc/inittab</literal>. Esto hará que ignore las señales
de control del módem. Después ejecute de nuevo <literal remap="tt">init</literal> escribiendo
<literal remap="tt">init q</literal>.  La línea debería ser como esta: 


<screen>
s1:345:respawn:/sbin/agetty -L 9600 ttyS1 vt100
</screen>


</para>
</listitem>

</itemizedlist>

</para>

</sect2>

<sect2>
<title>A velocidades altas, mi módem pierde datos</title>

<para>
Si está intentando usar el módem a más de 38400 bps, y no tiene una UART
16550A, debe conseguirla. Vea la sección <xref linkend="uart"/> para saber más sobre las UARTs.
</para>

</sect2>

<sect2>
<title>Al arrancar, linux no informa a los dispositivos serie de cómo los
he configurado</title>

<para>
Esto es verdad. Linux no realiza ninguna detección de IRQ al arrancar,
sólo hace la detección de los dispositivos serie. Así que no haga caso de
lo que diga sobre las IRQs, ya que asume que son las IRQs estándar. Esto
se hace porque la detección de IRQs no es fiable, y puede ser falsa. 
</para>

<para>
Así, aún cuando tengo mi <literal remap="tt">ttyS2</literal> en la IRQ5, me sale
</para>

<para>

<screen>
Jan 23 22:25:28 misfits vmunix: tty02 at 0x03e8 (irq = 4) is a 16550A
</screen>

cuando Linux arranca.
</para>

<para>
Tiene que usar <literal remap="tt">setserial</literal> para decirle a Linux la IRQ que está usando.
Después de que Linux arranque, puede mirar en el fichero
<literal remap="tt">/proc/interrupts</literal> para ver que IRQs se han configurado realmente. 
</para>

</sect2>

<sect2>
<title><literal remap="tt">rz</literal> y/o <literal remap="tt">sz</literal> no funcionan cuando llamo a mi máquina linux
con un módem</title>

<para>
Si Linux busca <literal remap="tt">/dev/modem</literal> cuando intenta enviar un fichero, mire
en <literal remap="tt">/etc/profile</literal>, y <literal remap="tt">/etc/csh.cshrc</literal>. Algunas
distribuciones definen ahí muchos alias, sobre todo Slackware. Estos alias
echan a perder los programas zmodem. Elimínelos o corríjalos. 
</para>

</sect2>

<sect2>
<title>En mi pantalla están saliendo caracteres muy graciosos</title>

<para>
Esto ocurre en las consolas virtuales cuando envía datos binarios a la
pantalla, o a veces en conexiones serie.  La forma de arreglar esto es
escribiendo <literal remap="tt">echo &circ;v&circ;[c</literal>. Para los que son incapaces de identificar
los caracteres de control, es: 
</para>

<para>

<screen>
linux% echo &#60;ctrl&#62;v&#60;esc&#62;c
</screen>

</para>

</sect2>

<sect2 id="nowork">
<title><literal remap="tt">getty</literal> o <literal remap="tt">uugetty</literal> no funciona todavia</title>

<para>
Existe la opción <literal remap="tt">DEBUG</literal> que viene con <literal remap="tt">getty_ps</literal>. Edite el fichero
de configuración <literal remap="tt">/etc/conf.&lcub;uu&rcub;getty.ttyS</literal><emphasis>N</emphasis> y añada
<literal remap="tt">DEBUG=</literal><emphasis>NNN</emphasis>. Donde <emphasis>NNN</emphasis> es una de las combinaciones numéricas
siguiente, dependiendo de lo que quiera depurar: 
</para>

<para>

<screen>
D_OPT   001            activacion de las opciones
D_DEF   002            procesamiento del fichero de opciones por defecto
D_UTMP  004            procesamiento de utmp/wtmp
D_INIT  010            inicializacion de la linea (INIT)
D_GTAB  020            procesamiento del fichero gettytab
D_RUN   040            otros diagnosticos de ejecucion
D_RB    100            depuracion de rellamada
D_LOCK  200            procesamiento de bloqueo de uugetty
D_SCH   400            procesamiento de tareas
D_ALL   777            todo lo anterior
</screen>

</para>

<para>
Poniendo <literal remap="tt">DEBUG=010</literal> es una buena forma de empezar.
</para>

<para>
Si está ejecutando <literal remap="tt">syslogd</literal>, la información de depuración aparecerá en
los ficheros log. Si no está usando <literal remap="tt">syslogd</literal> la información aparecerá
en <literal remap="tt">/tmp/getty:tyyS</literal><emphasis>N</emphasis> si depura <literal remap="tt">getty</literal> y
<literal remap="tt">/tmp/uugetty:ttyS</literal><emphasis>N</emphasis> si usa <literal remap="tt">uugetty</literal>, y en
<literal remap="tt">/var/adm/getty.log</literal>. Mire la información de depuración y vea que
está ocurriendo. Probablemente necesitará ajustar algunos parámetros del
fichero de configuración, y reconfigurar el módem. 
</para>

<para>
También lo puede intentar con <literal remap="tt">mgetty</literal>. Algunas personas tienen mejores
resultados con él. 
</para>

</sect2>

</sect1>

<sect1>
<title>Otras fuentes de información</title>

<para>

<itemizedlist>
<listitem>

<para>
páginas man de: <literal remap="tt">agetty(8)</literal>, <literal remap="tt">getty(1m)</literal>, <literal remap="tt">gettydefs(5)</literal>,
<literal remap="tt">init(1)</literal>, <literal remap="tt">login(1)</literal>, <literal remap="tt">mgetty(8)</literal>, <literal remap="tt">setserial(8)</literal>

</para>
</listitem>
<listitem>

<para>
El manual del módem
</para>
</listitem>
<listitem>

<para>
NET-2 HOWTO: todo sobre redes, incluido SLIP, CSLIP, y PPP
</para>
</listitem>
<listitem>

<para>
PPP HOWTO: ayuda para PPP
</para>
</listitem>
<listitem>

<para>
Printing HOWTO: para configurar una impresora serie
</para>
</listitem>
<listitem>

<para>
Term HOWTO: todo lo que quería saber sobre el programa <literal remap="tt">term</literal>
</para>
</listitem>
<listitem>

<para>
UPS HOWTO: configuración de una UPS conectada al puerto serie
</para>
</listitem>
<listitem>

<para>
UUCP HOWTO: información sobre como configurar UUCP

Grupos de noticias de Usenet:


<screen>
comp.os.linux.answers
FAQs, How-To's. READMEs, etc. sobre Linux.
comp.os.linux.hardware
Compatibilidad de hardware con el sistema operativo Linux.
comp.os.linux.networking
Redes y comunicaciones bajo Linux.
comp.os.linux.setup
Instalación de Linux y administracion de sistemas.
</screen>


</para>
</listitem>
<listitem>

<para>
La lista de correo serie en Linux. Para apuntarse, mande un mail
a <literal remap="tt"><ulink
url="mailto:majordomo@vger.rutgers.edu"
>majordomo@vger.rutgers.edu</ulink
></literal>, con ``<literal remap="tt">subscribe
linux-serial</literal>'' en el cuerpo del mensaje, obtendrá un mensaje de ayuda. El
servidor también ofrece otras listas de Linux. Envíe el comando
``<literal remap="tt">lists</literal>'' para obtener una lista de las listas de correo. 

</para>
</listitem>
<listitem>

<para>
Un <emphasis remap="it">libro blanco</emphasis> para discutir sobre comunicaciones serie y
placas serie multipuerto está a su disposición en Cyclades en <literal remap="tt"><ulink
url="http://www.cyclades.com"
>http://www.cyclades.com</ulink
></literal>.

</para>
</listitem>
<listitem>

<para>
Modem FAQs:
 <ulink
url="http://web.aimnet.com/&#732;jnavas/modem/faq.html"
>Navas 28800 Modem FAQ</ulink
>


</para>
</listitem>

</itemizedlist>

</para>

</sect1>

<sect1>
<title>Contribuciones</title>

<para>
	
</para>

<para>
Es imposible escribir este HOWTO solo. Aunque una gran parte de este HOWTO
lo he escrito yo, he tenido que reescribir muchas contribuciones para
mantener la continuidad del estilo y flujo de escritura. Gracias a todos
los que han contribuido o comentado algo, la lista de personas es
demasiado larga para ponerla aquí (más de cien). En especial quiero darle
las gracias a Ted T'so por responder a preguntas sobre los controladores
serie, a Kris Gleason que suele mantener <literal remap="tt">getty_ps</literal>, y a Gert
D&ouml;ring que mantiene <literal remap="tt">mgetty</literal>. 
</para>

</sect1>

<sect1 id="Grupos">
<title>Anexo: El INSFLUG </title>

<para>
El <emphasis>INSFLUG</emphasis> forma parte del grupo internacional 
<emphasis remap="it">Linux Documentation Project</emphasis>, 
encargándose de las traducciones al castellano de los Howtos (Comos),
así como la producción de documentos originales en aquellos casos
en los que no existe análogo en inglés.
</para>

<para>
En el <emphasis remap="bf">INSFLUG</emphasis> se orienta preferentemente a la traducción de documentos
breves, como los <emphasis>COMOs</emphasis> y <emphasis>PUFs</emphasis> (<emphasis remap="bf">P</emphasis>reguntas de
<emphasis remap="bf">U</emphasis>so <emphasis remap="bf">F</emphasis>recuente, las <emphasis remap="it">FAQs</emphasis>. <literal remap="tt">:)</literal> ), etc.
</para>

<para>
Diríjase a la sede del INSFLUG para más información al respecto.
</para>

<para>
En la sede del INSFLUG encontrará siempre las <emphasis remap="bf">últimas</emphasis> versiones 
de las traducciones:  <literal remap="tt"><ulink
url="http://www.insflug.org"
>www.insflug.org</ulink
></literal>. Asegúrese de comprobar cuál es la última versión 
disponible en el Insflug antes de bajar un documento de un servidor réplica.
</para>

<para>
Se proporciona también una lista de los servidores
réplica (<emphasis remap="it">mirror</emphasis>) del Insflug más cercanos a Vd.,  
e información relativa a otros recursos en castellano.
</para>

<para>
Francisco José Montilla, <literal remap="tt"><ulink
url="mailto:pacopepe@insflug.org"
>pacopepe@insflug.org</ulink
></literal>.
</para>

</sect1>

</article>
