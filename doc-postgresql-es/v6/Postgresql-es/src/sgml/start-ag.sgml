<!--
-       Este archivo contiene actualmente varios capitulos pequeños.
-       Cada capitulo deberia ser escindido en archivos fuentes separados ...
-       - thomas 1998-02-24
-->

 <chapter id="newuser">
  <title>Agregar y Eliminar Usuarios</title>

  <para>
   <application>createuser</application> permite que usuarios
   específicos accedan a <productname>Postgres</productname>.
   <application>dropuser</application> elimina usuarios y
   previene que éstos accedan a <productname>Postgres</productname>.
  </para>

  <para>
   Estas órdenes sólo afectan a los usuarios con respecto a 
   <productname>Postgres</productname>; no tienen efecto en otros
   privilegios del usuario o en su estado con respecto al sistema
   operativo subyacente.  
  </para>
 </chapter>

 <chapter id="disk">
  <title>Gestión de Disco</title>

  <sect1>
   <title>Localizaciones Alternativas</title>

   <para>
    Se puede crear una base de datos en una localización diferente
    a la establecida por defecto durante la instalación. Recuerde que
    todos los accesos a base de datos ocurren realmente a traves del
    proceso en segundo plano, así que éste debe poder acceder a
    cualquier especificación.
   </para>

   <para>
    Se crean localizaciónes alternativas y referencias mediante una
    variable de entorno que da el path absoluto hasta la situación
    de almacenamiento deseada. Esta variable de entorno debe estar
    definida antes de que el proceso en segundo plano sea arrancado
    y debe ser modificable mediante la cuenta del administrador de
    postgres.

    Cualquier variable de entorno puede ser utilizada para referirse
    a una localización alternativa, si bien se recomienda la
    utilización de un nombre de variable con prefijo PGDATA para
    evitar confusión y conflicto con otras variables. 
   </para>

   <note>
    <para>
     En versiones previas de <productname>Postgres</productname>,
     también estaba permitido utilizar un nombre de path absoluto
     para especificar una localización de almacenamiento alternativa.
     Se prefiere el método de especificación de variables de entorno,
     puesto que concede al administrador del sistema más flexibilidad
     en la gestión del almacenamiento en disco.

     Si prefiere utilizar paths absolutos, puede hacerlo definiendo
     "ALLOW_ABSOLUTE_DBPATHS" y recompilando
     <productname>Postgres</productname>. Para hacer esto,
     añada cualquiera de estas líneas

     <programlisting>
#define ALLOW_ABSOLUTE_DBPATHS 1
     </programlisting>

     al archivo <filename>src/include/config.h</filename>, o
     especifique

     <programlisting>
 CFLAGS+= -DALLOW_ABSOLUTE_DBPATHS
     </programlisting>

     en su <filename>Makefile.custom</filename>.
    </para>
   </note>

   <para>
    Recuerde que la creación de una base de datos la ejecuta realmente
    un proceso de la base de datos en segundo plano. Por lo tanto,
    cualquier variable de entorno que especifique una localización
    alternativa debe ser definida antes de que el proceso en segundo
    plano sea arrancado. Para definir una localización alternativa
    apuntando a PGDATA2 <filename>/home/postgres/data</filename>,
    primero escriba

    <programlisting>
% setenv PGDATA2 /home/postgres/data
    </programlisting>

    para definir la variable de entorno que será utilizada con las
    órdenes siguientes. Normalmente, querrá definir esta variable
    en el fichero de inicialización del super usuario de
    <productname>Postgres</productname>, <filename>.profile</filename>
    o <filename>.cshrc</filename>
    para asegurar que está definido al arrancar el sistema. 
    Se puede utilizar cualquier variable de entorno para referirse a
    una localización alternativa, aunque se prefiere que las variables
    estén prefijadas con "PGDATA" para eliminar confusiones y la
    posibilidad de conflictos con otras variables, o su reescritura.
   </para>

   <para>
    Para crear un area de almacenamiento de datos en PGDATA2, asegúrese
    de que <filename>/home/postgres</filename> ya existe y puede ser
    escrito por el administrador de postgres. Después desde la linea
    de órdenes, escriba

    <programlisting>
% setenv PGDATA2 /home/postgres/data
% initlocation $PGDATA2
Creating Postgres database system directory /home/postgres/data

Creating Postgres database system directory /home/postgres/data/base

    </programlisting>

   </para>
   <para>
    Para comprobar la nueva localización, cree una base de datos
    <database>test</database> escribiendo

    <programlisting>
% createdb -D PGDATA2 test
% dropdb test
    </programlisting>

   </para>
  </sect1>
 </chapter>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:nil
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"./reference.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:"/usr/lib/sgml/CATALOG"
sgml-local-ecat-files:nil
End:
-->
