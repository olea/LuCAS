<!--
$Header: /home/cvs/lucas/doc-postgresql-es/v6/Postgresql-es/src/sgml/ref/initdb.sgml,v 1.6 2001/07/26 12:01:45 olea Exp $
Postgres documentation
-->

<refentry id="APP-INITDB">
 <refmeta>
  <refentrytitle id="APP-INITDB-TITLE">
   <application>initdb</application>
  </refentrytitle>
  <refmiscinfo>Application</refmiscinfo>
 </refmeta>
 <refnamediv>
  <refname>
   <application>initdb</application>
  </refname>
  <refpurpose>
   Crea una nueva instalación de la base de datos de 
<productname>PostgreSQL</productname> 
  </refpurpose>
 </refnamediv>
 <refsynopsisdiv>
  <refsynopsisdivinfo>
   <date>1999-12-17</date>
  </refsynopsisdivinfo>
  <synopsis>
initdb [ --pgdata|-D <replaceable class="parameter">dbdir</replaceable> ]
       [ --sysid|-i <replaceable class="parameter">sysid</replaceable> ]
       [ --pwprompt|-W ]
       [ --encoding|-E <replaceable class="parameter">encoding</replaceable> ]
       [ --pglib|-L <replaceable class="parameter">libdir</replaceable> ]
       [ --noclean | -n ] [ --debug | -d ] [ --template | -t ]
  </synopsis>

  <refsect2 id="R2-APP-INITDB-1">
   <refsect2info>
    <date>1999-11-17</date>
   </refsect2info>
   <title>
    Inputs
   </title>
   <para>

    <variablelist>
     <varlistentry>
      <term>--pgdata=<replaceable class="parameter">dbdir</replaceable></term>
      <term>-D <replaceable class="parameter">dbdir</replaceable></term>
      <term><envar>PGDATA</envar></term>
      <listitem>
       <para>
        Esta opción especifica en que parte del sistema de archivos será almacenada la base de datos.
	 Ésta es la única información requerida por el initdb, pero podemos omitirla estableciendo la variable de entorno 
	<envar>PGDATA</envar> lo que puede ser conveniente ya que el servidor de la base de datos 
	(<filename>postmaster</filename>)
        puede encontrar el directorio de la base de datos más adelante a través de la misma variable.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>--sysid=<replaceable class="parameter">sysid</replaceable></term>
      <term>-i <replaceable class="parameter">sysid</replaceable></term>
      <listitem>
       <para>
        Selecciona él id del sistema para el super usuario (root) de la base de datos. Por omisión
	 apunta al id de aquel usuario que este ejecutando initdb. Realmente no es importante cuál sea él
	 id del sistema para el super usuario, ya que uno podría elegir comenzar la numeración con
	 cualquier número como 0 o 1.
       </para>
      </listitem>
     </varlistentry>
 
     <varlistentry>
      <term>--pwprompt</term>
      <term>-W</term>
      <listitem>
       <para>
        Ocasiona que el initdb pregunte por el password del super usuario (root) de la base de datos.
	 Si uno no planea usar la autentificación a través de passwords, entonces realmente no es importante.
	 De cualquier manera uno no podrá utilizar la autentificación a través de passwords hasta que haya
	 establecido un password.
       </para>
      </listitem>
     </varlistentry>
 
     <varlistentry>
      <term>--encoding=<replaceable class="parameter">encoding</replaceable></term>
      <term>-E <replaceable class="parameter">encoding</replaceable></term>
      <listitem>
       <para>
        Selecciona la codificación multibyte para la base de datos modelo (o plantilla).
	 De hecho esta también será la codificación por defecto para cualquier base de datos que uno
	 cree más adelante, a menos que usted la cambie. Para utilizar la característica de codificación
	 multibyte, se debe especificar durante el tiempo de construcción (creación de la BD), en cuyo
	 caso uno también selecciona el valor por defecto para esta opción.
       </para>
      </listitem>
     </varlistentry>

   </variablelist>
   </para>

   <para>
    Otros parámetros utilizados menos comúnmente están también disponibles:

    <variablelist>
     <varlistentry>
      <term>--pglib=<replaceable class="parameter">libdir</replaceable></term>
      <term>-l <replaceable class="parameter">libdir</replaceable></term>
      <listitem>
       <para>
        initdb necesita algunos archivos de entrada para poder inicializar la base de datos.
	 Esta opción indica dónde encontrarlos. Normalmente, uno no tiene que preocuparse por esto
	 puesto que el initdb conoce los esquemas de instalación más comunes y encontrará,
	 normalmente, los archivos por sí mismo.
	 Se le dirá si usted necesita especificar su ubicación explícitamente.
	 Si sucede esto, uno de los ficheros se llama 

	<filename>global1.bki.source</filename> y está instalado tradicionalmente junto con
	 los otros archivos en el directorio de bibliotecas (por ejemplo, /usr/local/pgsql/lib)

        <filename>/usr/local/pgsql/lib</filename>).
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>--template</term>
      <term>-t</term>
      <listitem>
       <para>
	Replace the <literal>template1</literal>
	Substituye la base de datos template1 en un sistema de base de datos existente, y no toca otra cosa.
	Esto es útil cuando se necesita actualizar el 
 <literal>template1</literal>de la base de datos usando el 
<application>initdb</application>
	de una versión más nueva de 
<productname>PostgreSQL</productname>, 
	o cuando el 
<literal>template1</literal>de la base de datos se ha corrompido por algún problema del sistema.
 Normalmente el contenido del 
<literal>template1</literal>
	se mantendrá constante a través de la vida del sistema de base de datos. 
	No se puede destruir cualquier otra cosa ejecutando el
<application>initdb</application>
	con la opción 
	<option>--template</option>.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>--noclean</term>
      <term>-n</term>
      <listitem>
       <para>
	Por defecto, cuando 
<application>initdb</application>
	determina que un error evita que se cree totalmente el sistema de base de datos, remueve
	 cualquier archivo que pudo haber creado, antes de determinar que no puede acabar el trabajo.
	 Esta opción inhibe "tidying-up" y es por lo tanto, útil para depurar. 
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term>--debug</term>
      <term>-d</term>
      <listitem>
       <para>
	Imprime la salida de depuración de la "carga inicial backend" y algunos otros mensajes de poco
	 interés para el público en general. La "carga inicial backend" es la aplicación que el 
 <application>initdb</application>
	usa para crear las tablas del catálogo. Esta opción genera una enorme cantidad de salida.
       </para>
      </listitem>
     </varlistentry>

    </variablelist>
   </para>

  </refsect2>

  <refsect2 id="R2-APP-INITDB-2">
   <refsect2info>
    <date>1999-12-17</date>
   </refsect2info>
   <title>
    Salidas 
   </title>
   <para>
    <application>initdb</application> creará los ficheros en el área de datos especificada
	 que son las tablas del sistema y el marco de trabajo para una instalación completa.
   </para>
  </refsect2>
 </refsynopsisdiv>

 <refsect1 id="R1-APP-INITDB-1">
  <refsect1info>
   <date>1999-12-17</date>
  </refsect1info>
  <title>
   Descripción 
  </title>
  <para>
   <application>initdb</application> crea un nuevo sistema de base de datos de 
   <productname>PostgreSQL</productname> database system.
   Un sistema de base de datos es una colección de bases de datos que son todas administradas
 por el mismo usuario de UNIX y manejadas por un solo postmaster
  </para>
  <para>
   Crear un sistema de base de datos consiste en 
 crear los directorios en los cuales los datos de la base de datos serán almacenados. generar las tablas
 de catálogo compartidas (son tablas que no pertenecen a ninguna base de datos determinada). crear el
<literal>template1</literal>
   de la base de datos. Cuando usted crea una nueva base de datos, todo el 
   <literal>template1</literal>de la base de datos se copia. Contiene las tablas de catálogo
	 llenas para cosas como los tipos interconstruidos
  </para>

  <para>
   No se debe ejecutar el 
<application>initdb</application> como root. Esto se debe ya que uno no puede ejecutar el
	 servidor de la base de datos ni siquiera como root, pero el servidor necesita tener acceso a los archivos que 
<application>initdb</application>crea. Además, durante la fase de la inicialización, cuando no
	 hay usuarios y ningún control de acceso instalado, postgres solamente se conectará con el nombre
	 de usuario actual de UNIX, así que uno debe iniciar una sesión bajo la cuenta que poseerá el proceso
	 del servidor.
  </para>

  <para>
   Aunque  <application>initdb</application> procurará crear el directorio de datos respectivo, 
	lo cierto es que no tendrá el permiso para hacerlo. Por lo tanto, es una buena idea crear el directorio
	 de datos antes de ejecutar <application>initdb</application>
   <emphasis>y</emphasis> entregar la propiedad de él al super usuario de la base de datos.
  </para>
 </refsect1>
</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:nil
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../reference.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:"/usr/lib/sgml/catalog"
sgml-local-ecat-files:nil
End:
-->
