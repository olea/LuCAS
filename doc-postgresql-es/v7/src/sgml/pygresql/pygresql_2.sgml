*************Colocar aquí la primera parte del fichero.
*************Dejar estas líneas para el constructor
 <sect1 id="pygresql-pg-pgobject">
  <title>Objeto de conexión: <classname>pgobject</classname></title>

  <para>
Este objeto maneja la conexión de la base de datos 	   
 <productname>PostgreSQL</productname>. Encaja y esconde todos los parámetros que definen esta conecxión, dejando solamente los parámetros significativos para las llamadas de funciones.
  </para>

  <para>
Algunos métodos dan un acceso directo hacia el enchufe de conexión. Ellos son especificados por la etiqueta [DA]. <emphasis> No los use si no sabe que está haciendo.</emphasis>
Si Ud. prefiere desabilitarlos, configure la opción 
 <literal>-DNO_DIRECT</literal> en el archivo <filename>Setup</filename> de
<productname>Python</productname>.
  </para>

  <para>
Algunos otro métodos dan acceso hacia objetos grandes. Si Ud. quiere prohibir el acceso hacia estos desde el módulo, configure la opción
   <literal>-DNO_LARGE</literal> en el archivo <filename>Setup</filename> de
<productname>Python</productname>. Estos métodos están especificados por la etiqueta [LO]
  </para>

  <para>
   Cada <literal>pgobject</literal> define un conjunto de atributos de solo lectura que describen la cenexión y su estado. Estos atributos son:
   <variablelist>
    <varlistentry>
     <term>host (anfitrion)</term>    
     <listitem>
      <para>
	El nombre de host del servidor (string)      
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term>port(puerto)</term>
     <listitem>
      <para>
       El puerto del server (integer)
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term>db</term>
     <listitem>
      <para>
       La base de datos seleccionada (string)
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term>options(opciones)</term>
     <listitem>
      <para>
       Las opciones de conexión (string)
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term>tty</term>
     <listitem>
      <para>
       La terminal de depuración de conexión (string)
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term>user(usuario)</term>
     <listitem>
      <para>
       Nombre de usuario sobre el sistema de base de datos (string)
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term>status(estado)</term>
     <listitem>
      <para>
       El estado de la conexión (integer: 1 - OK, 0 - BAD)
      </para>
     </listitem>
    </varlistentry>

    <varlistentry>
     <term>error</term>
     <listitem>
      <para>
       el último mensaje de error/advertencia proveniente del servidor (string)
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </para>


  <refentry id="PYGRESQL-QUERY">
    <refmeta>
      <refentrytitle>Consulta</refentrytitle>
      <refmiscinfo>PYGRESQL - Query (consulta)</refmiscinfo>
    </refmeta>
    <refnamediv>
      <refname>Consulta</refname>
      <refpurpose>ejecuta un comando SQL</refpurpose>
    </refnamediv>
    <refsynopsisdiv>
<synopsis>
consulta(<replaceable>comando</replaceable>)
</synopsis>

      <refsect2 id="R2-PYGRESQL-QUERY-1">
        <title>Parámetros</title>
        <variablelist>
          <varlistentry>
            <term>
              <replaceable>Comando</replaceable>
            </term>
            <listitem>
              <para>Comando SQL(string).</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-QUERY-2">
        <title>Tipos de retorno</title>
        <variablelist>
          <varlistentry>
            <term>
              pgqueryobject(objeto pgquery) o Nada
            </term>
            <listitem>
              <para>
                Valores de resultado.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-QUERY-3">
        <title>Excepciones</title>
        <variablelist>
          <varlistentry>
            <term>
              <errorname>Error de Tipo</errorname>
            </term>
            <listitem>
              <para>
                Tipo de argumento erroneo o demasiados argumentos.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>
              <errorname>Error de valor</errorname>
            </term>
            <listitem>
              <para>
                Consulta SQL vacia.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>
              <errorname>pg.error</errorname>
            </term>
            <listitem>
              <para>
                Error durante el proceso de la consulta o conexión no válida.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

    </refsynopsisdiv>

    <refsect1 id="R1-PYGRESQL-QUERY-1">
      <title>Descripción</title>
      <para>
        <function>query()</function> método que envía una consulta <acronym>SQL</acronym>
	hacia una base de datos. Si la consulta es una sentencia insert(insertar), el valor retornado es el <acronym>OID</acronym> de la nueva fila insertada. Si es otro tipo de consulta que no retorna un resultado (por ejemplo: no es algún tipo de sentencia <literal>SELECT</literal> ), retorna nada. Por otra parte,retorna un <literal>pgqueryobject</literal> que puede ser accedido a través de los métodos <function>getresult()</function> o <function>dictresult()</function> o simplemente imprimidos.
      </para>
    </refsect1>

  </refentry>

<!-- ********************************************************** -->

  <refentry id="PYGRESQL-RESET">
    <refmeta>
      <refentrytitle>reset (restablecer)</refentrytitle>
      <refmiscinfo>PYGRESQL - Reset</refmiscinfo>
    </refmeta>
    <refnamediv>
      <refname>reset(Restablecer)</refname>
      <refpurpose>restablecer la conexión</refpurpose>
    </refnamediv>

    <refsynopsisdiv>
<synopsis>
reset()
</synopsis>

      <refsect2 id="R2-PYGRESQL-RESET-1">
        <title>Parámetros</title>
        <para>
Nada
        </para>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-RESET-2">
        <title>Tipo de Retorno</title>
        <para>
Nada
        </para>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-RESET-3">
        <title>Excepciones</title>
        <variablelist>
          <varlistentry>
            <term>
              <errorname>Error de tipo</errorname>
            </term>
            <listitem>
              <para>
                Demasiados (alguno) argumentos.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

    </refsynopsisdiv>

    <refsect1 id="R1-PYGRESQL-RESET-1">
      <title>Descripción</title>
      <para>
       El método <function>reset()</function> restablece la base de datos actual.
      </para>
    </refsect1>

  </refentry>

<!-- ********************************************************** -->

  <refentry id="PYGRESQL-CLOSE">
    <refmeta>
      <refentrytitle>close(Cerrar)</refentrytitle>
      <refmiscinfo>PYGRESQL - Close (cerrar)</refmiscinfo>
    </refmeta>
    <refnamediv>
      <refname>close</refname>
      <refpurpose>Cierra la conexión de la base de datos</refpurpose>
    </refnamediv>

    <refsynopsisdiv>
<synopsis>
close()
</synopsis>

      <refsect2 id="R2-PYGRESQL-CLOSE-1">
        <title>Parámetros</title>
        <para>
Ninguno
        </para>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-CLOSE-2">
        <title>Tipo de Retorno</title>
        <para>
Ninguno
        </para>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-CLOSE-3">
        <title>Excepciones</title>
        <variablelist>
          <varlistentry>
            <term>
              <errorname>Error de tipo</errorname>
            </term>
            <listitem>
              <para>
                Demasiados (alguno) argumentos.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

    </refsynopsisdiv>

    <refsect1 id="R1-PYGRESQL-CLOSE-1">
      <title>Description</title>
      <para>
     El método <function>close()</function> cierra la conexión de la base de datos. La conexión será cerrada. La cenexión será cerrada en cualquier caso cuando la conexió es borrada pero esto permite a Ud. explicitamente cerrarla. Lo más importante es permitir a la envoltura API DB-SIG implementar la función cerrar.
      </para>
    </refsect1>

  </refentry>

<!-- ********************************************************** -->

  <refentry id="PYGRESQL-FILENO">
    <refmeta>
      <refentrytitle>fileno</refentrytitle>
      <refmiscinfo>PYGRESQL - Fileno</refmiscinfo>
    </refmeta>
    <refnamediv>
      <refname>fileno</refname>
      <refpurpose> retorna el enchufe utilizado para conectarce con la base de datos</refpurpose>
    </refnamediv>

    <refsynopsisdiv>
<synopsis>
fileno()
</synopsis>

      <refsect2 id="R2-PYGRESQL-FILENO-1">
        <title>Parámetros</title>
        <para>
Ninguno
        </para>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-FILENO-2">
        <title>Tipo de Retorno</title>
        <variablelist>
          <varlistentry>
            <term>
              id del enchufe
            </term>
            <listitem>
              <para>
                El enchufe fundamental es usado para conectarse hacia la base de datos.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-FILENO-3">
        <title>Excepciones</title>
        <variablelist>
          <varlistentry>
            <term>
              <errorname>Error de Tipo</errorname>
            </term>
            <listitem>
              <para>
                Demasiados (algún) argumentos.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

    </refsynopsisdiv>

    <refsect1 id="R1-PYGRESQL-FILENO-1">
      <title>Descripción</title>
      <para>
       El método <function>fileno()</function> retorna el id del enchufe fundamental que es usado para conectarse a la base de datos. Esto es útil para usarse en llamadas a method returns  <function>select</function>, etc.
      </para>
    </refsect1>

  </refentry>

<!-- ********************************************************** -->

  <refentry id="PYGRESQL-GETNOTIFY">
    <refmeta>
      <refentrytitle>getnotify</refentrytitle>
      <refmiscinfo>PYGRESQL - Getnotify</refmiscinfo>
    </refmeta>
    <refnamediv>
      <refname>getnotify</refname>
      <refpurpose> toma la última notificación del servidor.</refpurpose>
    </refnamediv>

    <refsynopsisdiv>
<synopsis>
getnotify()
</synopsis>

      <refsect2 id="R2-PYGRESQL-GETNOTIFY-1">
        <title>Parámetros</title>
        <para>
          Ninguno
        </para>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-GETNOTIFY-2">
        <title>Tipo de retorno</title>
        <variablelist>
          <varlistentry>
            <term>
              tuple, Nada
            </term>
            <listitem>
              <para>
                Última notificación del servidor
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-GETNOTIFY-3">
        <title>Excepciones</title>
        <variablelist>
          <varlistentry>
            <term>
              <errorname>Error de tipo</errorname>
            </term>
            <listitem>
              <para>
                Demasiados (algún) argumentos.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>
              <errorname>pg.error</errorname>
            </term>
            <listitem>
              <para>
                Conexión no válida.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

    </refsynopsisdiv>

    <refsect1 id="R1-PYGRESQL-GETNOTIFY-1">
      <title>Descripción</title>
      <para>
       El método <function>getnotify()</function> trata de tomar una notificación proveniente del servidor (de la sentencia <literal>SQL</literal> <literal>NOTIFY</literal>).
Si el servidor no retorna una notificación, el método no retorna nada.
Por otro lado, retorna una tuple (par) <literal>(relname, pid)</literal>,
        donde<literal>relname</literal> es el nombre de la notificación y 
<literal>pid</literal> es el id del proceso de conexión que gatilló la notificación. Recuerde hacer una consulta listen(escuchar) primero, de otra manera getnotify siempre retornará nada.
      </para>
    </refsect1>

  </refentry>

<!-- ********************************************************** -->

  <refentry id="PYGRESQL-INSERTTABLE">
    <refmeta>
      <refentrytitle>inserttable (insertar tabla)</refentrytitle>
      <refmiscinfo>PYGRESQL - Inserttable (insertar tabla)</refmiscinfo>
    </refmeta>
    <refnamediv>
      <refname>inserttable</refname>
      <refpurpose>inserta una lista dentro de una tabla</refpurpose>
    </refnamediv>

    <refsynopsisdiv>
<synopsis>
inserttable(<replaceable>tabla</replaceable>, <replaceable>valores</replaceable>)
</synopsis>

      <refsect2 id="R2-PYGRESQL-INSERTTABLE-1">
        <title>Parámetros</title>
        <variablelist>
          <varlistentry>
            <term>
              <replaceable>tabla</replaceable>
            </term>
            <listitem>
              <para>El nombre de la tabla(string).</para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>
              <replaceable>valores</replaceable>
            </term>
            <listitem>
              <para>La lista de valores de filas a insertar(list).</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-INSERTTABLE-2">
        <title>Tipo de retorno</title>
          <para>
            nada
          </para>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-INSERTTABLE-3">
        <title>Excepciones</title>
        <variablelist>
          <varlistentry>
            <term>
              <errorname>Error de tipo</errorname>
            </term>
            <listitem>
              <para>
                Tipo de argumento erroneo o demasiados argumentos.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>
              <errorname>pg.error</errorname>
            </term>
            <listitem>
              <para>
                Conexión inválida.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

    </refsynopsisdiv>

    <refsect1 id="R1-PYGRESQL-INSERTTABLE-1">
      <title>Descripción</title>
      <para>
        El método <function>inserttable()</function>permite rapidamente insertar bloques de datos en
una  tabla: inserta la lista completa de valores en la tabla dada. La lista es una lista de tuplas/listas
que definen los valores por cada fila insertada. Los valores de las filas pueden contener valores
string, integer, long o duble.
<emphasis>Sea muy cuidadoso:</emphasis> este método no hace chequeo de tipo de los campos acorde 
con la definición de la tabla, solamente mira si conoce o no como manejar ese tipo.
      </para>
    </refsect1>

  </refentry>

<!-- ********************************************************** -->

  <refentry id="PYGRESQL-PUTLINE">
    <refmeta>
      <refentrytitle>putline (Poner línea)</refentrytitle>
      <refmiscinfo>PYGRESQL - Putline</refmiscinfo>
    </refmeta>
    <refnamediv>
      <refname>putline</refname>
      <refpurpose>escribe una línea en el enchufe del servidor [DA]</refpurpose>
    </refnamediv>

    <refsynopsisdiv>
<synopsis>
putline(<replaceable>line</replaceable>)
</synopsis>

      <refsect2 id="R2-PYGRESQL-PUTLINE-1">
        <title>Parámetros</title>
        <variablelist>
          <varlistentry>
            <term>
              <replaceable>line</replaceable>
            </term>
            <listitem>
              <para>Línea a ser escrita(string/cadena).</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-PUTLINE-2">
        <title>Tipo de retorno</title>
          <para>
          nada
          </para>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-PUTLINE-3">
        <title>Excepciones</title>
        <variablelist>
          <varlistentry>
            <term>
              <errorname>Error de tipo</errorname>
            </term>
            <listitem>
              <para>
               
Tipo de argumento erroneo o demasiados argumentos.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>
              <errorname>pg.error</errorname>
            </term>
            <listitem>
              <para>
                Conexión inválida.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

    </refsynopsisdiv>

    <refsect1 id="R1-PYGRESQL-PUTLINE-1">
      <title>Descripción</title>
      <para>
       El método <function>putline()</function> permite directamente escribir una cadena de caracteres
en el enchufe del servidor.
      </para>
    </refsect1>

  </refentry>

<!-- ********************************************************** -->

  <refentry id="PYGRESQL-GETLINE">
    <refmeta>
      <refentrytitle>getline (Extraer línea)</refentrytitle>
      <refmiscinfo>PYGRESQL - Getline</refmiscinfo>
    </refmeta>
    <refnamediv>
      <refname>getline</refname>
      <refpurpose>extrae una línea desde el enchufe del servidor [DA]</refpurpose>
    </refnamediv>

    <refsynopsisdiv>
<synopsis>
getline()
</synopsis>

      <refsect2 id="R2-PYGRESQL-GETLINE-1">
        <title>Parámetros</title>
        <para>
ninguno
        </para>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-GETLINE-2">
        <title>Tipo de retorno</title>
        <variablelist>
          <varlistentry>
            <term>
              string(cadena)
            </term>
            <listitem>
              <para>
                La línea leida.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-GETLINE-3">
        <title>Excepciones</title>
        <variablelist>
          <varlistentry>
            <term>
              <errorname>Error de tipo</errorname>
            </term>
            <listitem>
              <para>
                Tipo de argumento erroneo o demasiados argumentos.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>
              <errorname>pg.error</errorname>
            </term>
            <listitem>
              <para>
                Conexión inválida.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

    </refsynopsisdiv>

    <refsect1 id="R1-PYGRESQL-GETLINE-1">
      <title>Descripción</title>
      <para>
        El método<function>getline()</function> permite leer directamente una cadena de caracteres desde el 
enchufe del servidor.
      </para>
    </refsect1>

  </refentry>

<!-- ********************************************************** -->

  <refentry id="PYGRESQL-ENDCOPY">
    <refmeta>
      <refentrytitle>endcopy</refentrytitle>
      <refmiscinfo>PYGRESQL - Endcopy</refmiscinfo>
    </refmeta>
    <refnamediv>
      <refname>endcopy</refname>
      <refpurpose>sincroniza cliente y servidor [DA]</refpurpose>
    </refnamediv>

    <refsynopsisdiv>
<synopsis>
endcopy()
</synopsis>

      <refsect2 id="R2-PYGRESQL-ENDCOPY-1">
        <title>Parámetros</title>
        <para>
     ninguno
        </para>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-ENDCOPY-2">
        <title>Tipo de retorno</title>
        <para>
ninguno
        </para>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-ENDCOPY-3">
        <title>Excepciones</title>
        <variablelist>
          <varlistentry>
            <term>
              <errorname>Error de Tipo</errorname>
            </term>
            <listitem>
              <para>
                Tipo de argumento erroneo o demasiados argumentos.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>
              <errorname>pg.error</errorname>
            </term>
            <listitem>
              <para>
                Conexión inválida.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

    </refsynopsisdiv>

    <refsect1 id="R1-PYGRESQL-ENDCOPY-1">
      <title>Descripción</title>
      <para>
        El uso del método de acceso directo puede sincronizar cliente y servidor. Este método asegura que el cliente y el servidor estarán sincronzados.
      </para>
    </refsect1>

  </refentry>

<!-- ********************************************************** -->

  <refentry id="PYGRESQL-LOCREATE">
    <refmeta>
      <refentrytitle>locreate</refentrytitle>
      <refmiscinfo>PYGRESQL - Locreate</refmiscinfo>
    </refmeta>
    <refnamediv>
      <refname>locreate (crear lo-objetos grandes-)</refname>
      <refpurpose>crea objetos grandes en la base de datos. [LO]</refpurpose>
    </refnamediv>

    <refsynopsisdiv>
<synopsis>
locreate(<replaceable>mode (modo)</replaceable>)
</synopsis>

      <refsect2 id="R2-PYGRESQL-LOCREATE-1">
        <title>Parámetros</title>
        <variablelist>
          <varlistentry>
            <term>
              <replaceable>modo</replaceable>
            </term>
            <listitem>
              <para>Modo de creado de objetos grandes.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-LOCREATE-2">
        <title>Tipo de retorno</title>
        <variablelist>
          <varlistentry>
            <term>
              pglarge
            </term>
            <listitem>
              <para>
                Objeto que maneja el objeto grande <productname>PostgreSQL</productname>.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-LOCREATE-3">
        <title>Excepciones</title>
        <variablelist>
          <varlistentry>
            <term>
              <errorname>Error de tipo</errorname>
            </term>
            <listitem>
              <para>
                Tipo de argumento erroneo o demasiados argumentos.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>
              <errorname>pg.error</errorname>
            </term>
            <listitem>
              <para>
                Conexión inválida o error de creación.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

    </refsynopsisdiv>

    <refsect1 id="R1-PYGRESQL-LOCREATE-1">
      <title>Descripción</title>
      <para>
       El método <function>locreate()</function> crea un objeto grande en la base de datos. El modo puede
ser definido por OR-ing las constantes definidas en le módulo pg.
        (<literal>INV_READ, INV_WRITE</literal> y <literal>INV_ARCHIVE</literal>).
      </para>
    </refsect1>

  </refentry>

<!-- ********************************************************** -->

  <refentry id="PYGRESQL-GETLO">
    <refmeta>
      <refentrytitle>getlo</refentrytitle>
      <refmiscinfo>PYGRESQL - Getlo</refmiscinfo>
    </refmeta>
    <refnamediv>
      <refname>getlo</refname>
      <refpurpose>crea un objeto grande de un  <literal>oid</literal> dado [LO]</refpurpose>
    </refnamediv>

    <refsynopsisdiv>
<synopsis>
getlo(<replaceable>oid</replaceable>)
</synopsis>

      <refsect2 id="R2-PYGRESQL-GETLO-1">
        <title>Parámetros</title>
        <variablelist>
          <varlistentry>
            <term>
              <replaceable>oid</replaceable>
            </term>
            <listitem>
              <para><literal>OID</literal> de un objeto grande existente (integer/entero).</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-GETLO-2">
        <title>Tipo de retorno</title>
        <variablelist>
          <varlistentry>
            <term>
              pglarge
            </term>
            <listitem>
              <para>
                Objeto que maneja el objeto grande <productname>PostgreSQL</productname>.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-GETLO-3">
        <title>Excepciones</title>
        <variablelist>
          <varlistentry>
            <term>
              <errorname>Error de tipo</errorname>
            </term>
            <listitem>
              <para>
                Tipo de argumento erroneo o demasiados argumentos.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>
              <errorname>pg.error</errorname>
            </term>
            <listitem>
              <para>
                Conexión Inválida.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

    </refsynopsisdiv>

    <refsect1 id="R1-PYGRESQL-GETLO-1">
      <title>Descripción</title>
      <para>
       El método <function>getlo()</function> permite reusar un objeto grande creado anteriormente a traves de la interfaz <classname>pglarge</classname>, y provee al usuario de su propio <literal>oid</literal>.
      </para>
    </refsect1>

  </refentry>

<!-- ********************************************************** -->

  <refentry id="PYGRESQL-LOIMPORT">
    <refmeta>
      <refentrytitle>loimport</refentrytitle>
      <refmiscinfo>PYGRESQL - Loimport</refmiscinfo>
    </refmeta>
    <refnamediv>
      <refname>loimport</refname>
      <refpurpose>importa un archivo hacia un objeto grande <productname>PostgreSQL</productname> [LO]</refpurpose>
    </refnamediv>

    <refsynopsisdiv>
<synopsis>
loimport(<replaceable>filename(nombre del archivo)</replaceable>)
</synopsis>

      <refsect2 id="R2-PYGRESQL-LOIMPORT-1">
        <title>Parámetros</title>
        <variablelist>
          <varlistentry>
            <term>
              <replaceable>filename (nombre del archivo)</replaceable>
            </term>
            <listitem>
              <para>El nombre del archivo a ser importado (string).</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-LOIMPORT-2">
        <title>Tipo de retorno</title>
        <variablelist>
          <varlistentry>
            <term>
              pglarge
            </term>
            <listitem>
              <para>
                Objeto que maneja el objeto grande <productname>PostgreSQL</productname>.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-LOIMPORT-3">
        <title>Excepciones</title>
        <variablelist>
          <varlistentry>
            <term>
              <errorname>Erro de tipo</errorname>
            </term>
            <listitem>
              <para>
                Tipo de argumento erroneo o demasidos argumentos.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>
              <errorname>pg.error</errorname>
            </term>
            <listitem>
              <para>
                Conexión Inválida o error durante la importación del archivo.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

    </refsynopsisdiv>

    <refsect1 id="R1-PYGRESQL-LOIMPORT-1">
      <title>Descripción</title>
      <para>
     El método <function>loimport()</function> permite crear objetos grandes en un modo muy simple. Ud. simplemente entrega el nombre del archivo que contiene los datos que van a ser usados.
      </para>
    </refsect1>
    </refentry>
 </sect1>


<sect1 id="pygresql-pg-DB">
  <title>clase de envoltura de la base de datos: <classname>DB</classname></title>

  <para>
  El módulo <classname>pg</classname> contiene una clase llamada
   <classname>DB</classname>.Todos los métodos <classname>pgobject</classname>
están también incluidos en esta clase. Un número adicional de métodos de la clase
   <classname>DB</classname> son descriptos debajo. El modo preferido para usar este módulo es 
como sigue ( ver la descripción del método de inicialización siguiente.):

<programlisting>
import pg

db = pg.DB(...)

for r in db.query(
    "SELECT foo,bar
       FROM foo_bar_table
      WHERE foo !~ bar"
    ).dictresult():

    print '%(foo)s %(bar)s' % r
</programlisting>

   Lo siguiente describe los métodos y variables de esta clase.
  </para>

  <para>
   La clase <classname>DB</classname> es inicializada con los mismos argumentos que el método
 <function>pg.connect</function>. También inicializa unas pocoas variables internas. La sentencia 
 <literal>db =DB()</literal> abrirá la base de datos local con el nombre de usuario como lo hace
<function>pg.connect()</function>.
  </para>

    <refentry id="PYGRESQL-DB-PKEY">
      <refmeta>
        <refentrytitle>pkey</refentrytitle>
        <refmiscinfo>PYGRESQL - Pkey</refmiscinfo>
      </refmeta>
      <refnamediv>
        <refname>pkey</refname>
        <refpurpose>retorna la llave primaria de la tabla.</refpurpose>
      </refnamediv>

      <refsynopsisdiv>
<synopsis>
pkey(<replaceable>table(tabla)</replaceable>)
</synopsis>

        <refsect2 id="R2-PYGRESQL-DB-PKEY-1">
          <title>Parámetros</title>
          <variablelist>
            <varlistentry>
              <term>
                <replaceable>table</replaceable>
              </term>
              <listitem>
                <para>
                  nombre de la tabla.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </refsect2>

        <refsect2 id="R2-PYGRESQL-DB-PKEY-2">
          <title>Tipo de retorno</title>
          <variablelist>
            <varlistentry>
              <term>
                string (cadena de caracteres)
              </term>
              <listitem>
                <para>
                  Nombre del campo que es la llave primaria de la tabla.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </refsect2>

      </refsynopsisdiv>

      <refsect1 id="R1-PYGRESQL-DB-PKEY-1">
        <title>Descripción</title>
        <para>
 El método <function>pkey()</function> retorna la llave primaria de una tabla. Note que esto genera una excepción si la tabla no tiene clave primaria.
        </para>
      </refsect1>

    </refentry>

    <!-- ********************************************************** -->

    <refentry id="PYGRESQL-DB-GET-DATABASES">
      <refmeta>
        <refentrytitle>get_databases</refentrytitle>
        <refmiscinfo>PYGRESQL - Get_databases</refmiscinfo>
      </refmeta>
      <refnamediv>
        <refname>get_databases</refname>
        <refpurpose>obtiene la lista de las bases de datos del sistema.</refpurpose>
      </refnamediv>

      <refsynopsisdiv>
<synopsis>
get_databases()
</synopsis>

        <refsect2 id="R2-PYGRESQL-DB-GET-DATABASES-1">
          <title>Parámetros</title>
          <para>
ninguno
          </para>
        </refsect2>

        <refsect2 id="R2-PYGRESQL-DB-GET-DATABASES-2">
          <title>Tipo de retorno</title>
          <variablelist>
            <varlistentry>
              <term>
                list(lista)
              </term>
              <listitem>
                <para>
                  Lista de base de datos en el sistema.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </refsect2>

      </refsynopsisdiv>

      <refsect1 id="R1-PYGRESQL-DB-GET-DATABASES-1">
        <title>Descripción</title>
        <para>
A pesar de que Ud. puede hacer esto con un simple select, está agregado aquí por conveniencia.           </para>
      </refsect1>

    </refentry>

    <!-- ********************************************************** -->

    <refentry id="PYGRESQL-DB-GET-TABLES">
      <refmeta>
        <refentrytitle>get_tables</refentrytitle>
        <refmiscinfo>PYGRESQL - get_tables</refmiscinfo>
      </refmeta>
      <refnamediv>
        <refname>get_tables</refname>
        <refpurpose>obtiene una lista de las tablas en la base de datos conectada.</refpurpose>
      </refnamediv>

      <refsynopsisdiv>
<synopsis>
get_tables()
</synopsis>

        <refsect2 id="R2-PYGRESQL-DB-GET-TABLES-1">
          <title>Parámetros</title>
          <para>
ninguno
          </para>
        </refsect2>

        <refsect2 id="R2-PYGRESQL-DB-GET-TABLES-2">
          <title>Tipo de retorno</title>
          <variablelist>
            <varlistentry>
              <term>
                list(lista)
              </term>
              <listitem>
                <para>
                  Lista de tablas en la base de datos conectada.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </refsect2>

      </refsynopsisdiv>

      <refsect1 id="R1-PYGRESQL-DB-GET-TABLES-1">
        <title>Descripción</title>
        <para>
         A pesar de que Ud. puede hacer esto con un simple select, está agregado aquí por conveniencia.
        </para>
      </refsect1>

    </refentry>

    <!-- ********************************************************** -->

    <refentry id="PYGRESQL-DB-GET-ATTNAMES">
      <refmeta>
        <refentrytitle>get_attnames</refentrytitle>
        <refmiscinfo>PYGRESQL - Get_Attnames</refmiscinfo>
      </refmeta>
      <refnamediv>
        <refname>get_attnames</refname>
        <refpurpose>retorna los nombres de atributo de una tabla</refpurpose>
      </refnamediv>

      <refsynopsisdiv>
<synopsis>
get_attnames(<replaceable>table</replaceable>)
</synopsis>

        <refsect2 id="R2-PYGRESQL-DB-GET-ATTNAMES-1">
          <title>Parámetros</title>
          <variablelist>
            <varlistentry>
              <term>
                <replaceable>table(tabla)</replaceable>
              </term>
              <listitem>
                <para>
                  nombre de la tabla.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </refsect2>

        <refsect2 id="R2-PYGRESQL-DB-GET-ATTNAMES-2">
          <title>Tipo de retorno</title>
          <variablelist>
            <varlistentry>
              <term>
                list(lista)
              </term>
              <listitem>
                <para>
                  Lista de los nombres de atributo.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </refsect2>

      </refsynopsisdiv>

      <refsect1 id="R1-PYGRESQL-DB-GET-ATTNAMES-1">
        <title>Descripción</title>
        <para>
          Dado el nombre de una tabla, devuelve una lista de nombres de atributo.
        </para>
      </refsect1>

    </refentry>

    <!-- ********************************************************** -->

    <refentry id="PYGRESQL-DB-GET">
      <refmeta>
        <refentrytitle>get</refentrytitle>
        <refmiscinfo>PYGRESQL - Get</refmiscinfo>
      </refmeta>
      <refnamediv>
        <refname>get</refname>
        <refpurpose>obtiene una tupla de una tabla de una base de datos</refpurpose>
      </refnamediv>

      <refsynopsisdiv>
<synopsis>
get(<replaceable>table</replaceable>, <replaceable>arg</replaceable>, <optional><replaceable>keyname</replaceable></optional>)
</synopsis>

        <refsect2 id="R2-PYGRESQL-DB-GET-1">
          <title>Parámetros</title>
          <variablelist>
            <varlistentry>
              <term>
                <replaceable>table(tabla)</replaceable>
              </term>
              <listitem>
                <para>
                  Nombre de la tabla.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <replaceable>arg</replaceable>
              </term>
              <listitem>
                <para>
                  O un diccionario o un valor para ser buscado.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <optional><replaceable>keyname</replaceable></optional>
              </term>
              <listitem>
                <para>
                  Nombre del campo para usar como clave (opcional).
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </refsect2>

        <refsect2 id="R2-PYGRESQL-DB-GET-2">
          <title>Tipo de retorno</title>
          <variablelist>
            <varlistentry>
              <term>
                dictionary
              </term>
              <listitem>
                <para>
                  Nombres de atributos de un mapeo de diccionario para poner valores en fila.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </refsect2>

      </refsynopsisdiv>

      <refsect1 id="R1-PYGRESQL-DB-GET-1">
        <title>Descripción</title>
        <para>
        Este método es el mecanismo básico para obtener una sola fila. Asume que la llave especifica una única fila. Si no se especifica keyname(nombre de llave) entonces es usada la clave primaria de la tabla. Si arg es una diccionario, entonces, el valor para la llave es tomado desde el diccionario y es modificado para incluir nuevos valores, remplazando valores existentes donde sea necesario. El oid es también puesto en el diccionario pero para permitir al llamador funcionar con múltiples tablas, el atributo name (nombre) es concatenado para hacerlo único. Consiste de una cadena de caracteres <literal>oid_</literal> seguida del nombre de una tabla.  
        </para>
      </refsect1>

    </refentry>

    <!-- ********************************************************** -->

    <refentry id="PYGRESQL-DB-INSERT">
      <refmeta>
        <refentrytitle>insert</refentrytitle>
        <refmiscinfo>PYGRESQL - Insert</refmiscinfo>
      </refmeta>
      <refnamediv>
        <refname>insert</refname>
        <refpurpose>inserta una tupla en una tabla de una base de datosa.</refpurpose>
      </refnamediv>

      <refsynopsisdiv>
<synopsis>
insert(<replaceable>table</replaceable>, <replaceable>a</replaceable>)
</synopsis>

        <refsect2 id="R2-PYGRESQL-DB-INSERT-1">
          <title>Parámetros</title>
          <variablelist>
            <varlistentry>
              <term>
                <replaceable>table</replaceable>
              </term>
              <listitem>
                <para>
                  Nombre de la tabla.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <replaceable>a</replaceable>
              </term>
              <listitem>
                <para>
                  Un diccionario de valores.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </refsect2>

        <refsect2 id="R2-PYGRESQL-DB-INSERT-2">
          <title>Tipo de retorno</title>
          <variablelist>
            <varlistentry>
              <term>
                integer(entero)
              </term>
              <listitem>
                <para>
                  El OID de la fila recientemente insertada.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </refsect2>

      </refsynopsisdiv>

      <refsect1 id="R1-PYGRESQL-DB-INSERT-1">
        <title>Descripción</title>
        <para>
	Este método inserta valores en la tabla especificada, llenando los valores del diccionario. Entonces recarga el diccionario con los valores de la base de datos. Esto causa que el diccionario sea actualizado con valores que son modificados por reglas, gatilladores, etc.            </para>
      </refsect1>

    </refentry>

    <!-- ********************************************************** -->

    <refentry id="PYGRESQL-DB-UPDATE">
      <refmeta>
        <refentrytitle>update</refentrytitle>
        <refmiscinfo>PYGRESQL - Update</refmiscinfo>
      </refmeta>
      <refnamediv>
        <refname>update</refname>
        <refpurpose>actualiza una tabla de una base de datos</refpurpose>
      </refnamediv>

      <refsynopsisdiv>
<synopsis>
update(<replaceable>table</replaceable>, <replaceable>a</replaceable>)
</synopsis>

        <refsect2 id="R2-PYGRESQL-DB-UPDATE-1">
          <title>Parámetros</title>
          <variablelist>
            <varlistentry>
              <term>
                <replaceable>table</replaceable>
              </term>
              <listitem>
                <para>
                  Nombre de la tabla.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <replaceable>a</replaceable>
              </term>
              <listitem>
                <para>
                  Un diccionario de valores.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </refsect2>

        <refsect2 id="R2-PYGRESQL-DB-UPDATE-2">
          <title>Tipo de retorno</title>
          <variablelist>
            <varlistentry>
              <term>
                integer(entero)
              </term>
              <listitem>
                <para>
                  El OID de la fila recientemente actualizada.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </refsect2>

      </refsynopsisdiv>

      <refsect1 id="R1-PYGRESQL-DB-UPDATE-1">
        <title>Descripción</title>
        <para>
        Es similar a insertar pero actualiza una fila existente. La actualización es basada en los valores de OID como concatenados con get. El arreglo retornado es el enviado modificado para reflejar cualquier cambio causado por la actualización debido a gatilladores, reglas, valores por defecto, etc.  
        </para>
      </refsect1>

    </refentry>

    <!-- ********************************************************** -->

    <refentry id="PYGRESQL-DB-CLEAR">
      <refmeta>
        <refentrytitle>clear</refentrytitle>
        <refmiscinfo>PYGRESQL - Clear</refmiscinfo>
      </refmeta>
      <refnamediv>
        <refname>clear</refname>
        <refpurpose>elimina una tabla de una base de datos</refpurpose>
      </refnamediv>

      <refsynopsisdiv>
<synopsis>
clear(<replaceable>table</replaceable>, <optional><replaceable>a</replaceable></optional>)
</synopsis>

        <refsect2 id="R2-PYGRESQL-DB-CLEAR-1">
          <title>Parámetros</title>
          <variablelist>
            <varlistentry>
              <term>
                <replaceable>table</replaceable>
              </term>
              <listitem>
                <para>
                  Nombre de la tabla.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <optional><replaceable>a</replaceable></optional>
              </term>
              <listitem>
                <para>
                  Un diccionario de valores.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </refsect2>

        <refsect2 id="R2-PYGRESQL-DB-CLEAR-2">
          <title>Tipo de retorno</title>
          <variablelist>
            <varlistentry>
              <term>
                dictionary
              </term>
              <listitem>
                <para>
                 Un diccionario con una fila vacia.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </refsect2>

      </refsynopsisdiv>

      <refsect1 id="R1-PYGRESQL-DB-CLEAR-1">
        <title>Descripción</title>
        <para>
	Este método elimina todos los atributos y valores determinados por los tipos. Tipos numéricos son fijados en 0, fechas son fijadas en  <literal>'hoy'</literal> y cualquier cosa más es fijada en una cadena de caracteres vacia. Si el arreglo de argumentos está presente, es usado como el arreglo y cualquier entrada marcando nombres de atributos son eliminadas con cualquier otra cosa dejada sin ecadenar.
        </para>
      </refsect1>

    </refentry>

    <!-- ********************************************************** -->

    <refentry id="PYGRESQL-DB-DELETE">
      <refmeta>
        <refentrytitle>delete</refentrytitle>
        <refmiscinfo>PYGRESQL - Delete</refmiscinfo>
      </refmeta>
      <refnamediv>
        <refname>delete</refname>
        <refpurpose>borra una fila de la tabla</refpurpose>
      </refnamediv>

      <refsynopsisdiv>
<synopsis>
delete(<replaceable>table</replaceable>, <optional><replaceable>a</replaceable></optional>)
</synopsis>

        <refsect2 id="R2-PYGRESQL-DB-DELETE-1">
          <title>Parámetros</title>
          <variablelist>
            <varlistentry>
              <term>
                <replaceable>table</replaceable>
              </term>
              <listitem>
                <para>
                  Nombre de una tabla.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <optional><replaceable>a</replaceable></optional>
              </term>
              <listitem>
                <para>
                  Un diccionario de valores.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </refsect2>

        <refsect2 id="R2-PYGRESQL-DB-DELETE-2">
          <title>Tipo de retorno</title>
          <para>
            nada
          </para>
        </refsect2>

      </refsynopsisdiv>

      <refsect1 id="R1-PYGRESQL-DB-DELETE-1">
        <title>Descripción</title>
        <para>
          Este método borra la fila de una talba. Borra basado en el OID como fue descripto anteriormente.
        </para>
      </refsect1>

    </refentry>

    <!-- ********************************************************** -->

  </sect1>

  <!-- ********************************************************** -->
  <!-- ********************************************************** -->

******* Colocar aquí la tercera parte del fichero.
******* Dejar estas líneas para el constructor.

