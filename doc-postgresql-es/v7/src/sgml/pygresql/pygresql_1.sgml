<!-- $Header: /home/cvs/lucas/doc-postgresql-es/v7/src/sgml/pygresql/pygresql_1.sgml,v 1.4 2002/04/11 22:04:18 emaldonadog Exp $ -->

<chapter id="pygresql">
 <title>Interface <application>PyGreSQL</application> - <application>Python</application></title>

 <note>
  <title>Autor</title>
  <para>
   Escrito por D'Arcy J.M. Cain (<email>darcy@druid.net</email>).
   Fuertemente basado en el código esrito por Pascal Andre
   <email>andre@chimay.via.ecp.fr</email>.  Copyright &copy; 1995,
   Pascal Andre.  Otras Modificaciones Copyright &copy; 1997-2000 by
   D'Arcy J.M. Cain.
  </para>
 </note>


<![IGNORE[
 <sect1 id="pygresql-install">
  <title>Instalación</title>

  <itemizedlist>
   <listitem>
    <para>
	Si tu estás sobre <acronym>NetBSD</acronym>, mira en el directorio packages bajo databases.
	Si no está allí todavía, debería estar ahí brevemente. Tu puedes también recoger
los archivos del paquete de <ulink url="ftp://ftp.druid.net/pub/distrib/pygresql.pkg.tgz"
     >ftp://ftp.druid.net/pub/distrib/pygresql.pkg.tgz</ulink>.  También hay un paquete en la 
colección de puertos <acronym>FreeBSD</acronym> pero como yo escribo, esto está en la versión 2.1.
Trataré de tomar aquella actualizada también.
    </para>
   </listitem>

   <listitem>
    <para>
Para la instalación de linux mira en <filename>README.linux</filename>.
Si tu estás sobre un sistema <acronym>x86</acronym> que usa <acronym>RPMs</acronym>,
entonces tu puedes recoger un <acronym>RPM</acronym> en <ulink
     url="ftp://ftp.druid.net/pub/distrib/pygresql.i386.rpm"
     >ftp://ftp.druid.net/pub/distrib/pygresql.i386.rpm</ulink>.
    </para>
   </listitem>

   <listitem>
    <para>
Nota que si tu estás usando el módulo  <acronym>DB-API</acronym> tu
debes también instalar <acronym>mxDateTime</acronym> de <ulink
     url="http://starship.python.net/~lemburg/mxDateTime.html"
     >http://starship.python.net/~lemburg/mxDateTime.html</ulink>.
    </para>
   </listitem>

   <listitem>
    <para>
También, chequea <filename>setup.py</filename> para un método alternativo de 
instalación del paquete, usando Distutils de Python.
    </para>
   </listitem>

  </itemizedlist>
    
  <para>
Tu tienes dos opciones. Puedes compilar <productname>PyGreSQL</productname> 
como un nodo solitario (stand-alone) o puedes construirlo en el intérprete
<productname>Python</productname>.
  </para>

  <sect2>
   <title>General</title>

   <itemizedlist>
    <listitem>
     <para>
	Tu debes primero tener instalado <productname>Python</productname>
      y <productname>PostgreSQL</productname> en tu sistema. Los archivos+
	de cabecera y las librerías de desarrolladores para ambos, 
      <productname>Python</productname> y <productname>PostgreSQL</productname>
	deben ser instaladas en tu sistema antes de que tu puedas construir 
<productname>PyGreSQL</productname>.
Si tu construyes ambos, <productname>Python</productname> y
      <productname>PostgreSQL</productname> desde la fuente,
	tu debes ser bueno. Su tu sistema usa algún mecanismo de paquete (como paquetes
      <acronym>RPM</acronym> o <acronym>NetBSD</acronym>),
	Entonces tu probablemente necesitarás instalar paquetes como      
      <acronym>Python-devel</acronym> en conjunto con el paquete
      <productname>Python</productname>.
     </para>
    </listitem>

    <listitem>
     <para>
      <productname>PyGreSQL</productname> es implementado como tres partes,
una módulo C, etiquetado <acronym>_pg</acronym>  y dos
envolturas <productname>Python</productname> llamadas
<filename>pg.py</filename> y <filename>pgdb.py</filename>.
Esto cambió entre 2.1 y 2.2 y de nuevo en 3.0. Estos cambios no deben afectar ningún 
programa existente, pero la instalación es un poquito diferente.      
     </para>
    </listitem>

    <listitem>
     <para>
Descarga y desempaqueta <productname>PyGreSQL</productname>
si tu no lo has hecho todavía.
     </para>
    </listitem>
   </itemizedlist>
  </sect2>

  <sect2>
   <title>Stand-alone</title>

   <itemizedlist>
    <listitem>
     <para>
En el directorio que contiene <filename>pgmodule.c</filename>, ejecuta el 
siguiente comando
<programlisting>
cc -fpic -shared -o _pg.so -I[pyInc] -I[pgInc] -L[pgLib] -lpq pgmodule.c
</programlisting>

      Donde:
      <itemizedlist>
       <listitem>
        <para>
         [pyInc] = Ruta del <productname>Python</productname>
         incluye (usualmente <filename>Python.h</filename>)
        </para>
       </listitem>

       <listitem>
        <para>
         [pgInc] = Ruta del <productname>PostgreSQL</productname>
         incluye (usualmente <filename>postgres.h</filename>)
        </para>
       </listitem>

       <listitem>
        <para>
         [pgLib] = Ruta de las librerías <productname>PostgreSQL</productname>
         (usualmente <filename>libpq.so</filename> o
         <filename>libpq.a</filename>)
        </para>
       </listitem>
      </itemizedlist>

      Alguna de las opciones pueden ser agregadas a esta línea:
      <itemizedlist>
       <listitem>
        <para>
         <literal>-DNO_DEF_VAR</literal> - no soporta variables por defecto
         </para>
       </listitem>

       <listitem>
        <para>
         <literal>-DNO_DIRECT</literal>   - sin métodos de acceso directo
        </para>
       </listitem>

       <listitem>
        <para>
         <literal>-DNO_LARGE</literal>    - no soporta objetos grandes
        </para>
       </listitem>

       <listitem>
        <para>
         <literal>-DNO_SNPRINTF</literal> - si ejecuta un sistema sin llamadas a snprintf
        </para>
       </listitem>

       <listitem>
        <para>
         <literal>-DNO_PQSOCKET</literal> - Si ejecuta un
         <productname>PostgreSQL</productname> viejo
        </para>
       </listitem>
      </itemizedlist>

En algunos sistemas tu puedes necesitar incluir:
      <literal>-lcrypt</literal> en la lista de librerías para hacerla compilar.
      Define <literal>DNO_PQSOCKET</literal> si tu estás usando una versión de 
 <productname>PostgreSQL</productname> anterior a la 6.4 que no tenga la función
<function>PQsocket</function>. Las otras opciones serán descriptas en las próximas secciones.
     </para>
    </listitem>
   <listitem>

   <para>
    Testea el nuevo módulo. Algo como lo siguiente debería funcionar.
<screen>
<prompt>$</prompt> <userinput>python</userinput>

<prompt>&gt;&gt;&gt;</prompt> <userinput>import _pg</userinput>
<prompt>&gt;&gt;&gt;</prompt> <userinput>db = _pg.connect('thilo', 'localhost')</userinput>
<prompt>&gt;&gt;&gt;</prompt> <userinput>db.query("INSERT INTO test VALUES ('ping', 'pong');")</userinput>
18304
<prompt>&gt;&gt;&gt;</prompt> <userinput>db.query("SELECT * FROM test;")</userinput>
 eins | zwei
------+------
 ping | pong
(1 row)
</screen>
          </para>
        </listitem>
        <listitem>
          <para>
Finalmente, mueve el <filename>_pg.so</filename>,
            <filename>pg.py</filename>, y <filename>pgdb.py</filename>
            hacia un directorio en tu <literal>PYTHONPATH(ruta de pyton)</literal>.
Un buen lugar sería <filename>/usr/lib/python1.5/site-python</filename>
            si tus módulos <productname>Python</productname> están en
            <filename>/usr/lib/python1.5</filename>.
          </para>
        </listitem>
      </itemizedlist>
    </sect2>


    <sect2>
      <title>Construir- dentro del interpretador python</title>

      <itemizedlist>
        <listitem>
          <para>
	Encuentra el directorio donde están tus archivos del            
 '<filename>Setup</filename>'(usualmente <filename>??/Modules</filename>) 
en la fuente jerárquica de  <productname>Python</productname> y copia o enlaza el archivo
 '<filename>pgmodule.c</filename>' allí.
          </para>
        </listitem>
        <listitem>
          <para>
            Agrega la siguiente línea a tu archivo Setup
            <ProgramListing>
_pg  pgmodule.c -I[pgInc] -L[pgLib] -lpq # -lcrypt # necesitado en algunos sistemas
            </ProgramListing>
            Donde:
            <itemizedlist>
              <listitem>
                <para>
                  [pgInc] = Ruta del <productname>PostgreSQL</productname>
                  incluye (usualmente <filename>postgres.h</filename>)
                </para>
              </listitem>
              <listitem>
                <para>
                  [pgLib] = Ruta de las librerías de <productname>PostgreSQL</productname>
                  (usualmente <filename>libpq.so</filename>
                  o <filename>libpq.a</filename>)
                </para>
              </listitem>
            </itemizedlist>
            Algunas opciones pueden ser agregadas a esta línea:
            <itemizedlist>
              <listitem>
                <para>
                  <literal>-DNO_DEF_VAR</literal>  - no soporta variables por defecto
                </para>
              </listitem>
              <listitem>
                <para>
                  <literal>-DNO_DIRECT</literal>   - sin métodos de acceso directo
                </para>
              </listitem>
              <listitem>
                <para>
                  <literal>-DNO_LARGE</literal>    - no soporta objetos grandes
                </para>
              </listitem>
              <listitem>
                <para>
                  <literal>-DNO_SNPRINTF</literal> - si ejecuta un sistema sin llamada a sprintf
                </para>
              </listitem>
              <listitem>
                <para>
                  <literal>-DNO_PQSOCKET</literal> - si ejecuta un
                  <productname>PostgreSQL</productname> viejo
                </para>
              </listitem>
            </itemizedlist>
            Define <literal>DNO_PQSOCKET</literal> si tu estás usando una versión
de <productname>PostgreSQL</productname> anterior a la 6.4 que no tiene la función
 <function>PQsocket</function>. Las otras opciones se describirán en las próximas secciones.
          </para>
        </listitem>
        <listitem>
          <para>
Si tu quieres un módulo compartido, asegúrate que la palabra clave            
"<literal>*shared*</literal>" no esté comentada y agrega la línea anterior debajo. Tu necesitabas
instalar tus módulos compartidos con "make sharedinstall" (haz instalación compartida) pero no 
parece mas ser verdad.
          </para>
        </listitem>
        <listitem>
          <para>
          Copia <filename>pg.py</filename> en el directorio lib donde están el resto de tus 
módulos están. Por ejemplo, Eso  es <filename>/usr/local/lib/Python</filename> en mi sistema.
          </para>
        </listitem>
        <listitem>
          <para>
           reconstruye <productname>Python</productname> desde el directorio root
de la jerarquía de fuente <productname>Python</productname> ejecutando
            <ProgramListing>
make -f Makefile.pre.in boot
make && make install
            </ProgramListing>
          </para>
        </listitem>
        <listitem>
          <para>
           Para más detalles lee la documentación en la parte superior de
            <filename>Makefile.pre.in</filename>
          </para>
        </listitem>
      </itemizedlist>
    </sect2>

  </sect1>

]]>

 <sect1 id="pygresql-pg">
  <title>El módulo <literal>pg</literal></title>

  <para>
   Tu puedes elegir usar una interfaz más madura provista por el módulo 
  <literal>pg</literal> o por el contrario, una interface más nueva y dócil
   <literal>pgdb</literal> con la especificación <ulink
   url="http://www.python.org/topics/database/DatabaseAPI-2.0.html"
   ><acronym>DB-API 2.0</acronym></ulink> desarrollada por el 
<acronym>DB-SIG</acronym> de <productname>Python</productname> .
  </para>

  <para>
   Aquí describimos solamente la vieja    <acronym>API</acronym> de <literal>pg</literal>.
Mientras <productname>PyGreSQL</productname> no contenga una descripción de la
<acronym>DB-API</acronym> tu debes leer acerca de la
   <acronym>API</acronym> en <ulink
   url="http://www.python.org/topics/database/DatabaseAPI-2.0.html"
   >http://www.python.org/topics/database/DatabaseAPI-2.0.html</ulink>.
  </para>

  <para>
Un tutorial a modo de introducción de la   
 <acronym>DB-API</acronym>puede ser encontrado en <ulink
   url="http://www2.linuxjournal.com/lj-issues/issue49/2605.html"
   >http://www2.linuxjournal.com/lj-issues/issue49/2605.html</ulink>
  </para>

  <para>
   El módulo <literal>pg</literal> define tres objetos:
   <itemizedlist>
    <listitem>
     <para>
      <classname>pgobject</classname>, el cual maneja la conección y todas las demandas de la 
base de datos,
     </para>
    </listitem>

    <listitem>
     <para>
      <classname>pglargeobject</classname>, el cual maneja todos los accesos a los objetos 
grandes de <productname>Postgres</productname> y
     </para>
    </listitem>

    <listitem>
     <para>
      <literal>pgqueryobject</literal> que maneja resultados de consultas.
     </para>
    </listitem>
   </itemizedlist>
  </para>

  <para>
Si tu quieres ver un ejemplo simple del uso de algunas de estas funciones, ver
 <ulink url="http://www.druid.net/rides"
   >http://www.druid.net/rides</ulink> donde tengo un link (enlace) al fondo del código actual de 
 <productname>Python</productname> para la página.
  </para>

  <sect2>
   <title>Constantes</title>

   <para>
    Algunas constantes están definidas en el diccionario del módulo
<literal>pg</literal>. Están pensadas para ser usadas como parámetros para llamadas a métodos.
Debes consultar las descripciones <literal>libpq</literal>
 (<xref linkend="libpq">) para más información acerca de ellas. Las constantes son:

    <variablelist>
     <varlistentry>
      <term><varname>INV_READ</varname></term>
      <term><varname>INV_WRITE</varname></term>
      <term><varname>INV_ARCHIVE</varname></term>
      <listitem>
       <para>
        modos de acceso a objetos grandes, usados por
        <function>(pgobject.)locreate</function> y
        <function>(pglarge.)open</function>.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><varname>SEEK_SET</varname></term>
      <term><varname>SEEK_CUR</varname></term>
      <term><varname>SEEK_END</varname></term>
      <listitem>
       <para>
        banderas de posición, usadas por <function>(pglarge.)seek</function>.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><varname>versión</varname></term>
      <term><varname>__version__</varname></term>
      <listitem>
       <para>
        constante que da la versión actual
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </para>
  </sect2>
 </sect1>


 <sect1 id="pygresql-pg-functions">
  <title>Funciones del módulo <literal>pg</literal></title>

  <para>
   El módulo <literal>pg</literal> define solamente unos pocos métodos que permiten
conectarse a una base de datos y definir
<quote>variables por defecto </quote> que sobreescriben las variables de ambientes usadas por
 <productname>PostgreSQL</productname>.
  </para>

  <para>
   Estas <quote>variables por defecto</quote> fueron diseñadas para permitirte
manejar parámetros generales de conexión sin un código pesado en tus programas. Tu puedes
sugerir al usuario por un valor, ponerlo en la variable por defecto, y olvidarlo, sin tener que
modificar tu ambiente. El soporte de variables por defecto puede ser deshabilitado fijando la 
opción <acronym>-DNO_DEF_VAR</acronym> en el archivo setup de Python.
Métodos relativos a esto son especificados por la etiqueta [DV].
  </para>

  <para>
Todas las variables son fijadas en  <symbol>None </symbol> en la inicialización del módulo,
especificando que las variables estándares de ambiente deben ser usadas.
  </para>

  <refentry id="pygresql-connect">
   <refmeta>
    <refentrytitle>conectar</refentrytitle>
    <refmiscinfo>PYGRESQL - Manejo de conexión</refmiscinfo>
   </refmeta>

   <refnamediv>
    <refname>connect</refname>
    <refpurpose>abre una conexión hacia el servidor de base de datos</refpurpose>
   </refnamediv>

   <refsynopsisdiv>
<synopsis>
connect(<optional><replaceable>dbname</replaceable></optional>, <optional><replaceable>host</replaceable></optional>, <optional><replaceable>port</replaceable></optional>, <optional><replaceable>opt</replaceable></optional>, <optional><replaceable>tty</replaceable></optional>, <optional><replaceable>user</replaceable></optional>, <optional><replaceable>passwd</replaceable></optional>)
</synopsis>

    <refsect2 id="pygresql-connect-parameters">
     <title>Parámetros</title>
          
     <variablelist>
      <varlistentry>
       <term><replaceable>dbname</replaceable></term>

       <listitem>
        <para>Nombre de la base de datos conectada (string/None).</para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><replaceable>host</replaceable></term>

       <listitem>
        <para>Nombre de la máquina servidor(string/None).</para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><replaceable>port</replaceable></term>

       <listitem>
        <para>Puerto usado por el servidor de base de datos(integer/-1).</para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><replaceable>opt</replaceable></term>

       <listitem>
        <para>
         Opciones para el servidor (string/None).
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><replaceable>tty</replaceable></term>

       <listitem>
        <para>
         Archivo o tty para la salida de depuración opcional desde el backend
         (string/None).
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><replaceable>user</replaceable></term>

       <listitem>
        <para>
         Usuario <productname>PostgreSQL</productname> (string/None).
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><replaceable>passwd</replaceable></term>

       <listitem>
        <para>Password (palabra clave) para el usuario(string/None).</para>
       </listitem>
      </varlistentry>
     </variablelist>
    </refsect2>
        
    <refsect2 id="pygresql-connect-return">
     <title>Tipo de Retorno</title>

     <variablelist>
      <varlistentry>
       <term><replaceable>pgobject</replaceable></term>

       <listitem>
        <para>
         Si es exitoso, un objeto manejando una conexión a la base de datos es retornado.
        </para>
       </listitem>
      </varlistentry>
     </variablelist>
    </refsect2>
        
    <refsect2 id="pygresql-connect-exceptions">
     <title>Excepciones</title>

     <variablelist>
      <varlistentry>
       <term><errorname>Error de tipo</errorname></term>

       <listitem>
        <para>
         Tipo de argumento erróneo, o demasiados argumentos.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><errorname>Error de sintaxis</errorname></term>

       <listitem>
        <para>
         Definición de argumento duplicada.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><errorname>pg.error</errorname></term>

       <listitem>
        <para>
         Algún error ocurrido durante la definición de la conexión pg.
        </para>
       </listitem>
      </varlistentry>
     </variablelist>

     <para>
      (+ todas las excepciones relativas a la locación de los objetos)
     </para>
    </refsect2>
   </refsynopsisdiv>
      
   <refsect1 id="pygresql-connect-description">
    <title>Descripción</title>

    <para>
Este método abre una conexión hacia una base de datos especificada sobre un servidor de      
<productname>PostgreSQL</productname> dado. Tu puedes usar palabras claves aquí, como está 
descripto en el tutorial de <productname>Python</productname>.Los nombres de las palabras claves
son los nombres de los parámetros dados en la línea de sintaxis.
Para una descripción precisa de los parámetros, por favor referirse al manual de usuario 
de <productname>PostgreSQL</productname>.
    </para>
   </refsect1>
      
   <refsect1 id="pygresql-connect-examples">
    <title>Ejemplos</title>

    <para>
<programlisting>
import pg

con1 = pg.connect('testdb', 'myhost', 5432, None, None, 'bob', None)
con2 = pg.connect(dbname='testdb', host='localhost', user='bob')
</programlisting>
    </para>
   </refsect1>
      
  </refentry>


  <refentry id="pygresql-get-defhost">
   <refmeta>
    <refentrytitle>get_defhost</refentrytitle>
    <refmiscinfo>Manejo de conexión PYGRESQL</refmiscinfo>
   </refmeta>

   <refnamediv>
    <refname>get_defhost</refname>
    <refpurpose>Toma el nombre del host por defecto [DV]</refpurpose>
   </refnamediv>

   <refsynopsisdiv>
<synopsis>
get_defhost()
</synopsis>

    <refsect2 id="pygresql-get-defhost-parameters">
     <title>Parámetros</title>

     <para>
      ninguno
     </para>
    </refsect2>

    <refsect2 id="pygresql-get-defhost-return">
     <title>Tipo de retorno</title>

     <variablelist>
      <varlistentry>
       <term>string o Nada</term>

       <listitem>
        <para>
         especificación de host por defecto
        </para>
       </listitem>
      </varlistentry>
     </variablelist>
    </refsect2>

    <refsect2 id="pygresql-get-defhost-exceptions">
     <title>Excepciones</title>

     <variablelist>
      <varlistentry>
       <term><errorname>Error de sintaxis</errorname></term>

       <listitem>
        <para>
         Demasiados argumentos.
        </para>
       </listitem>
      </varlistentry>
     </variablelist>
    </refsect2>

   </refsynopsisdiv>

   <refsect1 id="pygresql-get-defhost-description">
    <title>Descripción</title>

    <para>
     <function>get_defhost()</function>retorna la especificación del host actual por defecto, 
o nada si las variables de ambiente deben ser usadas. Las variables de ambientes no serán desbloqueadas.
    </para>
   </refsect1>

  </refentry>


  <refentry id="pygresql-set-defhost">
    <refmeta>
      <refentrytitle>set_defhost</refentrytitle>
      <refmiscinfo>Manejo de conexión PYGRESQL </refmiscinfo>
    </refmeta>
    <refnamediv>
      <refname>set_defhost</refname>
      <refpurpose>Fija el nombre del host por defecto [DV]</refpurpose>
    </refnamediv>

    <refsynopsisdiv>
<synopsis>
set_defhost(<replaceable>host</replaceable>)
</synopsis>

      <refsect2 id="pygresql-set-defhost-parameters">
        <title>Parámetros</title>
        <variablelist>
          <varlistentry>
            <term>
              <replaceable>host</replaceable>
            </term>
            <listitem>
              <para>Nuevo host por defecto (string/Nada).</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

      <refsect2 id="pygresql-set-defhost-return">
        <title>Tipo de retorno</title>
        <variablelist>
          <varlistentry>
            <term>
              string o Nada
            </term>
            <listitem>
              <para>
                Especificación previa del host por defecto.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

      <refsect2 id="pygresql-set-defhost-exceptions">
        <title>Excepciones</title>
        <variablelist>
          <varlistentry>
            <term>
              <errorname>Error de tipo</errorname>
            </term>
            <listitem>
              <para>
                Tipo de argumento erróneo, o demasiados argumentos.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

    </refsynopsisdiv>

    <refsect1 id="pygresql-set-defhost-description">
      <title>Descripción</title>
      <para>
        <function>set_defhost()</function> fija el valor del host por defecto
para nuevas coneccions. Si nada es dado como parámetro, las variables de ambiente serán usadas
en conexiones futuras. Retorna la configuración del host por defecto previo.
      </para>
    </refsect1>

  </refentry>

<!-- ********************************************************** -->

  <refentry id="pygresql-get-defport">
    <refmeta>
      <refentrytitle>get_defport</refentrytitle>
      <refmiscinfo>Manejo de conexión PYGRESQL </refmiscinfo>
    </refmeta>
    <refnamediv>
      <refname>get_defport</refname>
      <refpurpose>Toma el puerto por defecto[DV]</refpurpose>
    </refnamediv>

    <refsynopsisdiv>
<synopsis>
get_defport()
</synopsis>

      <refsect2 id="R2-PYGRESQL-GET-DEFPORT-1">
        <title>Parámetros</title>
        <para>
          ninguno
        </para>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-GET-DEFPORT-2">
        <title>Tipo de retorno</title>
        <variablelist>
          <varlistentry>
            <term>
              integer o nada
            </term>
            <listitem>
              <para>
                Especificación del puerto por defecto
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-GET-DEFPORT-3">
        <title>Excepciones</title>
        <variablelist>
          <varlistentry>
            <term>
              <errorname>Error de Sintaxis</errorname>
            </term>
            <listitem>
              <para>
                Demasiados argumentos.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

    </refsynopsisdiv>

    <refsect1 id="R1-PYGRESQL-GET-DEFPORT-1">
      <title>Descripción</title>
      <para>
        <function>get_defport()</function> retorno la especificación del puerto por defecto
actual, o nada si las variables de ambientes deben ser usadas. Las variables de ambiente no 
serán desbloqueadas.
      </para>
    </refsect1>

  </refentry>

<!-- ********************************************************** -->

  <refentry id="PYGRESQL-SET-DEFPORT">
    <refmeta>
      <refentrytitle>set_defport</refentrytitle>
      <refmiscinfo>Manejo de conexión PYGRESQL </refmiscinfo>
    </refmeta>
    <refnamediv>
      <refname>set_defport</refname>
      <refpurpose>Fija el puerto por defecto [DV]</refpurpose>
    </refnamediv>

    <refsynopsisdiv>
<synopsis>
set_defport(<replaceable>port</replaceable>)
</synopsis>

      <refsect2 id="R2-PYGRESQL-SET-DEFPORT-1">
        <title>Parámetros</title>
        <variablelist>
          <varlistentry>
            <term>
              <replaceable>port</replaceable>
            </term>
            <listitem>
              <para>Nuevo puerto por defecto(integer/-1).</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-SET-DEFPORT-2">
        <title>Tipo de retorno</title>
        <variablelist>
          <varlistentry>
            <term>
              integer o nada
            </term>
            <listitem>
              <para>
                Especificación previa del puerto por defecto.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-SET-DEFPORT-3">
        <title>Exceptions</title>
        <variablelist>
          <varlistentry>
            <term>
              <errorname>Error de tipo</errorname>
            </term>
            <listitem>
              <para>
                Tipo de argumento erróneo, o demasiados argumentos.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

    </refsynopsisdiv>

    <refsect1 id="R1-PYGRESQL-SET-DEFPORT-1">
      <title>Descripción</title>
      <para>
        <function>set_defport()</function> fija el valor del puerto por defecto
para nuevas conexiones. Si -1 es entregado como parámetro, las variables de ambiente serán usadas
en conexiones futuras. Retorna la configuración previa del puerto por defecto.
      </para>
    </refsect1>

  </refentry>

<!-- ********************************************************** -->

  <refentry id="PYGRESQL-GET-DEFOPT">
    <refmeta>
      <refentrytitle>get_defopt</refentrytitle>
      <refmiscinfo>Manejo de conexión PYGRESQL </refmiscinfo>
    </refmeta>
    <refnamediv>
      <refname>get_defopt</refname>
      <refpurpose>Da la especificación de las opciones por defecto [DV]</refpurpose>
    </refnamediv>

    <refsynopsisdiv>
<synopsis>
get_defopt()
</synopsis>

      <refsect2 id="R2-PYGRESQL-GET-DEFOPT-1">
        <title>Parámetros</title>
        <para>
          ninguno
        </para>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-GET-DEFOPT-2">
        <title>Tipo de retorno</title>
        <variablelist>
          <varlistentry>
            <term>
              string o Nada
            </term>
            <listitem>
              <para>
                Especificación de opciones por defectos
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-GET-DEFOPT-3">
        <title>Excepciones</title>
        <variablelist>
          <varlistentry>
            <term>
              <errorname>Error de sitáxis</errorname>
            </term>
            <listitem>
              <para>
                Demasiados argumentos.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

    </refsynopsisdiv>

    <refsect1 id="R1-PYGRESQL-GET-DEFOPT-1">
      <title>Descripción</title>
      <para>
        <function>get_defopt()</function> retorna la especificación actual de las 
opciones de conexión por defecto, o nada si las variables de ambiente deben ser usadas.
Las variables de ambientes no serán desbloqueadas.
      </para>
    </refsect1>

  </refentry>

<!-- ********************************************************** -->

  <refentry id="PYGRESQL-SET-DEFOPT">
    <refmeta>
      <refentrytitle>set_defopt</refentrytitle>
      <refmiscinfo>Manejo de conexión PYGRESQL </refmiscinfo>
    </refmeta>
    <refnamediv>
      <refname>set_defopt</refname>
      <refpurpose>Configura la especificación de opciones [DV]</refpurpose>
    </refnamediv>

    <refsynopsisdiv>
<synopsis>
set_defopt(<replaceable>opciones</replaceable>)
</synopsis>

      <refsect2 id="R2-PYGRESQL-SET-DEFOPT-1">
        <title>Parámetros</title>
        <variablelist>
          <varlistentry>
            <term>
              <replaceable>options</replaceable>
            </term>
            <listitem>
              <para>Opciones de la nueva conexión por defecto(string/Nada).</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-SET-DEFOPT-2">
        <title>Tipo de retorno</title>
        <variablelist>
          <varlistentry>
            <term>
              string o Nada
            </term>
            <listitem>
              <para>
                Especificación previa de opciones por defecto.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-SET-DEFOPT-3">
        <title>Excepciones</title>
        <variablelist>
          <varlistentry>
            <term>
              <errorname>Error de tipo</errorname>
            </term>
            <listitem>
              <para>
                Tipo de argumento erróneo o demasiados argumentos.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

    </refsynopsisdiv>

    <refsect1 id="R1-PYGRESQL-SET-DEFOPT-1">
      <title>Descripción</title>
      <para>
        <function>set_defopt()</function> fija el valor de las opciones de conexión por defecto
para nuevas conexiones. Si nada es entregado como parámetro, las variables de ambiente serán 
utilizadas en futuras conexiones. Retorna la configuración previa de las opciones por defecto.
      </para>
    </refsect1>

  </refentry>

<!-- ********************************************************** -->

  <refentry id="PYGRESQL-GET-DEFTTY">
    <refmeta>
      <refentrytitle>get_deftty</refentrytitle>
      <refmiscinfo>Manejo de la conexión PYGRESQL -</refmiscinfo>
    </refmeta>
    <refnamediv>
      <refname>get_deftty</refname>
      <refpurpose> da la especificación de la conexión por por defecto de la terminal de 
depuración [DV]</refpurpose>
    </refnamediv>

    <refsynopsisdiv>
<synopsis>
get_deftty()
</synopsis>

      <refsect2 id="R2-PYGRESQL-GET-DEFTTY-1">
        <title>Parámetros</title>
        <para>
          ninguno
        </para>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-GET-DEFTTY-2">
        <title>Tipo de retorno</title>
        <variablelist>
          <varlistentry>
            <term>
              string o Nada
            </term>
            <listitem>
              <para>
                Especificación de la terminal de depuración por defecto
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-GET-DEFTTY-3">
        <title>Excepciones</title>
        <variablelist>
          <varlistentry>
            <term>
              <errorname>Error de sintaxis</errorname>
            </term>
            <listitem>
              <para>
                Demasiados argumentos.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

    </refsynopsisdiv>

    <refsect1 id="R1-PYGRESQL-GET-DEFTTY-1">
      <title>Descripción</title>
      <para>
        <function>get_deftty()</function> retorna la especificación actual 
de la termninal de depuración por defecto, o nada si las variables de ambiente deben 
ser usadas. Las variables de ambiente no serán desbloqueadas.
      </para>
    </refsect1>

  </refentry>

<!-- ********************************************************** -->

  <refentry id="PYGRESQL-SET-DEFTTY">
    <refmeta>
      <refentrytitle>set_deftty</refentrytitle>
      <refmiscinfo>Manejo de conexión PYGRESQL </refmiscinfo>
    </refmeta>
    <refnamediv>
      <refname>set_deftty</refname>
      <refpurpose>Fija la especificación de la terminal de depuración por defecto [DV]</refpurpose>
    </refnamediv>

    <refsynopsisdiv>
<synopsis>
set_deftty(<replaceable>terminal</replaceable>)
</synopsis>

      <refsect2 id="R2-PYGRESQL-SET-DEFTTY-1">
        <title>Parámetros</title>
        <variablelist>
          <varlistentry>
            <term>
              <replaceable>terminal</replaceable>
            </term>
            <listitem>
              <para>Nueva terminal de depuración por defecto (string/Nada).</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-SET-DEFTTY-2">
        <title>Tipo de retorno</title>
        <variablelist>
          <varlistentry>
            <term>
              string o Nada
            </term>
            <listitem>
              <para>
                Especificación previa de la terminal de depuración por defecto.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-SET-DEFTTY-3">
        <title>Exceptions</title>
        <variablelist>
          <varlistentry>
            <term>
              <errorname>Error de tipo</errorname>
            </term>
            <listitem>
              <para>
                Tipo de argumento erróneo o demasiados argumentos.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

    </refsynopsisdiv>

    <refsect1 id="R1-PYGRESQL-SET-DEFTTY-1">
      <title>Descripción</title>
      <para>
        <function>set_deftty()</function>Fija el valor de la terminal por defecto para nuevas 
conexiones. Si nada es pasado como parámetro, las variables de ambiente serán usadas en futuras
conexiones. Retorna la configuración previa de la terminal por defecto.
      </para>
    </refsect1>

  </refentry>

<!-- ********************************************************** -->

  <refentry id="PYGRESQL-GET-DEFBASE">
    <refmeta>
      <refentrytitle>get_defbase</refentrytitle>
      <refmiscinfo>Manejo de conexión PYGRESQL </refmiscinfo>
    </refmeta>
    <refnamediv>
      <refname>get_defbase</refname>
      <refpurpose>toma la especificación del nombre de la base de datos por defecto[DV]</refpurpose>
    </refnamediv>

    <refsynopsisdiv>
<synopsis>
get_defbase()
</synopsis>

      <refsect2 id="R2-PYGRESQL-GET-DEFBASE-1">
        <title>Parámetros</title>
        <para>
          none
        </para>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-GET-DEFBASE-2">
        <title>Tipo de retorno</title>
        <variablelist>
          <varlistentry>
            <term>
              string o Nada
            </term>
            <listitem>
              <para>
                Especificación del nombre de la base de datos por defecto.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-GET-DEFBASE-3">
        <title>Excepciones</title>
        <variablelist>
          <varlistentry>
            <term>
              <errorname>Error de sintaxis</errorname>
            </term>
            <listitem>
              <para>
                Demasiados argumentos.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

    </refsynopsisdiv>

    <refsect1 id="R1-PYGRESQL-GET-DEFBASE-1">
      <title>Description</title>
      <para>
        <function>get_defbase()</function> retorna la especificación actual del nombre de la 
base de datos por defecto, o nada si las variables de ambiente deber ser usadas. Las variables
de ambiente no serán desbloqueadas.
      </para>
    </refsect1>

  </refentry>

<!-- ********************************************************** -->

  <refentry id="PYGRESQL-SET-DEFBASE">
    <refmeta>
      <refentrytitle>set_defbase</refentrytitle>
      <refmiscinfo>Manejo de conexión PYGRESQL </refmiscinfo>
    </refmeta>
    <refnamediv>
      <refname>set_defbase</refname>
      <refpurpose>Fija la especificación dle nombre de la base de datos por defecto. [DV]</refpurpose>
    </refnamediv>

    <refsynopsisdiv>
<synopsis>
set_defbase(<replaceable>database</replaceable>)
</synopsis>

      <refsect2 id="R2-PYGRESQL-SET-DEFBASE-1">
        <title>Parámetros</title>
        <variablelist>
          <varlistentry>
            <term>
              <replaceable>database</replaceable>
            </term>
            <listitem>
              <para>Nombre de la nueva base de datos por defecto (string/Nada).</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-SET-DEFBASE-2">
        <title>Tipo de retorno</title>
        <variablelist>
          <varlistentry>
            <term>
              string o Nada
            </term>
            <listitem>
              <para>
                Especificación previa del nombre de la base de datos por defecto.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

      <refsect2 id="R2-PYGRESQL-SET-DEFBASE-3">
        <title>Excepciones</title>
        <variablelist>
          <varlistentry>
            <term>
              <errorname>Error de tipo</errorname>
            </term>
            <listitem>
              <para>
                Tipo erróneo de argumento, o demasiados argumentos.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </refsect2>

    </refsynopsisdiv>

    <refsect1 id="R1-PYGRESQL-SET-DEFBASE-1">
      <title>Descripción</title>
      <para>
        <function>set_defbase()</function> fija el nombre de la base de datos por defecto para
nuevas conexiones. Si nada es pasado como parámetro, las variables de ambiente serán usadas en 
futuras conexiones. Retorna la configuración previa del nombre de la base de datos por defecto.
      </para>
    </refsect1>

  </refentry>

 </sect1>

*******Insertar aquí la segunda parte del fichero.
*******Dejar estas líneas para el constructor.
