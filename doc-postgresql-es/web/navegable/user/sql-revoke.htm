<HTML
><HEAD
><TITLE
>   REVOKE
  </TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.54"><LINK
REL="HOME"
TITLE="Manual del usuario de PostgreSQL"
HREF="user.htm"><LINK
REL="UP"
TITLE="Instrucciones SQL"
HREF="sql-commands.htm"><LINK
REL="PREVIOUS"
TITLE="   RESET
  "
HREF="sql-reset.htm"><LINK
REL="NEXT"
TITLE="   ROLLBACK
  "
HREF="sql-rollback.htm"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Manual del usuario de PostgreSQL</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="sql-reset.htm"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="sql-rollback.htm"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="SQL-REVOKE"
>REVOKE</A
></H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN9764"
></A
><H2
>Name</H2
>   REVOKE
  &nbsp;--&nbsp;   Revokes access privilege from a user, a group or all users.
  </DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN9767"
></A
><H2
>Synopsis</H2
><PRE
CLASS="SYNOPSIS"
>REVOKE <TT
CLASS="REPLACEABLE"
><I
>privilege</I
></TT
> [, ...]
    ON <TT
CLASS="REPLACEABLE"
><I
>object</I
></TT
> [, ...]
    FROM { PUBLIC | GROUP <TT
CLASS="REPLACEABLE"
><I
>ER"&#62;g</I
></TT
>BLE&#62; | <TT
CLASS="REPLACEABLE"
><I
>username</I
></TT
> }
  </PRE
><DIV
CLASS="REFSECT2"
><A
NAME="R2-SQL-REVOKE-1"
></A
><H3
>    Inputs
   </H3
><P
>&#13;    <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="REPLACEABLE"
><I
>privilege</I
></TT
></DT
><DD
><P
>	The possible privileges are:

	<P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>SELECT</DT
><DD
><P
>	    Privilege to access all of the columns of a specific
	    table/view.
	   </P
></DD
><DT
>INSERT</DT
><DD
><P
>	    Privilege to insert data into all columns of a
	    specific table.
	   </P
></DD
><DT
>UPDATE</DT
><DD
><P
>	    Privilege to update all columns of a specific
	    table.
	   </P
></DD
><DT
>DELETE</DT
><DD
><P
>	    Privilege to delete rows from a specific table.
	   </P
></DD
><DT
>RULE</DT
><DD
><P
>	    Privilege to define rules on table/view.
	    (See 
	    <A
HREF="sql-createrule.htm#SQL-CREATERULE-TITLE"
><I
>CREATE RULE</I
></A
>).
	   </P
></DD
><DT
>ALL</DT
><DD
><P
>	    Rescind all privileges.
	   </P
></DD
></DL
></DIV
>
       </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>object</I
></TT
></DT
><DD
><P
>	The name of an object from which to revoke access.

	The possible objects are:
	<P
></P
><UL
COMPACT="COMPACT"
><LI
STYLE="list-style-type: disc"
><P
>	   table 
	  </P
></LI
><LI
STYLE="list-style-type: disc"
><P
>	   view 
	  </P
></LI
><LI
STYLE="list-style-type: disc"
><P
>	   sequence
	  </P
></LI
><LI
STYLE="list-style-type: disc"
><P
>	   index
	  </P
></LI
></UL
>
       </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>group</I
></TT
></DT
><DD
><P
>	The name of a group from whom to revoke privileges.
       </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>username</I
></TT
></DT
><DD
><P
>	The name of a user from whom revoke privileges. Use the PUBLIC keyword
	to specify all users.
       </P
></DD
><DT
>PUBLIC</DT
><DD
><P
>	Rescind the specified privilege(s) for all users.
       </P
></DD
></DL
></DIV
>
   </P
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="R2-SQL-REVOKE-2"
></A
><H3
>    Outputs
   </H3
><P
>&#13;    <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="COMPUTEROUTPUT"
>CHANGE
       </TT
></DT
><DD
><P
>	Message returned if successfully.
       </P
></DD
><DT
><TT
CLASS="COMPUTEROUTPUT"
>ERROR
       </TT
></DT
><DD
><P
>	Message returned if object is not available or impossible
	to revoke privileges from a group or users.
       </P
></DD
></DL
></DIV
>
   </P
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="R1-SQL-REVOKE-1"
></A
><H2
>   Description
  </H2
><P
>   <B
CLASS="COMMAND"
>REVOKE</B
> allows creator of an object to revoke permissions granted
   before, from all users (via PUBLIC) or a certain user or group.
  </P
><DIV
CLASS="REFSECT2"
><A
NAME="R2-SQL-REVOKE-3"
></A
><H3
>    Notes
   </H3
><P
>    Refer to psql \z command for further information about permissions 
    on existing objects:

    <PRE
CLASS="PROGRAMLISTING"
>Database    = lusitania
+------------------+---------------------------------------------+
|  Relation        |        Grant/Revoke Permissions             |
+------------------+---------------------------------------------+
| mytable          | {"=rw","miriam=arwR","group todos=rw"}      |
+------------------+---------------------------------------------+
Legend:
     uname=arwR -- privileges granted to a user
     group gname=arwR -- privileges granted to a GROUP
     =arwR -- privileges granted to PUBLIC
		  
     r -- SELECT
     w -- UPDATE/DELETE
     a -- INSERT
     R -- RULE
     arwR -- ALL
    </PRE
>
   </P
><DIV
CLASS="TIP"
><BLOCKQUOTE
CLASS="TIP"
><P
><B
>Tip: </B
>     Currently, to create a GROUP you have to insert 
     data manually into table pg_group as:

     <PRE
CLASS="PROGRAMLISTING"
>INSERT INTO pg_group VALUES ('todos');
CREATE USER miriam IN GROUP todos;
     </PRE
>
    </P
></BLOCKQUOTE
></DIV
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="R1-SQL-REVOKE-2"
></A
><H2
>   Usage
  </H2
><P
>   Revoke insert privilege from all users on table
   <TT
CLASS="LITERAL"
>films</TT
>:

   <PRE
CLASS="PROGRAMLISTING"
>REVOKE INSERT ON films FROM PUBLIC;
  </PRE
>
  </P
><P
>   Revoke all privileges from user <TT
CLASS="LITERAL"
>manuel</TT
> on view <TT
CLASS="LITERAL"
>kinds</TT
>:

   <PRE
CLASS="PROGRAMLISTING"
>  
REVOKE ALL ON kinds FROM manuel;
   </PRE
>
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="R1-SQL-REVOKE-3"
></A
><H2
>   Compatibility
  </H2
><DIV
CLASS="REFSECT2"
><A
NAME="R2-SQL-REVOKE-4"
></A
><H3
>    SQL92
   </H3
><P
>    The SQL92 syntax for <B
CLASS="COMMAND"
>REVOKE</B
>
    has additional capabilities for rescinding
    privileges, including those on individual columns in tables:

    <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><PRE
CLASS="SYNOPSIS"
>REVOKE { SELECT | DELETE | USAGE | ALL PRIVILEGES } [, ...]
    ON <TT
CLASS="REPLACEABLE"
><I
>object</I
></TT
>
    FROM { PUBLIC | <TT
CLASS="REPLACEABLE"
><I
>username</I
></TT
> [, ...] } { RESTRICT | CASCADE }
REVOKE { INSERT | UPDATE | REFERENCES } [, ...] [ ( <TT
CLASS="REPLACEABLE"
><I
>column</I
></TT
> [, ...] ) ]
    ON <TT
CLASS="REPLACEABLE"
><I
>object</I
></TT
>
    FROM { PUBLIC | <TT
CLASS="REPLACEABLE"
><I
>username</I
></TT
> [, ...] } { RESTRICT | CASCADE }
       </PRE
></DT
><DD
><P
>	Refer to
	<A
HREF="sql-grant.htm#SQL-GRANT-TITLE"
><I
>GRANT</I
></A
>
	for details on individual fields.
       </P
></DD
><DT
><PRE
CLASS="SYNOPSIS"
>REVOKE GRANT OPTION FOR <TT
CLASS="REPLACEABLE"
><I
>privilege</I
></TT
> [, ...]
    ON <TT
CLASS="REPLACEABLE"
><I
>object</I
></TT
>
    FROM { PUBLIC | <TT
CLASS="REPLACEABLE"
><I
>username</I
></TT
> [, ...] } { RESTRICT | CASCADE }
       </PRE
></DT
><DD
><P
>	Rescinds authority for a user to grant the specified privilege
	to others.
	Refer to
	<A
HREF="sql-grant.htm#SQL-GRANT-TITLE"
><I
>GRANT</I
></A
>
	for details on individual fields.
       </P
></DD
></DL
></DIV
>
   </P
><P
>    The possible objects are:
    <P
></P
><TABLE
BORDER="0"
><TBODY
><TR
><TD
>      [ TABLE ] table/view
     </TD
></TR
><TR
><TD
>      CHARACTER SET character-set
     </TD
></TR
><TR
><TD
>      COLLATION collation
     </TD
></TR
><TR
><TD
>      TRANSLATION translation
     </TD
></TR
><TR
><TD
>      DOMAIN domain
     </TD
></TR
></TBODY
></TABLE
><P
></P
>
   </P
><P
> 
    If user1 gives a privilege WITH GRANT OPTION to user2,
    and user2 gives it to user3 then user1 can revoke
    this privilege in cascade using the CASCADE keyword.
   </P
><P
>    If user1 gives a privilege WITH GRANT OPTION to user2,
    and user2 gives it to user3 then if user1 try revoke
    this privilege it fails if he/she specify the RESTRICT
    keyword.
   </P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="sql-reset.htm"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="user.htm"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="sql-rollback.htm"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>RESET</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="sql-commands.htm"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>ROLLBACK</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>