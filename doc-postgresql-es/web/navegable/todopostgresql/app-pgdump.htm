<HTML
><HEAD
><TITLE
>   pg_dump
  </TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.54"><LINK
REL="HOME"
TITLE="PostgreSQL"
HREF="postgres.htm"><LINK
REL="UP"
TITLE="Aplicaciones"
HREF="applications.htm"><LINK
REL="PREVIOUS"
TITLE="   pgadmin
  "
HREF="app-pgadmin.htm"><LINK
REL="NEXT"
TITLE="   pg_dumpall
  "
HREF="app-pgdumpall.htm"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PostgreSQL</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="app-pgadmin.htm"
>Anterior</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="app-pgdumpall.htm"
>Siguiente</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="APP-PGDUMP"
><SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
></A
></H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN12176"
></A
><H2
>Nombre</H2
>   <SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
>
  &nbsp;--&nbsp;   Extract a <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
> database into a script file
  </DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN12181"
></A
><H2
>Synopsis</H2
><PRE
CLASS="SYNOPSIS"
>pg_dump [ <TT
CLASS="REPLACEABLE"
><I
>dbname</I
></TT
> ]
pg_dump [ -h <TT
CLASS="REPLACEABLE"
><I
>host</I
></TT
> ] [ -p <TT
CLASS="REPLACEABLE"
><I
>port</I
></TT
> ]
    [ -t <TT
CLASS="REPLACEABLE"
><I
>table</I
></TT
> ]
    [ -a ] [ -c ] [ -d ] [ -D ] [ -n ] [ -N ]
    [ -o ] [ -s ] [ -u ] [ -v ] [ -x ]
    [ <TT
CLASS="REPLACEABLE"
><I
>dbname</I
></TT
> ]
  </PRE
><DIV
CLASS="REFSECT2"
><A
NAME="R2-APP-PG-DUMP-1"
></A
><H3
>    Inputs
   </H3
><P
>    <SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
> accepts the following command
    line arguments:

    <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="REPLACEABLE"
><I
>dbname</I
></TT
></DT
><DD
><P
>	Specifies the name of the database to be extracted.
	<TT
CLASS="REPLACEABLE"
><I
>dbname</I
></TT
>
	defaults to the value of the
	<TT
CLASS="ENVAR"
>USER</TT
>
	environment variable.
       </P
></DD
><DT
>-a</DT
><DD
><P
>	Dump out only the data, no schema (definitions).
       </P
></DD
><DT
>-c</DT
><DD
><P
>	Clean(drop) schema prior to create.
       </P
></DD
><DT
>-d</DT
><DD
><P
>	Dump data as proper insert strings.
       </P
></DD
><DT
>-D</DT
><DD
><P
>	Dump data as inserts with attribute names
       </P
></DD
><DT
>-n</DT
><DD
><P
>	Suppress double quotes around identifiers unless absolutely necessary.
	This may cause trouble loading this dumped data if there are reserved words
	used for identifiers. 
	This was the default behavior in pre-v6.4 <SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
>.
       </P
></DD
><DT
>-N</DT
><DD
><P
>	Include double quotes around identifiers.
	This is the default.
       </P
></DD
><DT
>-o</DT
><DD
><P
>	Dump object identifiers (<SPAN
CLASS="ACRONYM"
>OID</SPAN
>s) for every table.
       </P
></DD
><DT
>-s</DT
><DD
><P
>	Dump out only the schema (definitions), no data.
       </P
></DD
><DT
>-t <TT
CLASS="REPLACEABLE"
><I
>table</I
></TT
></DT
><DD
><P
>	Dump data for <TT
CLASS="REPLACEABLE"
><I
>table</I
></TT
> only.
       </P
></DD
><DT
>-u</DT
><DD
><P
>	Use password authentication. Prompts for username and password.
       </P
></DD
><DT
>-v</DT
><DD
><P
>	Specifies verbose mode
       </P
></DD
><DT
>-x</DT
><DD
><P
>	Prevent dumping of ACLs (grant/revoke commands) and table ownership information.
       </P
></DD
></DL
></DIV
>
   </P
><P
>    <SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
> also accepts 
    the following command line arguments for connection parameters:

    <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>-h <TT
CLASS="REPLACEABLE"
><I
>host</I
></TT
></DT
><DD
><P
>	Specifies the hostname of the machine on which the 
	<SPAN
CLASS="APPLICATION"
>postmaster</SPAN
>
	is running.  Defaults to using a local Unix domain socket
	rather than an IP connection..
       </P
></DD
><DT
>-p <TT
CLASS="REPLACEABLE"
><I
>port</I
></TT
></DT
><DD
><P
>	Specifies the Internet TCP/IP port or local Unix domain socket file 
	extension on which the <SPAN
CLASS="APPLICATION"
>postmaster</SPAN
>
	is listening for connections.  The port number defaults to 5432,
	or the value of the <TT
CLASS="ENVAR"
>PGPORT</TT
>
	environment variable (if set).
       </P
></DD
><DT
>-u</DT
><DD
><P
>	Use password authentication. 
	Prompts for
	<TT
CLASS="REPLACEABLE"
><I
>username</I
></TT
>
	and <TT
CLASS="REPLACEABLE"
><I
>password</I
></TT
>.
       </P
></DD
></DL
></DIV
>
   </P
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="R2-APP-PG-DUMP-2"
></A
><H3
>    Outputs
   </H3
><P
>    <SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
> will create a file or
    write to <TT
CLASS="FILENAME"
>stdout</TT
>.

    <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="COMPUTEROUTPUT"
>Connection to database 'template1' failed.
connectDB() failed: Is the postmaster running and accepting connections
            at 'UNIX Socket' on port '<TT
CLASS="REPLACEABLE"
><I
>port</I
></TT
>'?
       </TT
></DT
><DD
><P
>	<SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
> could not attach to the 
	<SPAN
CLASS="APPLICATION"
>postmaster</SPAN
> 
	process on the specified host and port.  If you see this message,
	ensure that the <SPAN
CLASS="APPLICATION"
>postmaster</SPAN
> 
	is running on the proper host and that you have specified the proper
	port.  If your site uses an authentication system, ensure that you
	have obtained the required authentication credentials.
       </P
></DD
><DT
><TT
CLASS="COMPUTEROUTPUT"
>Connection to database '<TT
CLASS="REPLACEABLE"
><I
>dbname</I
></TT
>' failed.
FATAL 1:  SetUserId: user '<TT
CLASS="REPLACEABLE"
><I
>username</I
></TT
>' is not in 'pg_shadow'
       </TT
></DT
><DD
><P
>	You do not have a valid entry in the relation <TT
CLASS="LITERAL"
>pg_shadow</TT
>
	and and will not be allowed to access <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
>. 
	Contact your <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
> administrator.
       </P
></DD
><DT
><TT
CLASS="COMPUTEROUTPUT"
>dumpSequence(<TT
CLASS="REPLACEABLE"
><I
>table</I
></TT
>): SELECT failed
       </TT
></DT
><DD
><P
>	You do not have permission to read the database.
	Contact your <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
> site administrator.
       </P
></DD
></DL
></DIV
>
   </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Nota: </B
>     <SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
> internally executes
     <B
CLASS="COMMAND"
>SELECT</B
> statements. If you have problems running
     <SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
>,
     make sure you are able to select information from the database using, for
     example, <SPAN
CLASS="APPLICATION"
>psql</SPAN
>.
    </P
></BLOCKQUOTE
></DIV
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="R1-APP-PG-DUMP-1"
></A
><H2
>   Description
  </H2
><P
>   <SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
> is a utility for dumping out a 
   <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
> database into a script file
   containing query commands.  The script
   files are in text format and can be used to reconstruct the database,
   even on other machines and other architectures.  
   <SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
> 
   will produce the queries necessary to re-generate all
   user-defined types, functions, tables, indices, aggregates, and
   operators.  In addition, all the data is copied out in text format so
   that it can be readily copied in again, as well as imported into tools
   for editing.
  </P
><P
>   <SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
> 
   is useful for dumping out the contents of a database to move from one
   <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
> installation to another.  After running 
   <SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
>,
   one should examine the output script file for any warnings, especially
   in light of the limitations listed below. 
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="R1-APP-PG-DUMP-2"
></A
><H2
>   Notes
  </H2
><P
>   <SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
> has a few limitations.
   The limitations mostly stem from
   difficulty in extracting certain meta-information from the system
   catalogs.

   <P
></P
><UL
><LI
><P
>      <SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
> 
      does not understand partial indices. The reason is
      the same as above; partial index predicates are stored as plans.
     </P
></LI
><LI
><P
>      <SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
> does not handle large objects.
      Large objects are ignored and must be dealt with manually. 
     </P
></LI
></UL
>
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="R1-APP-PG-DUMP-3"
></A
><H2
>   Usage
  </H2
><P
>   To dump a database of the same name as the user:

   <PRE
CLASS="PROGRAMLISTING"
>% pg_dump &#62; db.out
   </PRE
>
  </P
><P
>   To reload this database:

   <PRE
CLASS="PROGRAMLISTING"
>% psql -e database &#60; db.out
   </PRE
>
  </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="app-pgadmin.htm"
>Anterior</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="postgres.htm"
>Inicio</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="app-pgdumpall.htm"
>Siguiente</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><SPAN
CLASS="APPLICATION"
>pgadmin</SPAN
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="applications.htm"
>Subir</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><SPAN
CLASS="APPLICATION"
>pg_dumpall</SPAN
></TD
></TR
></TABLE
></DIV
></BODY
></HTML
>