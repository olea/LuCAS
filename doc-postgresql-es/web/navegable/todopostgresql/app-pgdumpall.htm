<HTML
><HEAD
><TITLE
>   pg_dumpall
  </TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.54"><LINK
REL="HOME"
TITLE="PostgreSQL"
HREF="postgres.htm"><LINK
REL="UP"
TITLE="Aplicaciones"
HREF="applications.htm"><LINK
REL="PREVIOUS"
TITLE="   pg_dump
  "
HREF="app-pgdump.htm"><LINK
REL="NEXT"
TITLE="        psql
    "
HREF="app-psql.htm"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PostgreSQL</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="app-pgdump.htm"
>Anterior</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="app-psql.htm"
>Siguiente</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="APP-PGDUMPALL"
><SPAN
CLASS="APPLICATION"
>pg_dumpall</SPAN
></A
></H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN12356"
></A
><H2
>Nombre</H2
>   <SPAN
CLASS="APPLICATION"
>pg_dumpall</SPAN
>
  &nbsp;--&nbsp;   Extrae todas las bases de datos <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
> en un archivo de script
  </DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN12361"
></A
><H2
>Synopsis</H2
><PRE
CLASS="SYNOPSIS"
>pg_dumpall
pg_dumpall [ -h <TT
CLASS="REPLACEABLE"
><I
>máquina</I
></TT
> ] [ -p <TT
CLASS="REPLACEABLE"
><I
>puerto</I
></TT
> ] [ -a ] [ -d ] [ -D ] [ -O ] [ -s ] [ -u ] [ -v ] [ -x ]
  </PRE
><DIV
CLASS="REFSECT2"
><A
NAME="R2-APP-PG-DUMPALL-1"
></A
><H3
>    Entradas
   </H3
><P
>    <SPAN
CLASS="APPLICATION"
>pg_dumpall</SPAN
> acepta los siguientes argumentos de la línea de órdenes:

    <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>-a</DT
><DD
><P
>        Vuelca sólo los datos, no el esquema (las definiciones).
       </P
></DD
><DT
>-d</DT
><DD
><P
>        Vuelca los datos como inserciones de cadenas adecuadas.
       </P
></DD
><DT
>-D</DT
><DD
><P
>        Vuelca los datos como inserciones con nombres de atributos
       </P
></DD
><DT
>-n</DT
><DD
><P
>        Suprime las dobles comillas de los identificadores, a menos que sean absolutamente necesarias.
        Esto puede causar problemas al cargar estos datos volcados si hay palabras reservadas usadas como identificadores.
       </P
></DD
><DT
>-o</DT
><DD
><P
>        Vuelca los identificadores de objetos (<SPAN
CLASS="ACRONYM"
>OID</SPAN
>s) de cada tabla.
       </P
></DD
><DT
>-s</DT
><DD
><P
>        Vuelca sólo el esquema (las definiciones), no los datos.
       </P
></DD
><DT
>-u</DT
><DD
><P
>        Usa autenticación con clave de acceso. Pide un nombre de usuario y una clave de acceso.
       </P
></DD
><DT
>-v</DT
><DD
><P
>        Especifíca el modo verbose (detallado)
       </P
></DD
><DT
>-x</DT
><DD
><P
>        Evita el volcado de ACLs (órdenes grant/revoke) e información del propietario de la tabla.
       </P
></DD
></DL
></DIV
>
   </P
><P
>    <SPAN
CLASS="APPLICATION"
>pg_dumpall</SPAN
> también acepta
    los siguientes argumentos en la línea de órdenes como parámetros de conexión:

    <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>-h <TT
CLASS="REPLACEABLE"
><I
>huésped</I
></TT
></DT
><DD
><P
>        específica el nombre de la máquina en la cual se está ejecutando
        <SPAN
CLASS="APPLICATION"
>postmaster</SPAN
>.
        El estándar es usar un socket de dominio local Unix
        en vez de una conexión IP.
       </P
></DD
><DT
>-p <TT
CLASS="REPLACEABLE"
><I
>puerto</I
></TT
></DT
><DD
><P
>        Específica el puerto Internet TCP/IP o el fichero de dominio local Unix
        en el cual esté <SPAN
CLASS="APPLICATION"
>postmaster</SPAN
>
        aguardando conexiones. El número estándar de puerto es 5432,
        o el valor de la variable de entorno <TT
CLASS="ENVAR"
>PGPORT</TT
>
        (si se ha indicado).
       </P
></DD
><DT
>-u</DT
><DD
><P
>        Usa autenticación con clave de acceso.
        Pide <TT
CLASS="REPLACEABLE"
><I
>nombre_de_usuario</I
></TT
>
        y <TT
CLASS="REPLACEABLE"
><I
>clave_de_acceso</I
></TT
>.
       </P
></DD
></DL
></DIV
>
   </P
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="R2-APP-PG-DUMPALL-2"
></A
><H3
>    Salida
   </H3
><P
>    <SPAN
CLASS="APPLICATION"
>pg_dumpall</SPAN
> creará un fichero o
    escribirá a <TT
CLASS="FILENAME"
>stdout</TT
>.

    <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="COMPUTEROUTPUT"
>La conexión a la base de datos 'template1' falló.
connectDB() falló: ¿Está postmaster ejecutándose y aceptando conexiones en el 'Socket UNIX' en el puerto '<TT
CLASS="REPLACEABLE"
><I
>puerto</I
></TT
>'?
       </TT
></DT
><DD
><P
>        <SPAN
CLASS="APPLICATION"
>pg_dumpall</SPAN
> no pudo unirse al proceso
        <SPAN
CLASS="APPLICATION"
>postmaster</SPAN
>
        en la máquina y puerto especificados. Si ve usted este mensaje,
        verifique que <SPAN
CLASS="APPLICATION"
>postmaster</SPAN
>
        esté ejecutándose correctamente en el huésped y puerto que
        usted especificó.

        Si su lugar de trabajo usa algún sistema de autenticación verifique
        que usted ha obtenido las credenciales de autenticación.
       </P
></DD
><DT
><TT
CLASS="COMPUTEROUTPUT"
>La conexión a la base de datos '<TT
CLASS="REPLACEABLE"
><I
>base_de_datos</I
></TT
>' falló.
FATAL 1:  SetUserId: el usuario '<TT
CLASS="REPLACEABLE"
><I
>nombre_de_usuario</I
></TT
>' no está en 'pg_shadow'
       </TT
></DT
><DD
><P
>        Usted no tiene una entrada válida en la relación <TT
CLASS="LITERAL"
>pg_shadow</TT
> y no le será permitido el acceso a <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
>.
        Contacte con su administrador <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
>.
       </P
></DD
><DT
><TT
CLASS="COMPUTEROUTPUT"
>dumpSequence(<TT
CLASS="REPLACEABLE"
><I
>tabla</I
></TT
>): SELECT falló
       </TT
></DT
><DD
><P
>        No tiene permiso para leer la base de datos.
        Contacte a su administrador <SPAN
CLASS="PRODUCTNAME"
>Postgres</SPAN
>.
       </P
></DD
></DL
></DIV
>
   </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Nota: </B
>     <SPAN
CLASS="APPLICATION"
>pg_dumpall</SPAN
> ejecuta internamente directivas
     <B
CLASS="COMMAND"
>SELECT</B
>. Si tiene problemas ejecutando
     <SPAN
CLASS="APPLICATION"
>pg_dumpall</SPAN
>,
     asegúrese de que puede consultar información de la base de datos
     usando, por ejemplo, <SPAN
CLASS="APPLICATION"
>psql</SPAN
>.
    </P
></BLOCKQUOTE
></DIV
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="R1-APP-PG-DUMPALL-1"
></A
><H2
>   Descripción
  </H2
><P
>   <SPAN
CLASS="APPLICATION"
>pg_dumpall</SPAN
> se diseñó para volcar todas las
   bases de datos Postgres en un fichero. También vuelca la tabla pg_shadow,
   la cual es global para todas las bases de datos.
   <SPAN
CLASS="APPLICATION"
>pg_dumpall</SPAN
> incluye en este archivo las
   órdenes correctas para crear automáticamente cada una de las bases de
   datos volcadas antes de cargar los datos.
  </P
><P
>   <SPAN
CLASS="APPLICATION"
>pg_dumpall</SPAN
> toma todas las opciones de
   <SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
> pero <TT
CLASS="OPTION"
>-f</TT
>,
   <TT
CLASS="OPTION"
>-t</TT
> y
   <TT
CLASS="REPLACEABLE"
><I
>base_de_datos</I
></TT
>
   deberían ser omitidos.
  </P
><P
>   Refiérase a
   <A
HREF="app-pgdump.htm#APP-PGDUMP-TITLE"
><I
><I
>pg_dump</I
></I
></A
>
   para más información con respecto a esta otra utilidad.
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="R1-APP-PG-DUMPALL-2"
></A
><H2
>   Uso
  </H2
><P
>   Para volcar todas las bases de datos:

   <PRE
CLASS="PROGRAMLISTING"
>% pg_dumpall &#62; db.out
   </PRE
>

   <DIV
CLASS="TIP"
><BLOCKQUOTE
CLASS="TIP"
><P
><B
>Sugerencia: </B
>     Puede usar la mayoría de las opciones de <SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
>
     con <SPAN
CLASS="APPLICATION"
>pg_dumpall</SPAN
>.
    </P
></BLOCKQUOTE
></DIV
>
  </P
><P
>   Para volver a cargar esta base de datos:

   <PRE
CLASS="PROGRAMLISTING"
>% psql -e template1 &#60; db.out
   </PRE
>
  </P
><DIV
CLASS="TIP"
><BLOCKQUOTE
CLASS="TIP"
><P
><B
>Sugerencia: </B
>    Puede usar la mayoría de las opciones de <SPAN
CLASS="APPLICATION"
>psql</SPAN
>
    cuando vuelva a cargarlas.
   </P
></BLOCKQUOTE
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="app-pgdump.htm"
>Anterior</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="postgres.htm"
>Inicio</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="app-psql.htm"
>Siguiente</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="applications.htm"
>Subir</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><SPAN
CLASS="APPLICATION"
>psql</SPAN
></TD
></TR
></TABLE
></DIV
></BODY
></HTML
>