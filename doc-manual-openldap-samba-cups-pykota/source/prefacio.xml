<?xml version="1.0" encoding="ISO-8859-1" ?>

<preface id="prefacio">
	<title>Prefacio</title>

<sect1 id="prefacio-intro">
	<title>introducción</title>

<para>Está leyendo un documento sobre la integración de las tecnologías OpenLDAP,
Samba, <acronym>CUPS</acronym> y PyKota en un sistema Debian <acronym>GNU</acronym>/Linux.
Por si no tiene conocimiento de qué realizan cada una de estas tecnologías, de forma
muy resumida, se muestra a continuación:</para>

<itemizedlist mark="fillcircle">
	<listitem>
		<formalpara>
			<title>OpenLDAP</title>

			<para>es una implementación <emphasis>open source</emphasis>
			del protocolo <acronym>LDAP</acronym> (<emphasis>Lightweight Directory
			Access Protocol</emphasis>).</para>
		</formalpara>
	</listitem>
	<listitem>
		<formalpara>
			<title>Samba</title>

			<para>es una suite que permite la interconexión, a través de la red,
			de sistemas Windows, Unix y otros sistemas operativos, haciendo uso
			de los protocolos de red nativos de Windows.</para>
		</formalpara>
	</listitem>
	<listitem>
		<formalpara>
			<title><acronym>CUPS</acronym></title>

			<para>acrónimo de <emphasis>Common Unix Printing System</emphasis>,
			es un sistema de impresión portable y extensible para Unix.</para>
		</formalpara>
	</listitem>
	<listitem>
		<formalpara>
			<title>PyKota</title>

			<para>PyKota es una aplicación <acronym>GPL</acronym> para dar soporte
			de cuotas de impresión a <acronym>CUPS</acronym> y <acronym>LPRng</acronym>
			(LPR Next Generation) en sistemas <acronym>GNU</acronym>/Linux y similares a Unix.</para>
		</formalpara>
	</listitem>
</itemizedlist>

<para>Si alguna vez ha tenido que realizar labores de administración en redes heterogéneas,
en las cuales existan múltiples clientes, y cada uno de ellos pueda tener un sistema operativo
distinto, sobre el cual puedan operar una infinidad de usuarios; se habrá dado cuenta
de la complejidad que esto conlleva. Por poner un simple ejemplo, si no posee una base
de datos de usuarios común a todos los clientes, tendría que dar de alta a cada
nuevo cliente en cada una de las máquinas que quisiese utilizar. Piense ahora que ocurriría
si, por un cambio de política de su empresa, se tenga que modificar cierto aspecto
en todas las cuentas de los usuarios existentes...</para>

<para>Si entramos en la compartición de archivos entre los distintos usuarios,
o el almacenamiento de los documentos de un determinado usuario, que puede utilizar múltiples
clientes, la cosa se complica. Y si a todo esto se le añade la gestión de las cuotas
de impresión de todos y cada uno de los usuarios, se hace necesario buscar un
método que facilite, en la medida de lo posible, la labor de administración.</para>

<para>Este documento intenta presentar un método para facilitar la integración
de este tipo de redes. La idea es utilizar un directorio <acronym>LDAP</acronym>
como base de datos común para almacenar la información relativa a los usuarios
(bien sea la información personal, la relativa a las cuentas Unix,
la relativa a las cuentas Samba/Windows o bien las cuotas de impresión
asociadas a un usuario o grupo de usuarios).</para>

<para>Samba proveerá la integración de redes Unix/Windows, de forma que se simplifique
sobremanera el intercambio y almacenamiento de información de los usuarios. Samba
permitirá, por ejemplo, tener un único <emphasis>HOME</emphasis> por usuario, independientemente
del cliente que se utilice. También actuará como <acronym>PDC</acronym>
(Servidor Primario de Dominio) de la red donde se encuentre, entre otras cosas.</para>

<para>Con <acronym>CUPS</acronym> y PyKota se implementará el sistema de impresión
con soporte para cuotas. Y si a estas dos herramientas se las integra con
Samba y <acronym>LDAP</acronym>, se estará posibilitando la impresión
y el control de impresión a todos los usuarios, independientemente del
sistema operativo utilizado.</para>
</sect1>

<sect1 id="prefacio-organizacion">
	<title>Organización</title>

	<para>Este documento está organizado, principalmente, en 5 grandes bloques:
	la parte dedicada a OpenLDAP, la parte dedicada a Samba, la parte dedicada
	a <acronym>CUPS</acronym>, la parte dedicada a PyKota y los apéndices.</para>

	<para>A continuación se verá una breve descripción para cada una de estas partes:</para>

	<sect2 id="prefacio-organizacion-openldap">
		<title>OpenLDAP</title>

		<para>Este apartado (<xref linkend="openldap-parte"/>) está formado por 5 capítulos:</para>

		<itemizedlist mark="fillcircle">
			<listitem>
				<para><xref linkend="openldap-conceptos-teoricos"/>: capítulo introductorio al
				protocolo <acronym>LDAP</acronym> y su funcionamiento, así como la descripción
				de los demonios <command>slapd</command> y <command>slurpd</command>,
				pertenecientes al proyecto OpenLDAP. Finalmente se proporciona
				información relativa al proyecto OpenLDAP.</para>
			</listitem>
			<listitem>
				<para><xref linkend="openldap-instalacion-openldap"/>: la instalación
				de OpenLDAP, la ejecución del demonio <application>slapd</application>
				y la conexión con el servidor <acronym>LDAP</acronym>, son los temas
				tratados en este capítulo.</para>
			</listitem>
			<listitem>
				<para><xref linkend="openldap-configuracion-openldap"/>: primeras
				modificaciones realizadas sobre la instalación de OpenLDAP:
				cambio de usuario de ejecución para el demonio <application>slapd</application>,
				especificación de las interfaces donde escuchar y permisos
				que debería tener los archivos de configuración.</para>
			</listitem>
			<listitem>
				<para><xref linkend="openldap-certificados-openldap"/>: la conexión segura
				con el servidor OpenLDAP se trata en este capítulo, que va desde la creación
				de los certificados, pasando por la configuración de OpenLDAP para
				que soporte conexiones cifradas, para finalizar con una serie de pruebas
				sobre el sistema.</para>
			</listitem>
			<listitem>
				<para><xref linkend="openldap-autentificacion-usuarios"/>: modificaciones y
				software necesario para que un sistema Unix permita la autentificación
				de usuarios a partir de un directorio <acronym>LDAP</acronym>.</para>
			</listitem>
		</itemizedlist>
	</sect2>

	<sect2 id="prefacio-organizacion-samba">
		<title>Samba</title>

		<para>Este apartado (<xref linkend="samba-parte"/>) está formado por 7 capítulos:</para>

		<itemizedlist mark="fillcircle">
			<listitem>
				<para><xref linkend="samba-conceptos-teoricos"/>: capítulo que describe, en
				primer lugar las capacidades de Samba, luego describe los aspectos más
				importantes de las redes <acronym>SMB</acronym>/<acronym>CIFS y
				dominios de Windows, para finalizar con un breve informe sobre
				el proyecto Samba.</acronym></para>
			</listitem>
			<listitem>
				<para><xref linkend="samba-instalacion-samba"/>. Instalación de los paquetes
				necesarios para la ejecución de un servidor Samba.</para>
			</listitem>
			<listitem>
				<para><xref linkend="samba-ajustes-ldap"/>. Breve capítulo dedicado a
				las modificaciones que se han de realizar en la configuración de
				OpenLDAP, para que Samba pueda hacer uso de dicho directorio
				para el almacén de su información relativa.</para>
			</listitem>
			<listitem>
				<para><xref linkend="samba-configuracion-samba"/>. Inicialmente explica
				la estructura de un archivo de configuración para Samba, para terminar con
				un repaso por las principales opciones de configuración de Samba, relacionadas
				con los objetivos de esta documentación.</para>
			</listitem>
			<listitem>
				<para><xref linkend="samba-ajustes-finales-sistema"/>. Modificaciones finales
				sobre la configuración de OpenLDAP y sobre el sistema que aloja a Samba.</para>
			</listitem>
			<listitem>
				<para><xref linkend="samba-comprobacion"/>, en este capítulo se hacen una
				serie de pruebas al sistema. Estas consisten en la verificación del
				archivo de configuración de Samba, la creación de un nuevo usuario
				y verificación de acceso al sistema con el nuevo usuario.</para>
			</listitem>
			<listitem>
				<para><xref linkend="samba-aniadiendo-clientes-dominio"/>. Este capítulo explica
				el proceso que se ha de seguir para añadir clientes Windows 95/98/ME, Windows
				NT, Windows 2000 y Windows XP al dominio de Samba.</para>
			</listitem>
		</itemizedlist>
	</sect2>

	<sect2 id="prefacio-organizacion-cups">
		<title><acronym>CUPS</acronym></title>

		<para>Este apartado (<xref linkend="cups-parte"/>) está formado por 3 capítulos:</para>

		<itemizedlist mark="fillcircle">
			<listitem>
				<para><xref linkend="cups-conceptos-teoricos"/>: capítulo que hace un
				breve recorrido por la historia de <acronym>CUPS</acronym>, explicando
				seguidamente las características del diseño de este sistema de
				impresión para finalizar con un breve informe sobre el
				proyecto <acronym>CUPS</acronym>.</para>
			</listitem>
			<listitem>
				<para><xref linkend="cups-instalacion"/>. La instalación de <acronym>CUPS</acronym>
				comienza con un análisis y selección de los paquetes existentes en Debian,
				seguido de la instalación de los paquetes seleccionados.</para>
			</listitem>
			<listitem>
				<para><xref linkend="cups-configuracion"/>. Aquí se realiza la configuración
				de <acronym>CUPS</acronym>, preparándolo para el soporte de OpenLDAP,
				creando nuevas impresoras e instalando los drivers necesarios para
				los clientes Windows.</para>
			</listitem>
		</itemizedlist>
	</sect2>

	<sect2 id="prefacio-organizacion-pykota">
		<title>PyKota</title>

		<para>Este apartado (<xref linkend="pykota-parte"/>) está formado por 8 capítulos:</para>

		<itemizedlist mark="fillcircle">
			<listitem>
				<para><xref linkend="pykota-vision-general"/>: capítulo que muestra, inicialmente,
				una comparativa con otros sistemas de control de cuotas de impresión. Luego
				repasa las características y funcionalidades de PyKota para terminar con
				un breve informe sobre el proyecto PyKota.</para>
			</listitem>
			<listitem>
				<para><xref linkend="pykota-obtencion"/>. Este capítulo muestra el proceso que
				se ha de seguir para obtener un un paquete <emphasis>deb</emphasis>
				de PyKota, a partir de su código fuente.</para>
			</listitem>
			<listitem>
				<para><xref linkend="pykota-instalacion"/>. Instalación del paquete
				<emphasis>deb</emphasis> de PyKota.</para>
			</listitem>
			<listitem>
				<para><xref linkend="pykota-retoques-iniciales"/>: retoques realizados
				en la configuración de OpenLDAP para que soporte el almacenamiento
				de los datos de PyKota.</para>
			</listitem>
			<listitem>
				<para><xref linkend="pykota-configuracion"/>. Breve repaso sobre los aspectos
				más importantes para la configuración de PyKota.</para>
			</listitem>
			<listitem>
				<para><xref linkend="pykota-modificaciones-cups"/>. Modificaciones realizadas
				en <acronym>CUPS</acronym> para el soporte de cuotas de impresión con
				PyKota.</para>
			</listitem>
			<listitem>
				<para><xref linkend="pykota-estableciendo-cuotas"/>. Aquí se establecen
				los precios de impresión así como las cuotas de los usuarios.</para>
			</listitem>
			<listitem>
				<para><xref linkend="pykota-probando"/>: capítulo en el que se realiza
				una prueba sobre el sistema de cuotas de impresión.</para>
			</listitem>
		</itemizedlist>
	</sect2>

	<sect2 id="prefacio-organizacion-apendices">
		<title>Apéndices</title>

		<para>Este apartado está formado por 4 grupos de apéndices:</para>

		<itemizedlist mark="fillcircle">
			<listitem>
				<para><xref linkend="apendice-otros-archivos"/>, en este apéndice se tratan
				temas adicionales a la documentación, como funcionalidades extra o distintas
				a las mostradas en la documentación, como instalar determinado software o
				la disponibilidad de los scripts utilizados para la realización de
				esta documentación, entre otras cosas.</para>
			</listitem>
			<listitem>
				<para><xref linkend="apendice-archivos-configuracion"/>, aquí se pueden
				encontrar los archivos de configuración más importantes de las aplicaciones
				empleadas en esta documentación.</para>
			</listitem>
			<listitem>
				<para><xref linkend="apendice-de-licencias"/>, licencias relacionadas,
				de alguna manera, con el software utilizado para la realización de
				esta documentación, así como la licencia de la documentación en sí.</para>
			</listitem>
			<listitem>
				<para><xref linkend="apendice-de-copyrights"/>, información sobre los derechos
				de copia de los distintos programas utilizados para la generación de esta
				documentación.</para>
			</listitem>
		</itemizedlist>
	</sect2>
</sect1>

<sect1 id="prefacio-convenciones">
	<title>Convenciones utilizadas en esta documentación</title>


	<para>Las siguientes convenciones de texto se utilizan a lo largo de todo el documento:</para>

	<para><filename>nombre-de-un-archivo</filename>: representa el nombre de un archivo.</para>

	<para><filename class="directory">nombre-de-un-directorio</filename>: representa el
	nombre de un directorio.</para>

	<para><application>nombre-aplicacion</application>: indica el nombre de una
	aplicación.</para>

	<para><command>orden</command>: indica el nombre de una orden, o la ejecución
	de una orden con algunos parámetros asociados.</para>

	<para><emphasis>cursiva</emphasis>: todo aquel texto que por alguna razón necesita
	ser remarcado sobre el resto, bien sea por ser un anglicismos, bien por
	ser el nombre de un usuario del sistema.</para>

	<para><quote>texto-entre-comillas</quote>: todo aquel texto que por alguna razón necesita
	ser remarcado sobre el resto, bien sea por ser un anglicismos, bien por
	ser el nombre de un usuario del sistema.</para>

	<para><acronym>ACRÓNIMO</acronym>: palabra que representa un acrónimo.</para>

	<para><keycombo action='simul'><keycap>Alt</keycap><keycap>F2</keycap></keycombo>: indica
	la pulsación simultánea de las teclas <emphasis>Alt</emphasis> y <emphasis>F2</emphasis>.</para>

<programlisting><co id="co-ejemplo-uso"/>: resalta una parte de un texto, que posteriormente
  tendrá una breve explicación.</programlisting>

	<blockquote><para>Bloque de texto, utilizado para resaltar en algún momento un trozo
	de texto.</para></blockquote>

	<note><para>Indica un apunte sobre el tema que se esté tratando cerca de este texto.</para></note>

	<tip><para>Sugiere algo relativo al texto cercano.</para></tip>

	<important><para>Informa de algo a tener en cuenta con respecto al texto cercano.</para></important>

	<warning><para>Advierte algo relativo al texto cercano.</para></warning>

<screen><prompt>$</prompt>      <lineannotation>-> prompt del sistema, en este caso representa
          la ejecución de código como un usuario
          cualquiera del sistema, no el usuario root.</lineannotation></screen>

<screen><prompt>#</prompt>      <lineannotation>-> prompt del sistema, en este caso representa
          la ejecución de código como el usuario root.</lineannotation></screen>

<screen><userinput>/usr/bin/tree -L 1 /</userinput>    <lineannotation>-> Representa las órdenes
                         tecleadas por el usuario.</lineannotation></screen>

<screen><computeroutput>/
|-- bin
|-- boot
|-- cdrom -> media/cdrom
|-- dev
|-- etc
|-- home
|-- initrd
|-- lib
|-- lib64
|-- media
|-- mnt
|-- nonexistent
|-- opt
|-- proc
|-- root
|-- sbin
|-- srv
|-- sys
|-- tmp
|-- usr
|-- var
|-- vmlinuz -> boot/vmlinuz-2.6.8.1-01
`-- vmlinuz.old -> boot/vmlinuz-2.6.7-1-386

21 directories, 2 files</computeroutput>    <lineannotation>-> Representa la salida del ordenador,
                           tras la ejecución de una orden por
                           parte de un usuario.</lineannotation></screen>

	<example>
		<title>Ejemplo de ejemplo</title>

		<para>Muestra un ejemplo sobre algún tema determinado.</para>
	</example>

<programlisting> * Listado de código
 * Ejemplos de archivos de configuración
 * etc.</programlisting>
</sect1>

<sect1 id="prefacio-agradecimientos">
	<title>Agradecimientos</title>

	<para>Los primeros pensamientos y agradecimientos van dirigidos a todos y cada uno de los desarrolladores
	que han hecho posible que el software utilizado para realizar esta documentación exista.</para>

	<para>Tampoco hay que olvidar a las dos personas que han hecho que esta documentación se llevase a
	cabo:</para>

	<itemizedlist>
		<listitem>
			<para>
				<ulink url="http://www.ipb.pt/~rlopes/">Rui Pedro Lopes</ulink> <email>rlopes (en) ipb (punto) pt</email>
			</para>
		</listitem>
		<listitem>
			<para><ulink url="http://www.ipb.pt/~nuno/">Nuno Gonçalves Rodrigues</ulink>
			<email>nuno (en) ipb (punto) pt</email></para>
		</listitem>
	</itemizedlist>

	<para>La siguiente lista, muestra aquellas personas que de alguna u otra forma, han participado en la
	realización de esta documentación. El orden utilizado para la presentación es completamente aleatorio.</para>

	<itemizedlist>
		<listitem>
			<para>
				Juan Sierra Pons <email>juansierrapons (en) yahoo (punto) es</email>
				(<emphasis>Sugerencia para indicar el orden de los esquemas en el
				<xref linkend="samba-ajustes-ldap"/>.</emphasis>)
			</para>
		</listitem>
		<listitem>
			<para>Juan José Muñoz Martín <email>juanjo.munoz (en) yecla (punto) es</email>
			(<emphasis>Gracias a sus correos, aclaración de ciertos aspectos en el
			<xref linkend="openldap-certificados-openldap"/></emphasis>)</para>
		</listitem>
	</itemizedlist>

</sect1>
</preface>

