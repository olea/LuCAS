\porcion{El comando \comando{while}}
\autor{\NC}
\colaborador{}
\revisor{}
\traductor{}

El comando \comando{test} se utiliza cuando se itera con
el comando \comando{while}. En este comando es muy útil la
comparación de valores. 

\comando{test} puede comparar números al igual que cadenas de caracteres.

\begin{vscreen}
while [ ${CANT_USUARIOS} -le 1 ] 
do
  echo Todavia no hay suficientes jugadores
  sleep 1
done
echo Ahora hay más de 1 usuario
\end{vscreen}
%$

Este ejemplo comprueba si la variable CANT\_USUARIOS es menor o 
igual ({\tt -le} significa  \emph{less or equal} en inglés) a uno; de ser así,
repite cada 1 segundo, <<{\tt Todavía no hay suficientes jugadores}>>.
En cuanto la cantidad de usuarios sea mayor a 1 sale del ciclo.

También es posible hacer un ciclo infinito utilizando \comando{test}
(o bien llamado \comando{[}) para que devuelva siempre verdadero (con
\comando{[ 1 ]}). Se recomienda usar el comando \comando{true} que 
devuelve un código de salida exitoso (cero) y el \comando{while} no termina 
a menos que se le envíe una señal con \boton{Ctrl-C}.

\begin{vscreen}
while true
do
  clear
  mailq
  sleep 2
done
\end{vscreen}

Este simple algoritmo muestra el contenido de la <<bandeja de salida>> de
\comando{sendmail} cada 2 segundos. Vemos que con pocos conocimientos en
\comando{bash} se pueden lograr infinidad de cosas.

