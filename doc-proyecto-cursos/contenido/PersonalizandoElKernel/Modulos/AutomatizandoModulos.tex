\porcion{Automatizando un poco mas los módulos}
\autor{\LDP}
\colaborador{\NC}
\revisor{}
\traductor{}

\emph{Configuraciones en \archivo{/etc/modules.conf}}
Como estamos operando frente a una máquina trataremos de automatizar
lo más posible las tareas rutinarias. Se supone que los cambios de
configuración en el hardware se hacen infrecuentemente. Entonces los 
parámetros en la carga de módulos es siempre la misma.

La gran mayoría de los módulos auto detectan su configuración, pero en
ciertas ocasiones hay que parametrizarla.  Una alternativa poco
elegante sería crear un script que cargue al módulo con los parámetros
correspondientes. Pero se vuelve engorroso tener un script por módulo.

En reemplazo a eso, los comandos
\comando{insmod} y \comando{rmmod} utilizan una archivo de configuración:
\archivo{/etc/modules.conf}.

Este archivo puede contener una línea del estilo
\begin{vscreen}
option nombre-modulo opt-1 [opt-2 .. opt-n] 
\end{vscreen}

Donde {\tt opt-1}, {\tt opt-2}, etc. son las opciones o parámetros del
módulo. 

Una configuración interesante es la creación de sobrenombre o
\emph{alias} a los módulos. Sirve para no tener que recordar nombres
como {\tt via82cxxx\_audio} y en reemplazo usar {\tt placa\_sonido} por
ejemplo. Su sintaxis es:

\begin{vscreen}
alias sobre-nombre nombre-modulo
\end{vscreen}

Algunos scripts de configuración del sistema tienen palabras definidas
para cargar los módulos correspondientes y que el usuario edite
\archivo{/etc/modules.conf} y asigne el modulo.

Un ejemplo clásico sería:

\begin{vscreen}
alias sound sb
alias eth0 ne2k-pci
\end{vscreen}

que asigna el seudónimo {\tt sound} a un módulo de \emph{Sound Blaster} y
{\tt eth0}\footnote{Corresponde a la primera placa de red Ethernet} al
módulo {\tt ne2k-pci} para la placa de red.

\emph{Auto cargado de módulos}
A medida que se utilizaban los módulos, era conveniente tener una
utilidad que cargue el o los módulos necesarios para hacer una tarea.
Esta utilidad está contenida en el núcleo, se llama {\tt kmod} y se
configura en

\emph{Loadable Module Suport} $\rightarrow$ 
\emph{Enable Loadable Module Support} $\rightarrow$ 
\emph{Kernel Module Loader}.

Con sólo incluir eso, prácticamente no hay que cargar <<a mano>> ni
ningún módulo.
